<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Akka Persistence"><title>akka_persistence_rs - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="akka_persistence_rs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0 (cc66ad468 2023-10-03)" data-channel="1.73.0" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-1596385f77d47ef2.css" data-theme-dark-css="dark-0a43001d3fc2282c.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-1596385f77d47ef2.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-0a43001d3fc2282c.css"><link rel="stylesheet" href="../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../akka_persistence_rs/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../akka_persistence_rs/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate akka_persistence_rs</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.6.1</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">akka_persistence_rs</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/akka_persistence_rs/lib.rs.html#1-253">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="akka-persistence"><a href="#akka-persistence">Akka Persistence</a></h2>
<p>Akka Persistence enables stateful entities to persist their state so that it can be recovered when an entity is either restarted,
such as after a process crash, by a supervisor or a manual stop-start, and so forth. The key concept behind Akka Persistence is
that only the events that are persisted by the entity are stored, not the actual state of it. The events are persisted by appending
to storage (nothing is ever mutated) which allows for very high transaction rates and efficient replication. A stateful entity is
recovered by replaying the stored events to it, allowing it to rebuild its state.</p>
<p>An <code>EntityManager</code> is used to manage entities of a specific type. It is effectively an in-memory map of entity identifiers to their 
instances. When used at the edge, this map tends to contain all entity instances and so it is reasonble to posit why not just use
a map? The answer to this is that the <code>EntityManager</code> will reduce the amount code required to manage that map, and facilitate
dispatching commands along with sourcing their initial state from having been persisted. Events produced by entities can also be 
consumed as a stream and then persisted.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="effect/index.html" title="mod akka_persistence_rs::effect">effect</a></div><div class="desc docblock-short">Effects express how the state of an entity is to be updated, and how various side-effects
can be performed; all in response to an entity’s commands. Effects can be chained with other effects and are guaranteed
to be applied (run) before the next command for an entity id is processed.</div></li><li><div class="item-name"><a class="mod" href="entity/index.html" title="mod akka_persistence_rs::entity">entity</a></div><div class="desc docblock-short">An event sourced entity (also known as a persistent entity) receives a (non-persistent) command which is first validated
if it can be applied to the current state. Here validation can mean anything, from simple inspection of a command message’s
fields up to a conversation with several external services, for example. If validation succeeds, events are generated
from the command, representing the effect of the command. These events are then persisted and, after successful persistence,
used to change the entity’s state. When the event sourced actor needs to be recovered, only the persisted events are replayed
of which we know that they can be successfully applied. In other words, events cannot fail when being replayed to a persistent
entity, in contrast to commands. Event sourced entities may also process commands that do not change application state such
as query commands for example.</div></li><li><div class="item-name"><a class="mod" href="entity_manager/index.html" title="mod akka_persistence_rs::entity_manager">entity_manager</a></div><div class="desc docblock-short">An entity manager task handles the lifecycle and routing of messages for
an entity type. One EntityManager per entity type.
The EntityManager will generally instantiate the entities on demand, i.e. when first
message is sent to a specific entity. It will passivate least used
entities to have a bounded number of entities in memory.
The entities will recover their state from a stream of events.</div></li><li><div class="item-name"><a class="mod" href="jdk/index.html" title="mod akka_persistence_rs::jdk">jdk</a></div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.CannotSourceError.html" title="struct akka_persistence_rs::CannotSourceError">CannotSourceError</a></div><div class="desc docblock-short">It is an error if there is a string representation that is not one of:
“” for ordinary events.
“BT” for backtracking events.
“PS” for PubSub events.</div></li><li><div class="item-name"><a class="struct" href="struct.Message.html" title="struct akka_persistence_rs::Message">Message</a></div><div class="desc docblock-short">A message encapsulates a command that is addressed to a specific entity.</div></li><li><div class="item-name"><a class="struct" href="struct.PersistenceId.html" title="struct akka_persistence_rs::PersistenceId">PersistenceId</a></div><div class="desc docblock-short">A namespaced entity id given an entity type.</div></li><li><div class="item-name"><a class="struct" href="struct.PersistenceIdParseError.html" title="struct akka_persistence_rs::PersistenceIdParseError">PersistenceIdParseError</a></div></li><li><div class="item-name"><a class="struct" href="struct.TimestampOffset.html" title="struct akka_persistence_rs::TimestampOffset">TimestampOffset</a></div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Offset.html" title="enum akka_persistence_rs::Offset">Offset</a></div></li><li><div class="item-name"><a class="enum" href="enum.Source.html" title="enum akka_persistence_rs::Source">Source</a></div><div class="desc docblock-short">An event source descriptor</div></li></ul><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.NUMBER_OF_SLICES.html" title="constant akka_persistence_rs::NUMBER_OF_SLICES">NUMBER_OF_SLICES</a></div><div class="desc docblock-short">A slice is deterministically defined based on the persistence id.
<code>NUMBER_OF_SLICES</code> is not configurable because changing the value would result in
different slice for a persistence id than what was used before, which would
result in invalid events_by_slices call on a source provider.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.WithOffset.html" title="trait akka_persistence_rs::WithOffset">WithOffset</a></div><div class="desc docblock-short">Implemented by structures that can return an offset.</div></li><li><div class="item-name"><a class="trait" href="trait.WithPersistenceId.html" title="trait akka_persistence_rs::WithPersistenceId">WithPersistenceId</a></div><div class="desc docblock-short">Implemented by structures that can return a persistence id.</div></li><li><div class="item-name"><a class="trait" href="trait.WithSeqNr.html" title="trait akka_persistence_rs::WithSeqNr">WithSeqNr</a></div><div class="desc docblock-short">Implemented by structures that can return a sequence number.</div></li><li><div class="item-name"><a class="trait" href="trait.WithSource.html" title="trait akka_persistence_rs::WithSource">WithSource</a></div><div class="desc docblock-short">Implemented by structures that can return a source.</div></li><li><div class="item-name"><a class="trait" href="trait.WithTags.html" title="trait akka_persistence_rs::WithTags">WithTags</a></div><div class="desc docblock-short">Implemented by structures that can return tags.</div></li><li><div class="item-name"><a class="trait" href="trait.WithTimestamp.html" title="trait akka_persistence_rs::WithTimestamp">WithTimestamp</a></div><div class="desc docblock-short">Implemented by structures that can return a timestamp.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.slice_ranges.html" title="fn akka_persistence_rs::slice_ranges">slice_ranges</a></div><div class="desc docblock-short">Split the total number of slices into ranges by the given <code>number_of_ranges</code>.
For example, <code>NUMBER_OF_SLICES</code> is 1024 and given 4 <code>number_of_ranges</code> this method will
return ranges (0 to 255), (256 to 511), (512 to 767) and (768 to 1023).</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.EntityId.html" title="type akka_persistence_rs::EntityId">EntityId</a></div><div class="desc docblock-short">Uniquely identifies an entity, or entity instance.</div></li><li><div class="item-name"><a class="type" href="type.EntityType.html" title="type akka_persistence_rs::EntityType">EntityType</a></div><div class="desc docblock-short">Uniquely identifies the type of an Entity.</div></li><li><div class="item-name"><a class="type" href="type.Tag.html" title="type akka_persistence_rs::Tag">Tag</a></div><div class="desc docblock-short">Tags annotate an entity’s events</div></li></ul></section></div></main></body></html>