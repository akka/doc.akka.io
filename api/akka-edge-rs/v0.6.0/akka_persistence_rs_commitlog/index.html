<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Akka Persistence adapter for Streambed commit logs"><title>akka_persistence_rs_commitlog - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="akka_persistence_rs_commitlog" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0 (cc66ad468 2023-10-03)" data-channel="1.73.0" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-1596385f77d47ef2.css" data-theme-dark-css="dark-0a43001d3fc2282c.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-1596385f77d47ef2.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-0a43001d3fc2282c.css"><link rel="stylesheet" href="../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../akka_persistence_rs_commitlog/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../akka_persistence_rs_commitlog/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate akka_persistence_rs_commitlog</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.6.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">akka_persistence_rs_commitlog</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/akka_persistence_rs_commitlog/lib.rs.html#1-836">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="akka-persistence-adapter-for-streambed-commit-logs"><a href="#akka-persistence-adapter-for-streambed-commit-logs">Akka Persistence adapter for Streambed commit logs</a></h2>
<p>This crate adapts Streambed’s CommitLog and SecretStore traits for the purposes of it being used with Akka Persistence of akka-edge-rs.</p>
<blockquote>
<p>A <code>u64</code> “key” field is used with Streambed’s abstraction of commit logs as modelled off <a href="https://kafka.apache.org/">Kafka</a>. Keys are
used to distinguish and entity and its record type. Therefore, you must have an entity id that can be represented directly in 64 bits,
along with some bits reserved for the record type. Devices at the edge are often represented with a 32 bit address, and so this should
not present a problem at the edge in general. Hashes are to be avoided due to their potential for collisions.</p>
</blockquote>
<p><a href="https://github.com/streambed/streambed-rs">Streambed</a> provides an implementation of a commit log named <a href="https://github.com/streambed/streambed-rs/tree/main/streambed-logged">“Logged”</a>. 
Logged is a library focused on conserving storage and is particularly suited for use at the edge that uses flash based
storage. Other forms of commit log are also supported by Streabmed, including a <a href="https://kafka.apache.org/">Kafka</a>-like HTTP interface.</p>
<p>The encryption/decryption of records stored in a commit log are also handled through Streambed’s SecretStore. Streambed also provides an implementation
of a file-based secret store named <a href="https://github.com/streambed/streambed-rs/tree/main/streambed-confidant">“Confidant”</a>. Confidant is also particularly
suited for use at the edge where flash storage is also used. Other forms of the secret store are supported, including <a href="https://www.vaultproject.io/">Hashicorp’s Vault</a>.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.CannotConsume.html" title="struct akka_persistence_rs_commitlog::CannotConsume">CannotConsume</a></div><div class="desc docblock-short">This describes an error when there has been some run-time issue in attempting to consume records.</div></li><li><div class="item-name"><a class="struct" href="struct.CannotProduce.html" title="struct akka_persistence_rs_commitlog::CannotProduce">CannotProduce</a></div><div class="desc docblock-short">This describes an error when there has been some run-time issue in attempting to produce records.</div></li><li><div class="item-name"><a class="struct" href="struct.CommitLogTopicAdapter.html" title="struct akka_persistence_rs_commitlog::CommitLogTopicAdapter">CommitLogTopicAdapter</a></div><div class="desc docblock-short">Adapts a Streambed CommitLog for use with Akka Persistence.
This adapter retains an instance of a CommitLog and is
associated with a specific topic. A topic maps one-to-one
with a entity type i.e. many entity instances are held
within one topic.</div></li><li><div class="item-name"><a class="struct" href="struct.EventEnvelope.html" title="struct akka_persistence_rs_commitlog::EventEnvelope">EventEnvelope</a></div><div class="desc docblock-short">An envelope wraps a commit log event associated with a specific entity.
Tags are not presently considered useful at the edge. A remote consumer would be interested
in all events from the edge in most cases, and the edge itself decides what to publish
(producer defined filter).</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.CommitLogMarshaller.html" title="trait akka_persistence_rs_commitlog::CommitLogMarshaller">CommitLogMarshaller</a></div><div class="desc docblock-short">Provides the ability to transform the the memory representation of Akka Persistence events from
and to the records that a CommitLog expects.</div></li><li><div class="item-name"><a class="trait" href="trait.EncryptedCommitLogMarshaller.html" title="trait akka_persistence_rs_commitlog::EncryptedCommitLogMarshaller">EncryptedCommitLogMarshaller</a></div><div class="desc docblock-short">Provides the ability to transform the the memory representation of Akka Persistence events from
and to the records that a CommitLog expects. Given the “cbor” feature, we use CBOR for serialization.
Encryption/decryption to commit log records is also applied. Therefore a secret store is expected.</div></li></ul></section></div></main></body></html>