<!DOCTYPE html >
<html>
        <head>
          <meta http-equiv="X-UA-Compatible" content="IE=edge" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
          <title>Akka 2.5.26 - akka.cluster.sharding</title>
          <meta name="description" content="Akka 2.5.26 - akka.cluster.sharding" />
          <meta name="keywords" content="Akka 2.5.26 akka.cluster.sharding" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../lib/index.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../lib/jquery.js"></script>
      <script type="text/javascript" src="../../../lib/jquery.panzoom.min.js"></script>
      <script type="text/javascript" src="../../../lib/jquery.mousewheel.min.js"></script>
      <script type="text/javascript" src="../../../lib/index.js"></script>
      <script type="text/javascript" src="../../../index.js"></script>
      <script type="text/javascript" src="../../../lib/scheduler.js"></script>
      <script type="text/javascript" src="../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../lib/tools.tooltip.js"></script>
      <script type="text/javascript" src="../../../lib/modernizr.custom.js"></script><script type="text/javascript" src="../../../lib/diagrams.js" id="diagrams-js"></script>
      <script type="text/javascript">
        /* this variable can be used by the JS to determine the path to the root document */
        var toRoot = '../../../';
      </script>
    
        </head>
        <body>
      <div id="search">
        <span id="doc-title">Akka<span id="doc-version">2.5.26</span></span>
        <span class="close-results"><span class="left">&lt;</span> Back</span>
        <div id="textfilter">
          <span class="input">
            <input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/" />
            <i class="clear material-icons"></i>
            <i id="search-icon" class="material-icons"></i>
          </span>
        </div>
    </div>
      <div id="search-results">
        <div id="search-progress">
          <div id="progress-fill"></div>
        </div>
        <div id="results-content">
          <div id="entity-results"></div>
          <div id="member-results"></div>
        </div>
      </div>
      <div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;">
        <div id="content-container" style="-webkit-overflow-scrolling: touch;">
          <div id="subpackage-spacer">
            <div id="packages">
              <h1>Packages</h1>
              <ul>
                <li name="_root_.root" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="_root_"></a><a id="root:_root_"></a>
      <span class="permalink">
      <a href="index.html#_root_" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../../index.html"><span class="name">root</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../index.html" class="extype" name="_root_">root</a></dd></dl></div>
    </li><li name="_root_.akka" visbl="pub" class="indented1 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="akka"></a><a id="akka:akka"></a>
      <span class="permalink">
      <a href="index.html#akka" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../../index.html"><span class="name">akka</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../../index.html" class="extype" name="_root_">root</a></dd></dl></div>
    </li><li name="akka.cluster" visbl="pub" class="indented2 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="cluster"></a><a id="cluster:cluster"></a>
      <span class="permalink">
      <a href="../akka/index.html#cluster" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../index.html"><span class="name">cluster</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../../index.html" class="extype" name="akka">akka</a></dd></dl></div>
    </li><li name="akka.cluster.client" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="client"></a><a id="client:client"></a>
      <span class="permalink">
      <a href="../../akka/cluster/index.html#client" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../client/index.html"><span class="name">client</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="akka.cluster">cluster</a></dd></dl></div>
    </li><li name="akka.cluster.ddata" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ddata"></a><a id="ddata:ddata"></a>
      <span class="permalink">
      <a href="../../akka/cluster/index.html#ddata" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../ddata/index.html"><span class="name">ddata</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="akka.cluster">cluster</a></dd></dl></div>
    </li><li name="akka.cluster.metrics" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="metrics"></a><a id="metrics:metrics"></a>
      <span class="permalink">
      <a href="../../akka/cluster/index.html#metrics" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../metrics/index.html"><span class="name">metrics</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="akka.cluster">cluster</a></dd></dl></div>
    </li><li name="akka.cluster.protobuf" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="protobuf"></a><a id="protobuf:protobuf"></a>
      <span class="permalink">
      <a href="../../akka/cluster/index.html#protobuf" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../protobuf/index.html"><span class="name">protobuf</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="akka.cluster">cluster</a></dd></dl></div>
    </li><li name="akka.cluster.pubsub" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="pubsub"></a><a id="pubsub:pubsub"></a>
      <span class="permalink">
      <a href="../../akka/cluster/index.html#pubsub" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../pubsub/index.html"><span class="name">pubsub</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="akka.cluster">cluster</a></dd></dl></div>
    </li><li name="akka.cluster.routing" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="routing"></a><a id="routing:routing"></a>
      <span class="permalink">
      <a href="../../akka/cluster/index.html#routing" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../routing/index.html"><span class="name">routing</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="akka.cluster">cluster</a></dd></dl></div>
    </li><li name="akka.cluster.sharding" visbl="pub" class="indented3 current" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="sharding"></a><a id="sharding:sharding"></a>
      <span class="permalink">
      <a href="../../akka/cluster/index.html#sharding" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">sharding</span>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="akka.cluster">cluster</a></dd></dl></div>
    </li><li name="akka.cluster.sharding.protobuf" visbl="pub" class="indented4 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="protobuf"></a><a id="protobuf:protobuf"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#protobuf" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="protobuf/index.html"><span class="name">protobuf</span></a>
      </span>
      
      
    </li><li name="akka.cluster.sharding.typed" visbl="pub" class="indented4 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="typed"></a><a id="typed:typed"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#typed" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="typed/index.html"><span class="name">typed</span></a>
      </span>
      
      
    </li><li class="current-entities indented3">
                        <span class="separator"></span>
                        <a class="class" href="AllAtOnceEntityRecoveryStrategy.html" title=""></a>
                        <a href="AllAtOnceEntityRecoveryStrategy.html" title="">AllAtOnceEntityRecoveryStrategy</a>
                      </li><li class="current-entities indented3">
                        <a class="object" href="ClusterSharding$.html" title="This extension provides sharding functionality of actors in a cluster."></a>
                        <a class="class" href="ClusterSharding.html" title=""></a>
                        <a href="ClusterSharding.html" title="">ClusterSharding</a>
                      </li><li class="current-entities indented3">
                        <span class="separator"></span>
                        <a class="trait" href="ClusterShardingSerializable.html" title="Marker trait for remote messages and persistent events/snapshots with special serializer."></a>
                        <a href="ClusterShardingSerializable.html" title="Marker trait for remote messages and persistent events/snapshots with special serializer.">ClusterShardingSerializable</a>
                      </li><li class="current-entities indented3">
                        <a class="object" href="ClusterShardingSettings$.html" title=""></a>
                        <a class="class" href="ClusterShardingSettings.html" title=""></a>
                        <a href="ClusterShardingSettings.html" title="">ClusterShardingSettings</a>
                      </li><li class="current-entities indented3">
                        <span class="separator"></span>
                        <a class="class" href="ConstantRateEntityRecoveryStrategy.html" title=""></a>
                        <a href="ConstantRateEntityRecoveryStrategy.html" title="">ConstantRateEntityRecoveryStrategy</a>
                      </li><li class="current-entities indented3">
                        <span class="separator"></span>
                        <a class="class" href="DDataShardCoordinator.html" title="Singleton coordinator (with state based on ddata) that decides where to allocate shards."></a>
                        <a href="DDataShardCoordinator.html" title="Singleton coordinator (with state based on ddata) that decides where to allocate shards.">DDataShardCoordinator</a>
                      </li><li class="current-entities indented3">
                        <a class="object" href="EntityRecoveryStrategy$.html" title=""></a>
                        <a class="trait" href="EntityRecoveryStrategy.html" title=""></a>
                        <a href="EntityRecoveryStrategy.html" title="">EntityRecoveryStrategy</a>
                      </li><li class="current-entities indented3">
                        <span class="separator"></span>
                        <a class="class" href="JoinConfigCompatCheckSharding.html" title="INTERNAL API"></a>
                        <a href="JoinConfigCompatCheckSharding.html" title="INTERNAL API">JoinConfigCompatCheckSharding</a>
                      </li><li class="current-entities indented3">
                        <span class="separator"></span>
                        <a class="class" href="PersistentShardCoordinator.html" title="Singleton coordinator that decides where to allocate shards."></a>
                        <a href="PersistentShardCoordinator.html" title="Singleton coordinator that decides where to allocate shards.">PersistentShardCoordinator</a>
                      </li><li class="current-entities indented3">
                        <a class="object" href="RemoveInternalClusterShardingData$.html" title="Utility program that removes the internal data stored with Akka Persistence by the Cluster ShardCoordinator."></a>
                        <a class="class" href="RemoveInternalClusterShardingData.html" title=""></a>
                        <a href="RemoveInternalClusterShardingData.html" title="">RemoveInternalClusterShardingData</a>
                      </li><li class="current-entities indented3">
                        <a class="object" href="ShardCoordinator$.html" title=""></a>
                        <a class="class" href="ShardCoordinator.html" title="Singleton coordinator that decides where to allocate shards."></a>
                        <a href="ShardCoordinator.html" title="Singleton coordinator that decides where to allocate shards.">ShardCoordinator</a>
                      </li><li class="current-entities indented3">
                        <span class="separator"></span>
                        <a class="object" href="ShardRegion$.html" title=""></a>
                        <a href="ShardRegion$.html" title="">ShardRegion</a>
                      </li><li name="akka.cluster.singleton" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="singleton"></a><a id="singleton:singleton"></a>
      <span class="permalink">
      <a href="../../akka/cluster/index.html#singleton" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../singleton/index.html"><span class="name">singleton</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="akka.cluster">cluster</a></dd></dl></div>
    </li><li name="akka.cluster.typed" visbl="pub" class="indented3 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="typed"></a><a id="typed:typed"></a>
      <span class="permalink">
      <a href="../../akka/cluster/index.html#typed" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a title="" href="../typed/index.html"><span class="name">typed</span></a>
      </span>
      
      <div class="fullcomment"><dl class="attributes block"> <dt>Definition Classes</dt><dd><a href="../index.html" class="extype" name="akka.cluster">cluster</a></dd></dl></div>
    </li>
              </ul>
            </div>
          </div>
          <div id="content">
            <body class="package value">
      <div id="definition">
        <div class="big-circle package">p</div>
        <p id="owner"><a href="../../index.html" class="extype" name="akka">akka</a>.<a href="../index.html" class="extype" name="akka.cluster">cluster</a></p>
        <h1>sharding<span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span></h1>
        
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">sharding</span>
      </span>
      </h4>

      
          <div id="comment" class="fullcommenttop"><div class="toggleContainer block diagram-container" id="content-diagram-container">
                <span class="toggle diagram-link">
                  Content Hierarchy
                </span>
                <div class="diagram" id="content-diagram"><svg class="package-diagram" id="graph1" viewBox="0.00 0.00 782.00 94.00" height="94pt" width="782pt" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g transform="scale(1 1) rotate(0) translate(4 90)" class="graph" id="page0,1_graph0"><polygon points="-4,4 -4,-90 778,-90 778,4 -4,4" stroke="transparent" fill="white"></polygon><!-- node0 --><g class="node class" id="graph1_0"><g id="a_class|graph1_0"><a xlink:title="akka.cluster.sharding.ShardCoordinator" xlink:href="ShardCoordinator.html#inheritance-diagram"><path d="M225.67,-86C225.67,-86 120.33,-86 120.33,-86 116.17,-86 112,-81.83 112,-77.67 112,-77.67 112,-69.33 112,-69.33 112,-65.17 116.17,-61 120.33,-61 120.33,-61 225.67,-61 225.67,-61 229.83,-61 234,-65.17 234,-69.33 234,-69.33 234,-77.67 234,-77.67 234,-81.83 229.83,-86 225.67,-86" stroke="#418565" fill="#418565"></path><image xlink:href="../../../lib/class_diagram.png" y="-80.5" x="122" preserveAspectRatio="xMinYMin meet" height="15px" width="15px"></image><text fill="#ffffff" font-size="8.00" font-family="Source Code Pro" y="-71.63" x="142.7" text-anchor="start">ShardCoordinator</text></a></g></g><!-- node1 --><g class="node class" id="graph1_1"><g id="a_class|graph1_1"><a xlink:title="akka.cluster.sharding.PersistentShardCoordinator" xlink:href="PersistentShardCoordinator.html#inheritance-diagram"><path d="M161.67,-25C161.67,-25 8.33,-25 8.33,-25 4.17,-25 0,-20.83 0,-16.67 0,-16.67 0,-8.33 0,-8.33 0,-4.17 4.17,0 8.33,0 8.33,0 161.67,0 161.67,0 165.83,0 170,-4.17 170,-8.33 170,-8.33 170,-16.67 170,-16.67 170,-20.83 165.83,-25 161.67,-25" stroke="#418565" fill="#418565"></path><image xlink:href="../../../lib/class_diagram.png" y="-19.5" x="10" preserveAspectRatio="xMinYMin meet" height="15px" width="15px"></image><text fill="#ffffff" font-size="8.00" font-family="Source Code Pro" y="-10.63" x="30.7" text-anchor="start">PersistentShardCoordinator</text></a></g></g><!-- node0&#45;&gt;node1 --><g class="edge inheritance" id="graph1_0_1"><g id="a_inheritance|graph1_0_1"><a xlink:title="PersistentShardCoordinator is a subtype of ShardCoordinator"><path d="M149.53,-56.76C134.69,-46.82 115.84,-34.18 102.35,-25.13" stroke="#d4d4d4" fill="none"></path><polygon points="148.44,-58.98 155.61,-60.84 151.16,-54.91 148.44,-58.98" stroke="#d4d4d4" fill="none"></polygon></a></g></g><!-- node3 --><g class="node class" id="graph1_3"><g id="a_class|graph1_3"><a xlink:title="akka.cluster.sharding.DDataShardCoordinator" xlink:href="DDataShardCoordinator.html#inheritance-diagram"><path d="M325.67,-25C325.67,-25 196.33,-25 196.33,-25 192.17,-25 188,-20.83 188,-16.67 188,-16.67 188,-8.33 188,-8.33 188,-4.17 192.17,0 196.33,0 196.33,0 325.67,0 325.67,0 329.83,0 334,-4.17 334,-8.33 334,-8.33 334,-16.67 334,-16.67 334,-20.83 329.83,-25 325.67,-25" stroke="#418565" fill="#418565"></path><image xlink:href="../../../lib/class_diagram.png" y="-19.5" x="198" preserveAspectRatio="xMinYMin meet" height="15px" width="15px"></image><text fill="#ffffff" font-size="8.00" font-family="Source Code Pro" y="-10.63" x="218.7" text-anchor="start">DDataShardCoordinator</text></a></g></g><!-- node0&#45;&gt;node3 --><g class="edge inheritance" id="graph1_0_3"><g id="a_inheritance|graph1_0_3"><a xlink:title="DDataShardCoordinator is a subtype of ShardCoordinator"><path d="M196.47,-56.76C211.31,-46.82 230.16,-34.18 243.65,-25.13" stroke="#d4d4d4" fill="none"></path><polygon points="194.84,-54.91 190.39,-60.84 197.56,-58.98 194.84,-54.91" stroke="#d4d4d4" fill="none"></polygon></a></g></g><!-- node2 --><g class="node trait" id="graph1_2"><g id="a_trait|graph1_2"><a xlink:title="akka.cluster.sharding.EntityRecoveryStrategy" xlink:href="EntityRecoveryStrategy.html#inheritance-diagram"><path d="M634.17,-86C634.17,-86 499.83,-86 499.83,-86 495.67,-86 491.5,-81.83 491.5,-77.67 491.5,-77.67 491.5,-69.33 491.5,-69.33 491.5,-65.17 495.67,-61 499.83,-61 499.83,-61 634.17,-61 634.17,-61 638.33,-61 642.5,-65.17 642.5,-69.33 642.5,-69.33 642.5,-77.67 642.5,-77.67 642.5,-81.83 638.33,-86 634.17,-86" stroke="#2e6d82" fill="#2e6d82"></path><image xlink:href="../../../lib/trait_diagram.png" y="-80.5" x="502" preserveAspectRatio="xMinYMin meet" height="15px" width="15px"></image><text fill="#ffffff" font-size="8.00" font-family="Source Code Pro" y="-71.63" x="522.8" text-anchor="start">EntityRecoveryStrategy</text></a></g></g><!-- node4 --><g class="node class" id="graph1_4"><g id="a_class|graph1_4"><a xlink:title="akka.cluster.sharding.ConstantRateEntityRecoveryStrategy" xlink:href="ConstantRateEntityRecoveryStrategy.html#inheritance-diagram"><path d="M553.17,-25C553.17,-25 360.83,-25 360.83,-25 356.67,-25 352.5,-20.83 352.5,-16.67 352.5,-16.67 352.5,-8.33 352.5,-8.33 352.5,-4.17 356.67,0 360.83,0 360.83,0 553.17,0 553.17,0 557.33,0 561.5,-4.17 561.5,-8.33 561.5,-8.33 561.5,-16.67 561.5,-16.67 561.5,-20.83 557.33,-25 553.17,-25" stroke="#418565" fill="#418565"></path><image xlink:href="../../../lib/class_diagram.png" y="-19.5" x="363" preserveAspectRatio="xMinYMin meet" height="15px" width="15px"></image><text fill="#ffffff" font-size="8.00" font-family="Source Code Pro" y="-10.63" x="384" text-anchor="start">ConstantRateEntityRecoveryStrategy</text></a></g></g><!-- node2&#45;&gt;node4 --><g class="edge inheritance" id="graph1_2_4"><g id="a_inheritance|graph1_2_4"><a xlink:title="ConstantRateEntityRecoveryStrategy is a subtype of EntityRecoveryStrategy"><path d="M538.92,-57.44C520.23,-47.41 496.03,-34.43 478.79,-25.19" stroke="#d4d4d4" fill="none"></path><polygon points="538.2,-59.83 545.53,-60.98 540.52,-55.52 538.2,-59.83" stroke="#d4d4d4" fill="none"></polygon></a></g></g><!-- node5 --><g class="node class" id="graph1_5"><g id="a_class|graph1_5"><a xlink:title="akka.cluster.sharding.AllAtOnceEntityRecoveryStrategy" xlink:href="AllAtOnceEntityRecoveryStrategy.html#inheritance-diagram"><path d="M765.67,-25C765.67,-25 588.33,-25 588.33,-25 584.17,-25 580,-20.83 580,-16.67 580,-16.67 580,-8.33 580,-8.33 580,-4.17 584.17,0 588.33,0 588.33,0 765.67,0 765.67,0 769.83,0 774,-4.17 774,-8.33 774,-8.33 774,-16.67 774,-16.67 774,-20.83 769.83,-25 765.67,-25" stroke="#418565" fill="#418565"></path><image xlink:href="../../../lib/class_diagram.png" y="-19.5" x="590" preserveAspectRatio="xMinYMin meet" height="15px" width="15px"></image><text fill="#ffffff" font-size="8.00" font-family="Source Code Pro" y="-10.63" x="610.7" text-anchor="start">AllAtOnceEntityRecoveryStrategy</text></a></g></g><!-- node2&#45;&gt;node5 --><g class="edge inheritance" id="graph1_2_5"><g id="a_inheritance|graph1_2_5"><a xlink:title="AllAtOnceEntityRecoveryStrategy is a subtype of EntityRecoveryStrategy"><path d="M595.08,-57.44C613.77,-47.41 637.97,-34.43 655.21,-25.19" stroke="#d4d4d4" fill="none"></path><polygon points="593.48,-55.52 588.47,-60.98 595.8,-59.83 593.48,-55.52" stroke="#d4d4d4" fill="none"></polygon></a></g></g></g></svg></div>
                <div id="diagram-controls" class="hiddenContent">
                  <button id="diagram-zoom-out" class="diagram-btn"><i class="material-icons"></i></button>
                  <button id="diagram-zoom-in" class="diagram-btn"><i class="material-icons"></i></button>
                  <button title="Toggle full-screen" id="diagram-fs" class="diagram-btn to-full"><i class="material-icons"></i></button>
                </div>
              </div></div>
        

      <div id="mbrsel">
        <div class="toggle"></div>
        <div id="memberfilter">
          <i class="material-icons arrow"></i>
          <span class="input">
            <input id="mbrsel-input" placeholder="Filter all members" type="text" accesskey="/" />
          </span>
          <i class="clear material-icons"></i>
        </div>
        <div id="filterby">
          <div id="order">
            <span class="filtertype">Ordering</span>
            <ol>
              
              <li class="alpha in"><span>Alphabetic</span></li>
              
            </ol>
          </div>
          
          <div id="visbl">
              <span class="filtertype">Visibility</span>
              <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
            </div>
        </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="akka.cluster.sharding.AllAtOnceEntityRecoveryStrategy" visbl="pub" class="indented0 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="AllAtOnceEntityRecoveryStrategyextendsEntityRecoveryStrategy"></a><a id="AllAtOnceEntityRecoveryStrategy:AllAtOnceEntityRecoveryStrategy"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#AllAtOnceEntityRecoveryStrategyextendsEntityRecoveryStrategy" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a title="" href="AllAtOnceEntityRecoveryStrategy.html"><span class="name">AllAtOnceEntityRecoveryStrategy</span></a><span class="result"> extends <a href="EntityRecoveryStrategy.html" class="extype" name="akka.cluster.sharding.EntityRecoveryStrategy">EntityRecoveryStrategy</a></span>
      </span>
      
      
    </li><li name="akka.cluster.sharding.ClusterSharding" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ClusterShardingextendsExtension"></a><a id="ClusterSharding:ClusterSharding"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#ClusterShardingextendsExtension" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a title="" href="ClusterSharding.html"><span class="name">ClusterSharding</span></a><span class="result"> extends <a href="../../actor/Extension.html" class="extype" name="akka.actor.Extension">Extension</a></span>
      </span>
      
      <p class="shortcomment cmt"></p><div class="fullcomment"><div class="comment cmt"></div><dl class="attributes block"> <dt>See also</dt><dd><span class="cmt"><p><a href="ClusterSharding$.html" class="extype" name="akka.cluster.sharding.ClusterSharding">ClusterSharding companion object</a></p></span></dd></dl></div>
    </li><li name="akka.cluster.sharding.ClusterShardingSerializable" visbl="pub" class="indented0 " data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="ClusterShardingSerializableextendsSerializable"></a><a id="ClusterShardingSerializable:ClusterShardingSerializable"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#ClusterShardingSerializableextendsSerializable" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a title="Marker trait for remote messages and persistent events/snapshots with special serializer." href="ClusterShardingSerializable.html"><span class="name">ClusterShardingSerializable</span></a><span class="result"> extends <a href="http://www.scala-lang.org/api/2.12.8/scala/Serializable.html#scala.Serializable" class="extype" name="scala.Serializable">Serializable</a></span>
      </span>
      
      <p class="shortcomment cmt">Marker trait for remote messages and persistent events/snapshots with special serializer.</p>
    </li><li name="akka.cluster.sharding.ClusterShardingSettings" visbl="pub" class="indented0 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="ClusterShardingSettingsextendsNoSerializationVerificationNeeded"></a><a id="ClusterShardingSettings:ClusterShardingSettings"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#ClusterShardingSettingsextendsNoSerializationVerificationNeeded" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a title="" href="ClusterShardingSettings.html"><span class="name">ClusterShardingSettings</span></a><span class="result"> extends <a href="../../actor/NoSerializationVerificationNeeded.html" class="extype" name="akka.actor.NoSerializationVerificationNeeded">NoSerializationVerificationNeeded</a></span>
      </span>
      
      <p class="shortcomment cmt"></p>
    </li><li name="akka.cluster.sharding.ConstantRateEntityRecoveryStrategy" visbl="pub" class="indented0 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="ConstantRateEntityRecoveryStrategyextendsEntityRecoveryStrategy"></a><a id="ConstantRateEntityRecoveryStrategy:ConstantRateEntityRecoveryStrategy"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#ConstantRateEntityRecoveryStrategyextendsEntityRecoveryStrategy" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a title="" href="ConstantRateEntityRecoveryStrategy.html"><span class="name">ConstantRateEntityRecoveryStrategy</span></a><span class="result"> extends <a href="EntityRecoveryStrategy.html" class="extype" name="akka.cluster.sharding.EntityRecoveryStrategy">EntityRecoveryStrategy</a></span>
      </span>
      
      
    </li><li name="akka.cluster.sharding.DDataShardCoordinator" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="DDataShardCoordinatorextendsShardCoordinatorwithStash"></a><a id="DDataShardCoordinator:DDataShardCoordinator"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#DDataShardCoordinatorextendsShardCoordinatorwithStash" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a title="Singleton coordinator (with state based on ddata) that decides where to allocate shards." href="DDataShardCoordinator.html"><span class="name">DDataShardCoordinator</span></a><span class="result"> extends <a href="ShardCoordinator.html" class="extype" name="akka.cluster.sharding.ShardCoordinator">ShardCoordinator</a> with <a href="../../actor/Stash.html" class="extype" name="akka.actor.Stash">Stash</a></span>
      </span>
      
      <p class="shortcomment cmt">Singleton coordinator (with state based on ddata) that decides where to allocate shards.</p><div class="fullcomment"><div class="comment cmt"><p>Singleton coordinator (with state based on ddata) that decides where to allocate shards.
</p></div><dl class="attributes block"> <dt>See also</dt><dd><span class="cmt"><p><a href="ClusterSharding$.html" class="extype" name="akka.cluster.sharding.ClusterSharding">ClusterSharding extension</a></p></span></dd></dl></div>
    </li><li name="akka.cluster.sharding.EntityRecoveryStrategy" visbl="pub" class="indented0 " data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="EntityRecoveryStrategyextendsAnyRef"></a><a id="EntityRecoveryStrategy:EntityRecoveryStrategy"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#EntityRecoveryStrategyextendsAnyRef" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a title="" href="EntityRecoveryStrategy.html"><span class="name">EntityRecoveryStrategy</span></a><span class="result"> extends <a href="http://www.scala-lang.org/api/2.12.8/scala/AnyRef.html#scala.AnyRef" class="extype" name="scala.AnyRef">AnyRef</a></span>
      </span>
      
      
    </li><li name="akka.cluster.sharding.JoinConfigCompatCheckSharding" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="JoinConfigCompatCheckShardingextendsJoinConfigCompatChecker"></a><a id="JoinConfigCompatCheckSharding:JoinConfigCompatCheckSharding"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#JoinConfigCompatCheckShardingextendsJoinConfigCompatChecker" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">final </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a title="INTERNAL API" href="JoinConfigCompatCheckSharding.html"><span class="name">JoinConfigCompatCheckSharding</span></a><span class="result"> extends <a href="../JoinConfigCompatChecker.html" class="extype" name="akka.cluster.JoinConfigCompatChecker">JoinConfigCompatChecker</a></span>
      </span>
      
      <p class="shortcomment cmt">INTERNAL API
</p><div class="fullcomment"><div class="comment cmt"><p>INTERNAL API
</p></div><dl class="attributes block"> <dt>Annotations</dt><dd>
                <span class="name">@<a href="../../annotation/InternalApi.html" class="extype" name="akka.annotation.InternalApi">InternalApi</a></span><span class="args">()</span>
              
        </dd></dl></div>
    </li><li name="akka.cluster.sharding.PersistentShardCoordinator" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="PersistentShardCoordinatorextendsShardCoordinatorwithPersistentActor"></a><a id="PersistentShardCoordinator:PersistentShardCoordinator"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#PersistentShardCoordinatorextendsShardCoordinatorwithPersistentActor" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a title="Singleton coordinator that decides where to allocate shards." href="PersistentShardCoordinator.html"><span class="name">PersistentShardCoordinator</span></a><span class="result"> extends <a href="ShardCoordinator.html" class="extype" name="akka.cluster.sharding.ShardCoordinator">ShardCoordinator</a> with <a href="../../persistence/PersistentActor.html" class="extype" name="akka.persistence.PersistentActor">PersistentActor</a></span>
      </span>
      
      <p class="shortcomment cmt">Singleton coordinator that decides where to allocate shards.</p><div class="fullcomment"><div class="comment cmt"><p>Singleton coordinator that decides where to allocate shards.
</p></div><dl class="attributes block"> <dt>See also</dt><dd><span class="cmt"><p><a href="ClusterSharding$.html" class="extype" name="akka.cluster.sharding.ClusterSharding">ClusterSharding extension</a></p></span></dd></dl></div>
    </li><li name="akka.cluster.sharding.RemoveInternalClusterShardingData" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="RemoveInternalClusterShardingDataextendsActorwithActorLogging"></a><a id="RemoveInternalClusterShardingData:RemoveInternalClusterShardingData"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#RemoveInternalClusterShardingDataextendsActorwithActorLogging" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a title="" href="RemoveInternalClusterShardingData.html"><span class="name">RemoveInternalClusterShardingData</span></a><span class="result"> extends <a href="../../actor/Actor.html" class="extype" name="akka.actor.Actor">Actor</a> with <a href="../../actor/ActorLogging.html" class="extype" name="akka.actor.ActorLogging">ActorLogging</a></span>
      </span>
      
      <p class="shortcomment cmt"></p><div class="fullcomment"><div class="comment cmt"></div><dl class="attributes block"> <dt>See also</dt><dd><span class="cmt"><p><a href="RemoveInternalClusterShardingData$.html" class="extype" name="akka.cluster.sharding.RemoveInternalClusterShardingData">RemoveInternalClusterShardingData companion object</a></p></span></dd></dl></div>
    </li><li name="akka.cluster.sharding.ShardCoordinator" visbl="pub" class="indented0 " data-isabs="true" fullComment="yes" group="Ungrouped">
      <a id="ShardCoordinatorextendsActorwithActorLogging"></a><a id="ShardCoordinator:ShardCoordinator"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#ShardCoordinatorextendsActorwithActorLogging" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier">abstract </span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a title="Singleton coordinator that decides where to allocate shards." href="ShardCoordinator.html"><span class="name">ShardCoordinator</span></a><span class="result"> extends <a href="../../actor/Actor.html" class="extype" name="akka.actor.Actor">Actor</a> with <a href="../../actor/ActorLogging.html" class="extype" name="akka.actor.ActorLogging">ActorLogging</a></span>
      </span>
      
      <p class="shortcomment cmt">Singleton coordinator that decides where to allocate shards.</p><div class="fullcomment"><div class="comment cmt"><p>Singleton coordinator that decides where to allocate shards.
</p></div><dl class="attributes block"> <dt>See also</dt><dd><span class="cmt"><p><a href="ClusterSharding$.html" class="extype" name="akka.cluster.sharding.ClusterSharding">ClusterSharding extension</a></p></span></dd></dl></div>
    </li></ol>
            </div>

        

        <div class="values members">
              <h3>Value Members</h3>
              <ol>
                <li name="akka.cluster.sharding.ClusterSharding" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ClusterSharding"></a><a id="ClusterSharding:ClusterSharding"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#ClusterSharding" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a title="This extension provides sharding functionality of actors in a cluster." href="ClusterSharding$.html"><span class="name">ClusterSharding</span></a><span class="result"> extends <a href="../../actor/ExtensionId.html" class="extype" name="akka.actor.ExtensionId">ExtensionId</a>[<a href="ClusterSharding.html" class="extype" name="akka.cluster.sharding.ClusterSharding">ClusterSharding</a>] with <a href="../../actor/ExtensionIdProvider.html" class="extype" name="akka.actor.ExtensionIdProvider">ExtensionIdProvider</a></span>
      </span>
      
      <p class="shortcomment cmt">This extension provides sharding functionality of actors in a cluster.</p><div class="fullcomment"><div class="comment cmt"><p>This extension provides sharding functionality of actors in a cluster.
The typical use case is when you have many stateful actors that together consume
more resources (e.g. memory) than fit on one machine.</p><ul><li>Distribution: You need to distribute them across several nodes in the cluster</li><li>Location Transparency: You need to interact with them using their logical identifier,
without having to care about their physical location in the cluster, which can change over time.</li></ul><p><b>Entities</b>:
It could for example be actors representing Aggregate Roots in Domain-Driven Design
terminology. Here we call these actors &quot;entities&quot; which typically have persistent
(durable) state, but this feature is not limited to persistent state actors.</p><p><b>Sharding</b>:
In this context sharding means that actors with an identifier, or entities,
can be automatically distributed across multiple nodes in the cluster.</p><p><b>ShardRegion</b>:
Each entity actor runs only at one place, and messages can be sent to the entity without
requiring the sender to know the location of the destination actor. This is achieved by
sending the messages via a <span class="extype" name="ShardRegion">ShardRegion</span> actor, provided by this extension. The <span class="extype" name="ShardRegion">ShardRegion</span>
knows the shard mappings and routes inbound messages to the entity with the entity id.
Messages to the entities are always sent via the local <code>ShardRegion</code>.
The <code>ShardRegion</code> actor is started on each node in the cluster, or group of nodes
tagged with a specific role. The <code>ShardRegion</code> is created with two application specific
functions to extract the entity identifier and the shard identifier from incoming messages.</p><p>Typical usage of this extension:</p><ol class="decimal"><li>At system startup on each cluster node by registering the supported entity types with
the <a href="ClusterSharding.html#start(typeName:String,entityProps:akka.actor.Props,messageExtractor:akka.cluster.sharding.ShardRegion.MessageExtractor):akka.actor.ActorRef" class="extmbr" name="akka.cluster.sharding.ClusterSharding#start">ClusterSharding#start</a> method</li><li>Retrieve the <code>ShardRegion</code> actor for a named entity type with <a href="ClusterSharding.html#shardRegion(typeName:String):akka.actor.ActorRef" class="extmbr" name="akka.cluster.sharding.ClusterSharding#shardRegion">ClusterSharding#shardRegion</a>
Settings can be configured as described in the <code>akka.cluster.sharding</code> section of the <code>reference.conf</code>.</li></ol><p><b>Shard and ShardCoordinator</b>:
A shard is a group of entities that will be managed together. For the first message in a
specific shard the <code>ShardRegion</code> requests the location of the shard from a central
<a href="ShardCoordinator.html" class="extype" name="akka.cluster.sharding.ShardCoordinator">ShardCoordinator</a>. The <code>ShardCoordinator</code> decides which <code>ShardRegion</code>
owns the shard. The <code>ShardRegion</code> receives the decided home of the shard
and if that is the <code>ShardRegion</code> instance itself it will create a local child
actor representing the entity and direct all messages for that entity to it.
If the shard home is another <code>ShardRegion</code>, instance messages will be forwarded
to that <code>ShardRegion</code> instance instead. While resolving the location of a
shard, incoming messages for that shard are buffered and later delivered when the
shard location is known. Subsequent messages to the resolved shard can be delivered
to the target destination immediately without involving the <code>ShardCoordinator</code>.
To make sure at-most-one instance of a specific entity actor is running somewhere
in the cluster it is important that all nodes have the same view of where the shards
are located. Therefore the shard allocation decisions are taken by the central
<code>ShardCoordinator</code>, a cluster singleton, i.e. one instance on
the oldest member among all cluster nodes or a group of nodes tagged with a specific
role. The oldest member can be determined by <a href="../Member.html#isOlderThan(other:akka.cluster.Member):Boolean" class="extmbr" name="akka.cluster.Member#isOlderThan">akka.cluster.Member#isOlderThan</a>.</p><p><b>Shard Rebalancing</b>:
To be able to use newly added members in the cluster the coordinator facilitates rebalancing
of shards, migrating entities from one node to another. In the rebalance process the
coordinator first notifies all <code>ShardRegion</code> actors that a handoff for a shard has begun.
<code>ShardRegion</code> actors will start buffering incoming messages for that shard, as they do when
shard location is unknown. During the rebalance process the coordinator will not answer any
requests for the location of shards that are being rebalanced, i.e. local buffering will
continue until the handoff is complete. The <code>ShardRegion</code> responsible for the rebalanced shard
will stop all entities in that shard by sending them a <code>PoisonPill</code>. When all entities have
been terminated the <code>ShardRegion</code> owning the entities will acknowledge to the coordinator that
the handoff has completed. Thereafter the coordinator will reply to requests for the location of
the shard, allocate a new home for the shard and then buffered messages in the
<code>ShardRegion</code> actors are delivered to the new location. This means that the state of the entities
are not transferred or migrated. If the state of the entities are of importance it should be
persistent (durable), e.g. with <code>akka-persistence</code> so that it can be recovered at the new
location.</p><p><b>Shard Allocation</b>:
The logic deciding which shards to rebalance is defined in a plugable shard allocation
strategy. The default implementation <a href="ShardCoordinator$$LeastShardAllocationStrategy.html" class="extype" name="akka.cluster.sharding.ShardCoordinator.LeastShardAllocationStrategy">ShardCoordinator.LeastShardAllocationStrategy</a>
picks shards for handoff from the <code>ShardRegion</code> with highest number of previously allocated shards.
They will then be allocated to the <code>ShardRegion</code> with lowest number of previously allocated shards,
i.e. new members in the cluster. There is a configurable <code>rebalance-threshold</code> of how large
the difference must be to begin the rebalancing. This strategy can be replaced by an application
specific implementation.</p><p><b>Recovery</b>:
The state of shard locations in the <code>ShardCoordinator</code> is stored with <code>akka-distributed-data</code> or
<code>akka-persistence</code> to survive failures. When a crashed or unreachable coordinator
node has been removed (via down) from the cluster a new <code>ShardCoordinator</code> singleton
actor will take over and the state is recovered. During such a failure period shards
with known location are still available, while messages for new (unknown) shards
are buffered until the new <code>ShardCoordinator</code> becomes available.</p><p><b>Delivery Semantics</b>:
As long as a sender uses the same <code>ShardRegion</code> actor to deliver messages to an entity
actor the order of the messages is preserved. As long as the buffer limit is not reached
messages are delivered on a best effort basis, with at-most once delivery semantics,
in the same way as ordinary message sending. Reliable end-to-end messaging, with
at-least-once semantics can be added by using <code>AtLeastOnceDelivery</code> in <code>akka-persistence</code>.</p><p>Some additional latency is introduced for messages targeted to new or previously
unused shards due to the round-trip to the coordinator. Rebalancing of shards may
also add latency. This should be considered when designing the application specific
shard resolution, e.g. to avoid too fine grained shards.</p><p>The <code>ShardRegion</code> actor can also be started in proxy only mode, i.e. it will not
host any entities itself, but knows how to delegate messages to the right location.</p><p>If the state of the entities are persistent you may stop entities that are not used to
reduce memory consumption. This is done by the application specific implementation of
the entity actors for example by defining receive timeout (<code>context.setReceiveTimeout</code>).
If a message is already enqueued to the entity when it stops itself the enqueued message
in the mailbox will be dropped. To support graceful passivation without losing such
messages the entity actor can send <a href="ShardRegion$$Passivate.html" class="extype" name="akka.cluster.sharding.ShardRegion.Passivate">ShardRegion.Passivate</a> to its parent <code>ShardRegion</code>.
The specified wrapped message in <code>Passivate</code> will be sent back to the entity, which is
then supposed to stop itself. Incoming messages will be buffered by the <code>ShardRegion</code>
between reception of <code>Passivate</code> and termination of the entity. Such buffered messages
are thereafter delivered to a new incarnation of the entity.</p></div></div>
    </li><li name="akka.cluster.sharding.ClusterShardingSettings" visbl="pub" class="indented0 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="ClusterShardingSettings"></a><a id="ClusterShardingSettings:ClusterShardingSettings"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#ClusterShardingSettings" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a title="" href="ClusterShardingSettings$.html"><span class="name">ClusterShardingSettings</span></a>
      </span>
      
      
    </li><li name="akka.cluster.sharding.EntityRecoveryStrategy" visbl="pub" class="indented0 " data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="EntityRecoveryStrategy"></a><a id="EntityRecoveryStrategy:EntityRecoveryStrategy"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#EntityRecoveryStrategy" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a title="" href="EntityRecoveryStrategy$.html"><span class="name">EntityRecoveryStrategy</span></a>
      </span>
      
      
    </li><li name="akka.cluster.sharding.RemoveInternalClusterShardingData" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="RemoveInternalClusterShardingData"></a><a id="RemoveInternalClusterShardingData:RemoveInternalClusterShardingData"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#RemoveInternalClusterShardingData" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a title="Utility program that removes the internal data stored with Akka Persistence by the Cluster ShardCoordinator." href="RemoveInternalClusterShardingData$.html"><span class="name">RemoveInternalClusterShardingData</span></a>
      </span>
      
      <p class="shortcomment cmt">Utility program that removes the internal data stored with Akka Persistence
by the Cluster <code>ShardCoordinator</code>.</p><div class="fullcomment"><div class="comment cmt"><p>Utility program that removes the internal data stored with Akka Persistence
by the Cluster <code>ShardCoordinator</code>. The data contains the locations of the
shards using Akka Persistence and it can safely be removed when restarting
the whole Akka Cluster. Note that this is not application data.</p><p><b>Never use this program while there are running Akka Cluster that is
using Cluster Sharding. Stop all Cluster nodes before using this program.</b></p><p>It can be needed to remove the data if the Cluster <code>ShardCoordinator</code>
cannot startup because of corrupt data, which may happen if accidentally
two clusters were running at the same time, e.g. caused by using auto-down
and there was a network partition.</p><p>Use this program as a standalone Java main program:</p><pre>java -classpath &lt;jar files, including akka-cluster-sharding&gt;
  akka.cluster.sharding.RemoveInternalClusterShardingData
    -<span class="num">2.3</span> entityType1 entityType2 entityType3</pre><p>The program is included in the <code>akka-cluster-sharding</code> jar file. It
is easiest to run it with same classpath and configuration as your ordinary
application. It can be run from sbt or maven in similar way.</p><p>Specify the entity type names (same as you use in the <code>start</code> method
of <code>ClusterSharding</code>) as program arguments.</p><p>If you specify <code>-2.3</code> as the first program argument it will also try
to remove data that was stored by Cluster Sharding in Akka 2.3.x using
different persistenceId.
</p></div></div>
    </li><li name="akka.cluster.sharding.ShardCoordinator" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ShardCoordinator"></a><a id="ShardCoordinator:ShardCoordinator"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#ShardCoordinator" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a title="" href="ShardCoordinator$.html"><span class="name">ShardCoordinator</span></a>
      </span>
      
      <p class="shortcomment cmt"></p><div class="fullcomment"><div class="comment cmt"></div><dl class="attributes block"> <dt>See also</dt><dd><span class="cmt"><p><a href="ClusterSharding$.html" class="extype" name="akka.cluster.sharding.ClusterSharding">ClusterSharding extension</a></p></span></dd></dl></div>
    </li><li name="akka.cluster.sharding.ShardRegion" visbl="pub" class="indented0 " data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ShardRegion"></a><a id="ShardRegion:ShardRegion"></a>
      <span class="permalink">
      <a href="../../../akka/cluster/sharding/index.html#ShardRegion" title="Permalink">
        <i class="material-icons"></i>
      </a>
    </span>
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a title="" href="ShardRegion$.html"><span class="name">ShardRegion</span></a>
      </span>
      
      <p class="shortcomment cmt"></p><div class="fullcomment"><div class="comment cmt"></div><dl class="attributes block"> <dt>See also</dt><dd><span class="cmt"><p><a href="ClusterSharding$.html" class="extype" name="akka.cluster.sharding.ClusterSharding">ClusterSharding extension</a></p></span></dd></dl></div>
    </li>
              </ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>
    </body>
          </div>
        </div>
      </div>
    </body>
      </html>
