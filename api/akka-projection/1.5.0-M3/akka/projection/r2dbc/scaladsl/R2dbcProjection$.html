<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title>Akka Projection 1.5.0-M3 - akka.projection.r2dbc.scaladsl.R2dbcProjection</title><meta content="Akka Projection 1.5.0 - M3 - akka.projection.r2dbc.scaladsl.R2dbcProjection" name="description"/><meta content="Akka Projection 1.5.0 M3 akka.projection.r2dbc.scaladsl.R2dbcProjection" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../../lib/index.js"></script><script type="text/javascript" src="../../../../index.js"></script><script type="text/javascript" src="../../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../../lib/template.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../../';</script></head><body><div id="search"><span id="doc-title">Akka Projection<span id="doc-version">1.5.0-M3</span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../index.html" title=""><span class="name">root</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.akka" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="akka" class="anchorToMember"></a><a id="akka:akka" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">akka</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="akka.projection" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="projection" class="anchorToMember"></a><a id="projection:projection" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title=""><span class="name">projection</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="akka" id="akka" class="extype">akka</a></dd></dl></div></li><li class="indented3 " name="akka.projection.r2dbc" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="r2dbc" class="anchorToMember"></a><a id="r2dbc:r2dbc" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title=""><span class="name">r2dbc</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="akka.projection" id="akka.projection" class="extype">projection</a></dd></dl></div></li><li class="indented4 " name="akka.projection.r2dbc.scaladsl" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="scaladsl" class="anchorToMember"></a><a id="scaladsl:scaladsl" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="index.html" title=""><span class="name">scaladsl</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="akka.projection.r2dbc" id="akka.projection.r2dbc" class="extype">r2dbc</a></dd></dl></div></li><li class="current-entities indented4"><a href="R2dbcHandler$.html" title="" class="object"></a> <a href="R2dbcHandler.html" title="Implement this interface for the Envelope handler for R2DBC Projections." class="trait"></a><a href="R2dbcHandler.html" title="Implement this interface for the Envelope handler for R2DBC Projections.">R2dbcHandler</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="" title="" class="object"></a><a href="" title="">R2dbcProjection</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="R2dbcReplication$.html" title="" class="object"></a><a href="R2dbcReplication$.html" title="">R2dbcReplication</a></li><li class="current-entities indented4"><span class="separator"></span> <a href="R2dbcSession.html" title="" class="class"></a><a href="R2dbcSession.html" title="">R2dbcSession</a></li></ul></div></div><div id="content"><body class="object value"><div id="definition"><div class="big-circle object">o</div><p id="owner"><a href="../../../index.html" name="akka" id="akka" class="extype">akka</a>.<a href="../../index.html" name="akka.projection" id="akka.projection" class="extype">projection</a>.<a href="../index.html" name="akka.projection.r2dbc" id="akka.projection.r2dbc" class="extype">r2dbc</a>.<a href="index.html" name="akka.projection.r2dbc.scaladsl" id="akka.projection.r2dbc.scaladsl" class="extype">scaladsl</a></p><h1>R2dbcProjection<span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html" title="Permalink"><i class="material-icons"></i></a></span></h1><h3><span class="morelinks"></span></h3></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><span class="name">R2dbcProjection</span></span></h4><div id="comment" class="fullcommenttop"><dl class="attributes block"><dt>Annotations</dt><dd><span class="name">@ApiMayChange</span><span class="args">()</span> </dd><dt>Source</dt><dd><a href="https://github.com/akka/akka-projection/tree/v1.5.0-M3/akka-projection-r2dbc/src/main/scala/akka/projection/r2dbc/scaladsl/R2dbcProjection.scala#L36" target="_blank">R2dbcProjection.scala</a></dd></dl><div class="toggleContainer"><div class="toggle block"><span>Linear Supertypes</span><div class="superTypes hiddenContent"><a href="https://www.scala-lang.org/api/2.13.11/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a>, <a href="https://www.scala-lang.org/api/2.13.11/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></div></div></div></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li><li class="inherit out"><span>By Inheritance</span></li></ol></div><div class="ancestors"><span class="filtertype">Inherited<br/></span><ol id="linearization"><li class="in" name="akka.projection.r2dbc.scaladsl.R2dbcProjection"><span>R2dbcProjection</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li></ol></div><div class="ancestors"><span class="filtertype"></span><ol><li class="hideall out"><span>Hide All</span></li><li class="showall in"><span>Show All</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div class="values members"><h3>Value Members</h3><ol><li class="indented0 " name="scala.AnyRef#!=" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="!=(x$1:Any):Boolean" class="anchorToMember"></a><a id="!=(Any):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#!=(x$1:Any):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $bang$eq">!=</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.11/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef###" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="##:Int" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html###:Int" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $hash$hash">##</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#==" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="==(x$1:Any):Boolean" class="anchorToMember"></a><a id="==(Any):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#==(x$1:Any):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name" title="gt4s: $eq$eq">==</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.11/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.Any#asInstanceOf" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="asInstanceOf[T0]:T0" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#asInstanceOf[T0]:T0" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">asInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <span name="scala.Any.asInstanceOf.T0" class="extype">T0</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>Any</dd></dl></div></li><li class="indented0 " name="akka.projection.r2dbc.scaladsl.R2dbcProjection#atLeastOnce" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="atLeastOnce[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.r2dbc.scaladsl.R2dbcHandler[Envelope])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.AtLeastOnceProjection[Offset,Envelope]" class="anchorToMember"></a><a id="atLeastOnce[Offset,Envelope](ProjectionId,Option[R2dbcProjectionSettings],SourceProvider[Offset,Envelope],()=&gt;R2dbcHandler[Envelope])(ActorSystem[_]):AtLeastOnceProjection[Offset,Envelope]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#atLeastOnce[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.r2dbc.scaladsl.R2dbcHandler[Envelope])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.AtLeastOnceProjection[Offset,Envelope]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">atLeastOnce</span><span class="tparams">[<span name="Offset">Offset</span>, <span name="Envelope">Envelope</span>]</span><span class="params">(<span name="projectionId">projectionId: <a href="../../ProjectionId.html" name="akka.projection.ProjectionId" id="akka.projection.ProjectionId" class="extype">ProjectionId</a></span>, <span name="settings">settings: <a href="https://www.scala-lang.org/api/2.13.11/scala/Option.html#scala.Option" name="scala.Option" id="scala.Option" class="extype">Option</a>[<a href="../R2dbcProjectionSettings.html" name="akka.projection.r2dbc.R2dbcProjectionSettings" id="akka.projection.r2dbc.R2dbcProjectionSettings" class="extype">R2dbcProjectionSettings</a>]</span>, <span name="sourceProvider">sourceProvider: <a href="../../scaladsl/SourceProvider.html" name="akka.projection.scaladsl.SourceProvider" id="akka.projection.scaladsl.SourceProvider" class="extype">SourceProvider</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnce.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnce.Envelope" class="extype">Envelope</span>]</span>, <span name="handler">handler: () =&gt; <a href="R2dbcHandler.html" name="akka.projection.r2dbc.scaladsl.R2dbcHandler" id="akka.projection.r2dbc.scaladsl.R2dbcHandler" class="extype">R2dbcHandler</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnce.Envelope" class="extype">Envelope</span>]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="system">system: <a href="https://doc.akka.io/api/akka/2.8.4/akka/actor/typed/ActorSystem.html#akka.actor.typed.ActorSystem" name="akka.actor.typed.ActorSystem" id="akka.actor.typed.ActorSystem" class="extype">ActorSystem</a>[_]</span>)</span><span class="result">: <a href="../../scaladsl/AtLeastOnceProjection.html" name="akka.projection.scaladsl.AtLeastOnceProjection" id="akka.projection.scaladsl.AtLeastOnceProjection" class="extype">AtLeastOnceProjection</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnce.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnce.Envelope" class="extype">Envelope</span>]</span></span><p class="shortcomment cmt">Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> with at-least-once processing semantics.</p><div class="fullcomment"><div class="comment cmt"><p>Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> with at-least-once processing semantics.</p><p>It stores the offset in a relational database table using R2DBC after the <code>handler</code> has processed the envelope.
This means that if the projection is restarted from previously stored offset then some elements may be processed
more than once.</p><p>The <span name="R2dbcHandler.process()" class="extype">R2dbcHandler.process()</span> in <code>handler</code> will be wrapped in a transaction. The transaction will be committed
after invoking <span name="R2dbcHandler.process()" class="extype">R2dbcHandler.process()</span>.</p><p>The offset is stored after a time window, or limited by a number of envelopes, whatever happens first. This window
can be defined with <span name="AtLeastOnceProjection.withSaveOffset" class="extype">AtLeastOnceProjection.withSaveOffset</span> of the returned <code>AtLeastOnceProjection</code>. The default
settings for the window is defined in configuration section <code>akka.projection.at-least-once</code>.
</p></div></div></li><li class="indented0 " name="akka.projection.r2dbc.scaladsl.R2dbcProjection#atLeastOnceAsync" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="atLeastOnceAsync[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.scaladsl.Handler[Envelope])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.AtLeastOnceProjection[Offset,Envelope]" class="anchorToMember"></a><a id="atLeastOnceAsync[Offset,Envelope](ProjectionId,Option[R2dbcProjectionSettings],SourceProvider[Offset,Envelope],()=&gt;Handler[Envelope])(ActorSystem[_]):AtLeastOnceProjection[Offset,Envelope]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#atLeastOnceAsync[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.scaladsl.Handler[Envelope])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.AtLeastOnceProjection[Offset,Envelope]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">atLeastOnceAsync</span><span class="tparams">[<span name="Offset">Offset</span>, <span name="Envelope">Envelope</span>]</span><span class="params">(<span name="projectionId">projectionId: <a href="../../ProjectionId.html" name="akka.projection.ProjectionId" id="akka.projection.ProjectionId" class="extype">ProjectionId</a></span>, <span name="settings">settings: <a href="https://www.scala-lang.org/api/2.13.11/scala/Option.html#scala.Option" name="scala.Option" id="scala.Option" class="extype">Option</a>[<a href="../R2dbcProjectionSettings.html" name="akka.projection.r2dbc.R2dbcProjectionSettings" id="akka.projection.r2dbc.R2dbcProjectionSettings" class="extype">R2dbcProjectionSettings</a>]</span>, <span name="sourceProvider">sourceProvider: <a href="../../scaladsl/SourceProvider.html" name="akka.projection.scaladsl.SourceProvider" id="akka.projection.scaladsl.SourceProvider" class="extype">SourceProvider</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnceAsync.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnceAsync.Envelope" class="extype">Envelope</span>]</span>, <span name="handler">handler: () =&gt; <a href="../../scaladsl/Handler.html" name="akka.projection.scaladsl.Handler" id="akka.projection.scaladsl.Handler" class="extype">Handler</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnceAsync.Envelope" class="extype">Envelope</span>]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="system">system: <a href="https://doc.akka.io/api/akka/2.8.4/akka/actor/typed/ActorSystem.html#akka.actor.typed.ActorSystem" name="akka.actor.typed.ActorSystem" id="akka.actor.typed.ActorSystem" class="extype">ActorSystem</a>[_]</span>)</span><span class="result">: <a href="../../scaladsl/AtLeastOnceProjection.html" name="akka.projection.scaladsl.AtLeastOnceProjection" id="akka.projection.scaladsl.AtLeastOnceProjection" class="extype">AtLeastOnceProjection</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnceAsync.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnceAsync.Envelope" class="extype">Envelope</span>]</span></span><p class="shortcomment cmt">Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> with at-least-once processing semantics.</p><div class="fullcomment"><div class="comment cmt"><p>Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> with at-least-once processing semantics.</p><p>Compared to <a href="#atLeastOnce[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.r2dbc.scaladsl.R2dbcHandler[Envelope])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.AtLeastOnceProjection[Offset,Envelope]" name="akka.projection.r2dbc.scaladsl.R2dbcProjection#atLeastOnce" id="akka.projection.r2dbc.scaladsl.R2dbcProjection#atLeastOnce" class="extmbr">R2dbcProjection.atLeastOnce</a> the <span name="Handler" class="extype">Handler</span> is not storing the projected result in the database,
but is integrating with something else.</p><p>It stores the offset in a relational database table using R2DBC after the <code>handler</code> has processed the envelope.
This means that if the projection is restarted from previously stored offset then some elements may be processed
more than once.</p><p>The offset is stored after a time window, or limited by a number of envelopes, whatever happens first. This window
can be defined with <span name="AtLeastOnceProjection.withSaveOffset" class="extype">AtLeastOnceProjection.withSaveOffset</span> of the returned <code>AtLeastOnceProjection</code>. The default
settings for the window is defined in configuration section <code>akka.projection.at-least-once</code>.
</p></div></div></li><li class="indented0 " name="akka.projection.r2dbc.scaladsl.R2dbcProjection#atLeastOnceFlow" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="atLeastOnceFlow[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:akka.stream.scaladsl.FlowWithContext[Envelope,akka.projection.ProjectionContext,akka.Done,akka.projection.ProjectionContext,_])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.AtLeastOnceFlowProjection[Offset,Envelope]" class="anchorToMember"></a><a id="atLeastOnceFlow[Offset,Envelope](ProjectionId,Option[R2dbcProjectionSettings],SourceProvider[Offset,Envelope],FlowWithContext[Envelope,ProjectionContext,Done,ProjectionContext,_])(ActorSystem[_]):AtLeastOnceFlowProjection[Offset,Envelope]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#atLeastOnceFlow[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:akka.stream.scaladsl.FlowWithContext[Envelope,akka.projection.ProjectionContext,akka.Done,akka.projection.ProjectionContext,_])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.AtLeastOnceFlowProjection[Offset,Envelope]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">atLeastOnceFlow</span><span class="tparams">[<span name="Offset">Offset</span>, <span name="Envelope">Envelope</span>]</span><span class="params">(<span name="projectionId">projectionId: <a href="../../ProjectionId.html" name="akka.projection.ProjectionId" id="akka.projection.ProjectionId" class="extype">ProjectionId</a></span>, <span name="settings">settings: <a href="https://www.scala-lang.org/api/2.13.11/scala/Option.html#scala.Option" name="scala.Option" id="scala.Option" class="extype">Option</a>[<a href="../R2dbcProjectionSettings.html" name="akka.projection.r2dbc.R2dbcProjectionSettings" id="akka.projection.r2dbc.R2dbcProjectionSettings" class="extype">R2dbcProjectionSettings</a>]</span>, <span name="sourceProvider">sourceProvider: <a href="../../scaladsl/SourceProvider.html" name="akka.projection.scaladsl.SourceProvider" id="akka.projection.scaladsl.SourceProvider" class="extype">SourceProvider</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnceFlow.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnceFlow.Envelope" class="extype">Envelope</span>]</span>, <span name="handler">handler: <a href="https://doc.akka.io/api/akka/2.8.4/akka/stream/scaladsl/FlowWithContext.html#akka.stream.scaladsl.FlowWithContext" name="akka.stream.scaladsl.FlowWithContext" id="akka.stream.scaladsl.FlowWithContext" class="extype">FlowWithContext</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnceFlow.Envelope" class="extype">Envelope</span>, <a href="../../ProjectionContext.html" name="akka.projection.ProjectionContext" id="akka.projection.ProjectionContext" class="extype">ProjectionContext</a>, <a href="https://doc.akka.io/api/akka/2.8.4/akka/Done.html#akka.Done" name="akka.Done" id="akka.Done" class="extype">Done</a>, <a href="../../ProjectionContext.html" name="akka.projection.ProjectionContext" id="akka.projection.ProjectionContext" class="extype">ProjectionContext</a>, _]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="system">system: <a href="https://doc.akka.io/api/akka/2.8.4/akka/actor/typed/ActorSystem.html#akka.actor.typed.ActorSystem" name="akka.actor.typed.ActorSystem" id="akka.actor.typed.ActorSystem" class="extype">ActorSystem</a>[_]</span>)</span><span class="result">: <a href="../../scaladsl/AtLeastOnceFlowProjection.html" name="akka.projection.scaladsl.AtLeastOnceFlowProjection" id="akka.projection.scaladsl.AtLeastOnceFlowProjection" class="extype">AtLeastOnceFlowProjection</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnceFlow.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.atLeastOnceFlow.Envelope" class="extype">Envelope</span>]</span></span><p class="shortcomment cmt">Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> with a <span name="FlowWithContext" class="extype">FlowWithContext</span> as the envelope handler.</p><div class="fullcomment"><div class="comment cmt"><p>Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> with a <span name="FlowWithContext" class="extype">FlowWithContext</span> as the envelope handler. It has at-least-once
processing semantics.</p><p>The flow should emit a <code>Done</code> element for each completed envelope. The offset of the envelope is carried in the
context of the <code>FlowWithContext</code> and is stored in the database when corresponding <code>Done</code> is emitted. Since the
offset is stored after processing the envelope it means that if the projection is restarted from previously stored
offset then some envelopes may be processed more than once.</p><p>If the flow filters out envelopes the corresponding offset will not be stored, and such envelope will be processed
again if the projection is restarted and no later offset was stored.</p><p>The flow should not duplicate emitted envelopes (<code>mapConcat</code>) with same offset, because then it can result in that
the first offset is stored and when the projection is restarted that offset is considered completed even though
more of the duplicated enveloped were never processed.</p><p>The flow must not reorder elements, because the offsets may be stored in the wrong order and and when the
projection is restarted all envelopes up to the latest stored offset are considered completed even though some of
them may not have been processed. This is the reason the flow is restricted to <code>FlowWithContext</code> rather than
ordinary <code>Flow</code>.
</p></div></div></li><li class="indented0 " name="scala.AnyRef#clone" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="prt"><a id="clone():Object" class="anchorToMember"></a><a id="clone():AnyRef" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#clone():Object" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">clone</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Attributes</dt><dd>protected[<span name="java.lang" class="extype">lang</span>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.CloneNotSupportedException]</span></span>)</span> <span class="name">@native</span><span class="args">()</span> <span class="name">@HotSpotIntrinsicCandidate</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#eq" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="eq(x$1:AnyRef):Boolean" class="anchorToMember"></a><a id="eq(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#eq(x$1:AnyRef):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">eq</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.11/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#equals" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="equals(x$1:Object):Boolean" class="anchorToMember"></a><a id="equals(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#equals(x$1:Object):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">equals</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.11/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="akka.projection.r2dbc.scaladsl.R2dbcProjection#exactlyOnce" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="exactlyOnce[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.r2dbc.scaladsl.R2dbcHandler[Envelope])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.ExactlyOnceProjection[Offset,Envelope]" class="anchorToMember"></a><a id="exactlyOnce[Offset,Envelope](ProjectionId,Option[R2dbcProjectionSettings],SourceProvider[Offset,Envelope],()=&gt;R2dbcHandler[Envelope])(ActorSystem[_]):ExactlyOnceProjection[Offset,Envelope]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#exactlyOnce[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.r2dbc.scaladsl.R2dbcHandler[Envelope])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.ExactlyOnceProjection[Offset,Envelope]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">exactlyOnce</span><span class="tparams">[<span name="Offset">Offset</span>, <span name="Envelope">Envelope</span>]</span><span class="params">(<span name="projectionId">projectionId: <a href="../../ProjectionId.html" name="akka.projection.ProjectionId" id="akka.projection.ProjectionId" class="extype">ProjectionId</a></span>, <span name="settings">settings: <a href="https://www.scala-lang.org/api/2.13.11/scala/Option.html#scala.Option" name="scala.Option" id="scala.Option" class="extype">Option</a>[<a href="../R2dbcProjectionSettings.html" name="akka.projection.r2dbc.R2dbcProjectionSettings" id="akka.projection.r2dbc.R2dbcProjectionSettings" class="extype">R2dbcProjectionSettings</a>]</span>, <span name="sourceProvider">sourceProvider: <a href="../../scaladsl/SourceProvider.html" name="akka.projection.scaladsl.SourceProvider" id="akka.projection.scaladsl.SourceProvider" class="extype">SourceProvider</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.exactlyOnce.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.exactlyOnce.Envelope" class="extype">Envelope</span>]</span>, <span name="handler">handler: () =&gt; <a href="R2dbcHandler.html" name="akka.projection.r2dbc.scaladsl.R2dbcHandler" id="akka.projection.r2dbc.scaladsl.R2dbcHandler" class="extype">R2dbcHandler</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.exactlyOnce.Envelope" class="extype">Envelope</span>]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="system">system: <a href="https://doc.akka.io/api/akka/2.8.4/akka/actor/typed/ActorSystem.html#akka.actor.typed.ActorSystem" name="akka.actor.typed.ActorSystem" id="akka.actor.typed.ActorSystem" class="extype">ActorSystem</a>[_]</span>)</span><span class="result">: <a href="../../scaladsl/ExactlyOnceProjection.html" name="akka.projection.scaladsl.ExactlyOnceProjection" id="akka.projection.scaladsl.ExactlyOnceProjection" class="extype">ExactlyOnceProjection</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.exactlyOnce.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.exactlyOnce.Envelope" class="extype">Envelope</span>]</span></span><p class="shortcomment cmt">Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> with exactly-once processing semantics.</p><div class="fullcomment"><div class="comment cmt"><p>Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> with exactly-once processing semantics.</p><p>It stores the offset in a relational database table using R2DBC in the same transaction as the user defined
<code>handler</code>.
</p></div></div></li><li class="indented0 " name="scala.AnyRef#getClass" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="getClass():Class[_]" class="anchorToMember"></a><a id="getClass():Class[_&lt;:AnyRef]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#getClass():Class[_]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">getClass</span><span class="params">()</span><span class="result">: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html#java.lang.Class" name="java.lang.Class" id="java.lang.Class" class="extype">Class</a>[_ &lt;: <a href="https://www.scala-lang.org/api/2.13.11/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a>]</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> <span class="name">@HotSpotIntrinsicCandidate</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="akka.projection.r2dbc.scaladsl.R2dbcProjection#groupedWithin" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="groupedWithin[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.r2dbc.scaladsl.R2dbcHandler[Seq[Envelope]])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.GroupedProjection[Offset,Envelope]" class="anchorToMember"></a><a id="groupedWithin[Offset,Envelope](ProjectionId,Option[R2dbcProjectionSettings],SourceProvider[Offset,Envelope],()=&gt;R2dbcHandler[Seq[Envelope]])(ActorSystem[_]):GroupedProjection[Offset,Envelope]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#groupedWithin[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.r2dbc.scaladsl.R2dbcHandler[Seq[Envelope]])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.GroupedProjection[Offset,Envelope]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">groupedWithin</span><span class="tparams">[<span name="Offset">Offset</span>, <span name="Envelope">Envelope</span>]</span><span class="params">(<span name="projectionId">projectionId: <a href="../../ProjectionId.html" name="akka.projection.ProjectionId" id="akka.projection.ProjectionId" class="extype">ProjectionId</a></span>, <span name="settings">settings: <a href="https://www.scala-lang.org/api/2.13.11/scala/Option.html#scala.Option" name="scala.Option" id="scala.Option" class="extype">Option</a>[<a href="../R2dbcProjectionSettings.html" name="akka.projection.r2dbc.R2dbcProjectionSettings" id="akka.projection.r2dbc.R2dbcProjectionSettings" class="extype">R2dbcProjectionSettings</a>]</span>, <span name="sourceProvider">sourceProvider: <a href="../../scaladsl/SourceProvider.html" name="akka.projection.scaladsl.SourceProvider" id="akka.projection.scaladsl.SourceProvider" class="extype">SourceProvider</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.groupedWithin.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.groupedWithin.Envelope" class="extype">Envelope</span>]</span>, <span name="handler">handler: () =&gt; <a href="R2dbcHandler.html" name="akka.projection.r2dbc.scaladsl.R2dbcHandler" id="akka.projection.r2dbc.scaladsl.R2dbcHandler" class="extype">R2dbcHandler</a>[<a href="https://www.scala-lang.org/api/2.13.11/scala/collection/immutable/Seq.html#scala.collection.immutable.Seq" name="scala.collection.immutable.Seq" id="scala.collection.immutable.Seq" class="extype">Seq</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.groupedWithin.Envelope" class="extype">Envelope</span>]]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="system">system: <a href="https://doc.akka.io/api/akka/2.8.4/akka/actor/typed/ActorSystem.html#akka.actor.typed.ActorSystem" name="akka.actor.typed.ActorSystem" id="akka.actor.typed.ActorSystem" class="extype">ActorSystem</a>[_]</span>)</span><span class="result">: <a href="../../scaladsl/GroupedProjection.html" name="akka.projection.scaladsl.GroupedProjection" id="akka.projection.scaladsl.GroupedProjection" class="extype">GroupedProjection</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.groupedWithin.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.groupedWithin.Envelope" class="extype">Envelope</span>]</span></span><p class="shortcomment cmt">Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> that groups envelopes and calls the <code>handler</code> with a group of <code>Envelopes</code>.</p><div class="fullcomment"><div class="comment cmt"><p>Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> that groups envelopes and calls the <code>handler</code> with a group of <code>Envelopes</code>.
The envelopes are grouped within a time window, or limited by a number of envelopes, whatever happens first. This
window can be defined with <span name="GroupedProjection.withGroup" class="extype">GroupedProjection.withGroup</span> of the returned <code>GroupedProjection</code>. The default
settings for the window is defined in configuration section <code>akka.projection.grouped</code>.</p><p>It stores the offset in a relational database table using R2DBC in the same transaction as the user defined
<code>handler</code>.
</p></div></div></li><li class="indented0 " name="akka.projection.r2dbc.scaladsl.R2dbcProjection#groupedWithinAsync" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="groupedWithinAsync[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.scaladsl.Handler[Seq[Envelope]])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.GroupedProjection[Offset,Envelope]" class="anchorToMember"></a><a id="groupedWithinAsync[Offset,Envelope](ProjectionId,Option[R2dbcProjectionSettings],SourceProvider[Offset,Envelope],()=&gt;Handler[Seq[Envelope]])(ActorSystem[_]):GroupedProjection[Offset,Envelope]" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#groupedWithinAsync[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.scaladsl.Handler[Seq[Envelope]])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.GroupedProjection[Offset,Envelope]" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">groupedWithinAsync</span><span class="tparams">[<span name="Offset">Offset</span>, <span name="Envelope">Envelope</span>]</span><span class="params">(<span name="projectionId">projectionId: <a href="../../ProjectionId.html" name="akka.projection.ProjectionId" id="akka.projection.ProjectionId" class="extype">ProjectionId</a></span>, <span name="settings">settings: <a href="https://www.scala-lang.org/api/2.13.11/scala/Option.html#scala.Option" name="scala.Option" id="scala.Option" class="extype">Option</a>[<a href="../R2dbcProjectionSettings.html" name="akka.projection.r2dbc.R2dbcProjectionSettings" id="akka.projection.r2dbc.R2dbcProjectionSettings" class="extype">R2dbcProjectionSettings</a>]</span>, <span name="sourceProvider">sourceProvider: <a href="../../scaladsl/SourceProvider.html" name="akka.projection.scaladsl.SourceProvider" id="akka.projection.scaladsl.SourceProvider" class="extype">SourceProvider</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.groupedWithinAsync.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.groupedWithinAsync.Envelope" class="extype">Envelope</span>]</span>, <span name="handler">handler: () =&gt; <a href="../../scaladsl/Handler.html" name="akka.projection.scaladsl.Handler" id="akka.projection.scaladsl.Handler" class="extype">Handler</a>[<a href="https://www.scala-lang.org/api/2.13.11/scala/collection/immutable/Seq.html#scala.collection.immutable.Seq" name="scala.collection.immutable.Seq" id="scala.collection.immutable.Seq" class="extype">Seq</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.groupedWithinAsync.Envelope" class="extype">Envelope</span>]]</span>)</span><span class="params">(<span class="implicit">implicit </span><span name="system">system: <a href="https://doc.akka.io/api/akka/2.8.4/akka/actor/typed/ActorSystem.html#akka.actor.typed.ActorSystem" name="akka.actor.typed.ActorSystem" id="akka.actor.typed.ActorSystem" class="extype">ActorSystem</a>[_]</span>)</span><span class="result">: <a href="../../scaladsl/GroupedProjection.html" name="akka.projection.scaladsl.GroupedProjection" id="akka.projection.scaladsl.GroupedProjection" class="extype">GroupedProjection</a>[<span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.groupedWithinAsync.Offset" class="extype">Offset</span>, <span name="akka.projection.r2dbc.scaladsl.R2dbcProjection.groupedWithinAsync.Envelope" class="extype">Envelope</span>]</span></span><p class="shortcomment cmt">Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> that groups envelopes and calls the <code>handler</code> with a group of <code>Envelopes</code>.</p><div class="fullcomment"><div class="comment cmt"><p>Create a <a href="../../Projection.html" name="akka.projection.Projection" id="akka.projection.Projection" class="extype">akka.projection.Projection</a> that groups envelopes and calls the <code>handler</code> with a group of <code>Envelopes</code>.
The envelopes are grouped within a time window, or limited by a number of envelopes, whatever happens first. This
window can be defined with <span name="GroupedProjection.withGroup" class="extype">GroupedProjection.withGroup</span> of the returned <code>GroupedProjection</code>. The default
settings for the window is defined in configuration section <code>akka.projection.grouped</code>.</p><p>Compared to <a href="#groupedWithin[Offset,Envelope](projectionId:akka.projection.ProjectionId,settings:Option[akka.projection.r2dbc.R2dbcProjectionSettings],sourceProvider:akka.projection.scaladsl.SourceProvider[Offset,Envelope],handler:()=&gt;akka.projection.r2dbc.scaladsl.R2dbcHandler[Seq[Envelope]])(implicitsystem:akka.actor.typed.ActorSystem[_]):akka.projection.scaladsl.GroupedProjection[Offset,Envelope]" name="akka.projection.r2dbc.scaladsl.R2dbcProjection#groupedWithin" id="akka.projection.r2dbc.scaladsl.R2dbcProjection#groupedWithin" class="extmbr">R2dbcProjection.groupedWithin</a> the <span name="Handler" class="extype">Handler</span> is not storing the projected result in the database,
but is integrating with something else.</p><p>It stores the offset in a relational database table using R2DBC immediately after the <code>handler</code> has processed the
envelopes, but that is still with at-least-once processing semantics. This means that if the projection is
restarted from previously stored offset the previous group of envelopes may be processed more than once.
</p></div></div></li><li class="indented0 " name="scala.AnyRef#hashCode" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="hashCode():Int" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#hashCode():Int" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">hashCode</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> <span class="name">@HotSpotIntrinsicCandidate</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.Any#isInstanceOf" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="isInstanceOf[T0]:Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#isInstanceOf[T0]:Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">isInstanceOf</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#ne" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="ne(x$1:AnyRef):Boolean" class="anchorToMember"></a><a id="ne(AnyRef):Boolean" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#ne(x$1:AnyRef):Boolean" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">ne</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.11/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Boolean.html#scala.Boolean" name="scala.Boolean" id="scala.Boolean" class="extype">Boolean</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#notify" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="notify():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#notify():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">notify</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> <span class="name">@HotSpotIntrinsicCandidate</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#notifyAll" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="notifyAll():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#notifyAll():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">notifyAll</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@native</span><span class="args">()</span> <span class="name">@HotSpotIntrinsicCandidate</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#synchronized" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="synchronized[T0](x$1:=&gt;T0):T0" class="anchorToMember"></a><a id="synchronized[T0](=&gt;T0):T0" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#synchronized[T0](x$1:=&gt;T0):T0" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">synchronized</span><span class="tparams">[<span name="T0">T0</span>]</span><span class="params">(<span name="arg0">arg0: =&gt; <span name="java.lang.AnyRef.synchronized.T0" class="extype">T0</span></span>)</span><span class="result">: <span name="java.lang.AnyRef.synchronized.T0" class="extype">T0</span></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#toString" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="toString():String" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#toString():String" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name">toString</span><span class="params">()</span><span class="result">: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#java.lang.String" name="java.lang.String" id="java.lang.String" class="extype">String</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef → Any</dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait(x$1:Long,x$2:Int):Unit" class="anchorToMember"></a><a id="wait(Long,Int):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#wait(x$1:Long,x$2:Int):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.11/scala/Long.html#scala.Long" name="scala.Long" id="scala.Long" class="extype">Long</a></span>, <span name="arg1">arg1: <a href="https://www.scala-lang.org/api/2.13.11/scala/Int.html#scala.Int" name="scala.Int" id="scala.Int" class="extype">Int</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait(x$1:Long):Unit" class="anchorToMember"></a><a id="wait(Long):Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#wait(x$1:Long):Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">(<span name="arg0">arg0: <a href="https://www.scala-lang.org/api/2.13.11/scala/Long.html#scala.Long" name="scala.Long" id="scala.Long" class="extype">Long</a></span>)</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> <span class="name">@native</span><span class="args">()</span> </dd></dl></div></li><li class="indented0 " name="scala.AnyRef#wait" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="wait():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#wait():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier">final </span> <span class="kind">def</span></span> <span class="symbol"><span class="name">wait</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="defval">classOf[java.lang.InterruptedException]</span></span>)</span> </dd></dl></div></li></ol></div><div class="values members"><h3>Deprecated Value Members</h3><ol><li class="indented0 " name="scala.AnyRef#finalize" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="prt"><a id="finalize():Unit" class="anchorToMember"></a> <span class="permalink"><a href="../../../../akka/projection/r2dbc/scaladsl/R2dbcProjection$.html#finalize():Unit" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">def</span></span> <span class="symbol"><span class="name deprecated" title="Deprecated: ">finalize</span><span class="params">()</span><span class="result">: <a href="https://www.scala-lang.org/api/2.13.11/scala/Unit.html#scala.Unit" name="scala.Unit" id="scala.Unit" class="extype">Unit</a></span></span><div class="fullcomment"><dl class="attributes block"><dt>Attributes</dt><dd>protected[<span name="java.lang" class="extype">lang</span>] </dd><dt>Definition Classes</dt><dd>AnyRef</dd><dt>Annotations</dt><dd><span class="name">@throws</span><span class="args">(<span><span class="symbol">classOf[java.lang.Throwable]</span></span>)</span> <span class="name">@Deprecated</span> <span class="name">@Deprecated</span> </dd><dt>Deprecated</dt><dd class="cmt"></dd></dl></div></li></ol></div></div><div id="inheritedMembers"><div name="scala.AnyRef" class="parent"><h3>Inherited from <a href="https://www.scala-lang.org/api/2.13.11/scala/AnyRef.html#scala.AnyRef" name="scala.AnyRef" id="scala.AnyRef" class="extype">AnyRef</a></h3></div><div name="scala.Any" class="parent"><h3>Inherited from <a href="https://www.scala-lang.org/api/2.13.11/scala/Any.html#scala.Any" name="scala.Any" id="scala.Any" class="extype">Any</a></h3></div></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer"></div></body></div></div></div></body></html>
