<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>GDPR for Akka Persistence &bull; Akka Enhancements</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Akka Enhancements is a suite of useful components that complement Akka."/>
<link rel="canonical" href="https://doc.akka.io/docs/akka-enhancements/current/gdpr/index.html"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="../css/icons.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>
<link rel="shortcut icon" href="../images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png"/>
<link rel="manifest" href="../images/manifest.json"/>
<meta name="msapplication-TileImage" content="../images/mstile-150x150.png"/>
<meta name="msapplication-TileColor" content="#15a9ce"/>
<meta name="theme-color" content="#15a9ce"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://optanon.blob.core.windows.net/consent/159bb13d-6748-4399-806e-ac28db879785.js" type="text/javascript" charset="UTF-8"></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', '']);
_gaq.push(['_setDomainName', '']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<script type="text/plain" class="optanon-category-2">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-23127719-1', 'lightbend.com', {'allowLinker': true, 'name': 'tsTracker'});
ga('tsTracker.require', 'linker');
ga('tsTracker.linker:autoLink', ['lightbend.com','playframework.com','scala-lang.org','scaladays.org','spray.io','akka.io','scala-sbt.org','scala-ide.org']);
ga('tsTracker.send', 'pageview');
</script>
<!--Marketo-->
<script type="text/plain" class="optanon-category-3">
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702', { 'asyncOnly': true, 'disableClickDelay': true });
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '//munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
</head>

<body id="underlay" data-toggler="nav-open">

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="https://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka Enhancements</a></h1>
</div>
<div class="nav-header-version">
Version 1.1.9
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Languages"><option class="group" value="group-java">Java</option><option class="group" value="group-scala">Scala</option></select>
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="../akka-resilience-enhancements.html" class="page">Akka Resilience Enhancements</a></li>
  <li><a href="../akka-persistence-enhancements.html" class="page">Akka Persistence Enhancements</a>
  <ul>
    <li><a href="../persistence-dc/index.html" class="page">Akka Multi-DC Persistence</a></li>
    <li><a href="../gdpr/index.html#gdpr-for-akka-persistence" class="active page">GDPR for Akka Persistence</a>
    <ul>
      <li><a href="../gdpr/index.html#introduction" class="header">Introduction</a></li>
      <li><a href="../gdpr/data-subject-id.html" class="page">Subject identifiers</a></li>
      <li><a href="../gdpr/shredding.html" class="page">Shred or delete?</a></li>
      <li><a href="../gdpr/using.html" class="page">Using akka-gdpr</a></li>
      <li><a href="../gdpr/encryption.html" class="page">Encrypting data</a></li>
      <li><a href="../gdpr/migration.html" class="page">Migrating existing data</a></li>
      <li><a href="../gdpr/lagom.html" class="page">Lagom specifics</a></li>
      <li><a href="../gdpr/other-storage.html" class="page">Other data storage</a></li>
    </ul></li>
    <li><a href="../akka-persistence-enhancements-release-notes.html" class="page">Akka Persistence Enhancements Release Notes</a></li>
  </ul></li>
</ul>
</nav>
</div>
</header>

<aside class="show-for-large">
<header class="nav-header fixed-sidebar-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka Enhancements</a></h1>
</div>
<div class="nav-header-version">
Version 1.1.9
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Languages"><option class="group" value="group-java">Java</option><option class="group" value="group-scala">Scala</option></select>
</div>
</header>
<nav class="site-nav fixed-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="../akka-resilience-enhancements.html" class="page">Akka Resilience Enhancements</a></li>
  <li><a href="../akka-persistence-enhancements.html" class="page">Akka Persistence Enhancements</a>
  <ul>
    <li><a href="../persistence-dc/index.html" class="page">Akka Multi-DC Persistence</a></li>
    <li><a href="../gdpr/index.html#gdpr-for-akka-persistence" class="active page">GDPR for Akka Persistence</a>
    <ul>
      <li><a href="../gdpr/index.html#introduction" class="header">Introduction</a></li>
      <li><a href="../gdpr/data-subject-id.html" class="page">Subject identifiers</a></li>
      <li><a href="../gdpr/shredding.html" class="page">Shred or delete?</a></li>
      <li><a href="../gdpr/using.html" class="page">Using akka-gdpr</a></li>
      <li><a href="../gdpr/encryption.html" class="page">Encrypting data</a></li>
      <li><a href="../gdpr/migration.html" class="page">Migrating existing data</a></li>
      <li><a href="../gdpr/lagom.html" class="page">Lagom specifics</a></li>
      <li><a href="../gdpr/other-storage.html" class="page">Other data storage</a></li>
    </ul></li>
    <li><a href="../akka-persistence-enhancements-release-notes.html" class="page">Akka Persistence Enhancements Release Notes</a></li>
  </ul></li>
</ul>
</div>
</nav>
<footer class="nav-footer fixed-sidebar-footer">
<a href="https://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

</footer>
</aside>

<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">

<article class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#gdpr-for-akka-persistence" name="gdpr-for-akka-persistence" class="anchor"><span class="anchor-link"></span></a>GDPR for Akka Persistence</h1>
<p>The General Data Protection Regulation (GDPR) took effect in May of 2018. It requires organizations that collect personal data to inform their users about the <em>purpose</em> of collection and to obtain <em>permission</em> to store that information. Compliance requires communication with end-users as well as changes to persistence patterns. Existing systems that persist data must now allow personal data to be deleted at a user&rsquo;s request, and new systems must be built with that capability.</p>
<p>In this document, we describe GDPR for Akka Persistence modules and recommend techniques that will help you build or modify a system that allows for safe deletion of personal data. However, keep in mind that data deletion alone does not satisfy GDPR regulations and no toolkit or framework will make you automatically compliant. The explanation of permissions to users and the potential reasons for collecting data must also align with GDPR rules.</p>
<p>We recommend reading the official <a href="https://gdpr-info.eu">gdpr-info.eu</a> document even if you are focusing on internal system capabilities. Chapter 3, <a href="https://gdpr-info.eu/chapter-3/">Rights of the data subject</a>, describes the right of users to inquire about the information stored about them, and ensures the &ldquo;Right to be Forgotten&rdquo; (Art 17).</p><div class="callout warning "><div class="callout-title">Warning</div>
<p>This module is currently marked as <a href="https://doc.akka.io/docs/akka/2.5/common/may-change.html">May Change</a> in the sense that the API might be changed based on feedback from initial usage. However, the module is ready for use in production and future changes will not break the serialization format of messages or of stored data.</p></div>
<h2><a href="#introduction" name="introduction" class="anchor"><span class="anchor-link"></span></a>Introduction</h2>
<p>With respect to persistence, systems complying with GDPR must have the capability: 1) to identify all personal data belonging to a particular user, and 2) to delete or to &ldquo;forget&rdquo; that data. Data shredding is a technique that &ldquo;forgets&rdquo; information instead of deleting or modifying it. Shredding can be accomplished by encrypting data with a key for a given person and deleting the key when that data should be forgotten.</p>
<p>Event Sourcing systems store the entire event sequence that results in the total state of entities. Many events containing personal information lead up to the current state, rather than just a single record. In addition, the same information might be stored in other locations, such as denormalized projections, snapshots and backups. This makes it more difficult to modify or delete all state, therefore we offer tools based on shredding. GDPR for Akka Persistence modules make it easier to implement this functionality when using Akka or Lagom event sourcing. However, you can also use the encrypted key with non-event sourced data, such as CRUD with a relational database.</p>
<p>GDPR for Akka Persistence modules include APIs to help you achieve the following:</p>
<ul>
  <li>
  <p>Identify data associated with a particular subject (person). One of the most important concepts in GDPR is the &ldquo;data subject id&rdquo;. In <a href="data-subject-id.html">Subject identifiers</a> we offer some advice on selecting the right way to represent such identifiers.</p></li>
  <li>
  <p>Achieve the &ldquo;right to forget&rdquo;. Data shredding can be used to forget information in events. This involves encrypting events with a key for a given data subject id and deleting the key when that data subject is to be forgotten. The section <a href="shredding.html">Shred or delete?</a> goes into further detail about shredding and <a href="using.html">Using akka-gdpr</a> explains how the <code>akka-gdpr</code> module works and general steps for using it.</p></li>
  <li>
  <p>Retrieve events related to a particular subject (person). You can use an <code>eventsByTag</code> query to retrieve all events tagged with a given data subject id.</p></li>
  <li>
  <p>Add an encrypted ID to existing data. With existing systems that do not currently comply with the new GDPR requirements, you can use <code>akka-persistence-update</code> to transform events in-place in a one time migration and to delete or update snapshots that may contain personal information. These techniques are described in the <a href="migration.html"> Migrating existing data</a> section.</p></li>
</ul>
<p>GDPR for Akka Persistence modules work with the following:</p>
<ul>
  <li><a href="https://doc.akka.io/docs/akka/2.5/persistence.html">Akka Persistent Actor</a></li>
  <li><span class="group-java"><a href="https://www.lagomframework.com/documentation/current/java/PersistentEntity.html">Lagom PersistentEntity</a></span><span class="group-scala"><a href="https://www.lagomframework.com/documentation/current/scala/PersistentEntity.html">Lagom PersistentEntity</a></span></li>
  <li><a href="../persistence-dc/index.html">Multi-DC ReplicatedEntity</a></li>
</ul>
<p>You can also use the encrypted ID functionality with other types of persistent storage, like relational databases.</p>
</div>
</article>

<div class="row">
<div class="small-12 large-9 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="../persistence-dc/examples.html"><i class="icon-prev"></i> <span class="link-prev">Additional Examples</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="../gdpr/data-subject-id.html">Subject identifiers <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>

<!-- no source links for private github repository -->


<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="../images/akka-icon.svg"/>
<section class="copyright">
<div>Akka Enhancements is Open Source and available under the Apache 2 License.</div>
<p class="legal">
&copy; 2011-2019 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> | 
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> | 
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> | 
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> | 
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> | 
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>
</footer>

</section>
</main>

<script type="text/javascript" src="../js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(){window.prettyPrint && prettyPrint()});
//]]></script>
<!-- hook for including project specific javascript into the generated docs -->

</body>
</html>
