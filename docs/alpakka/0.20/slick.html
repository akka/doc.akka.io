<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Slick (JDBC) · Alpakka</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Alpakka is a Reactive Enterprise Integration library for Java and Scala, based on Reactive Streams and Akka."/><link rel="canonical" href="https://doc.akka.io/docs/alpakka/current/slick.html"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="js/page.js"></script>
<script type="text/javascript" src="js/warnOldVersion.js"></script>
<script type="text/javascript" src="js/groups.js"></script>
<link rel="stylesheet" type="text/css" href="lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="css/page.css"/>

<!--
<link rel="shortcut icon" href="images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="index.html" >
<span class="home-icon">⌂</span>Alpakka
</a>
<div class="version-number">
0.20
</div>
</div>
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
<div class="nav-toc">
<ul>
  <li><a href="connectors.html" class="page">Connectors</a>
  <ul>
    <li><a href="amqp.html" class="page">AMQP</a></li>
    <li><a href="external/apache-camel.html" class="page">Apache Camel</a></li>
    <li><a href="cassandra.html" class="page">Apache Cassandra</a></li>
    <li><a href="geode.html" class="page">Apache Geode</a></li>
    <li><a href="kafka.html" class="page">Apache Kafka</a></li>
    <li><a href="kudu.html" class="page">Apache Kudu</a></li>
    <li><a href="solr.html" class="page">Apache Solr</a></li>
    <li><a href="dynamodb.html" class="page">AWS DynamoDB</a></li>
    <li><a href="kinesis.html" class="page">AWS Kinesis</a></li>
    <li><a href="awslambda.html" class="page">AWS Lambda</a></li>
    <li><a href="s3.html" class="page">AWS S3</a></li>
    <li><a href="sns.html" class="page">AWS SNS</a></li>
    <li><a href="sqs.html" class="page">AWS SQS</a></li>
    <li><a href="external/azure-event-hubs.html" class="page">Azure Event Hubs</a></li>
    <li><a href="external/azure-iot-hub.html" class="page">Azure IoT Hub</a></li>
    <li><a href="azure-storage-queue.html" class="page">Azure Storage Queue</a></li>
    <li><a href="elasticsearch.html" class="page">Elasticsearch</a></li>
    <li><a href="external/eventuate.html" class="page">Eventuate</a></li>
    <li><a href="file.html" class="page">Files</a></li>
    <li><a href="external/fs2.html" class="page">FS2</a></li>
    <li><a href="ftp.html" class="page">FTP</a></li>
    <li><a href="google-cloud-pub-sub.html" class="page">Google Cloud Pub/Sub</a></li>
    <li><a href="google-fcm.html" class="page">Google Firebase Cloud Messaging</a></li>
    <li><a href="hdfs.html" class="page">Hadoop Distributed File System - HDFS</a></li>
    <li><a href="hbase.html" class="page">HBase</a></li>
    <li><a href="external/http.html" class="page">HTTP</a></li>
    <li><a href="ironmq.html" class="page">IronMQ</a></li>
    <li><a href="jms.html" class="page">JMS</a></li>
    <li><a href="mongodb.html" class="page">MongoDB</a></li>
    <li><a href="mqtt.html" class="page">MQTT</a></li>
    <li><a href="orientdb.html" class="page">OrientDB</a></li>
    <li><a href="external/pulsar.html" class="page">Pulsar</a></li>
    <li><a href="sse.html" class="page">Server-sent Events (SSE)</a></li>
    <li><a href="slick.html" class="active page">Slick (JDBC)</a></li>
    <li><a href="spring-web.html" class="page">Spring Web</a></li>
    <li><a href="external/tcp.html" class="page">TCP</a></li>
    <li><a href="udp.html" class="page">UDP</a></li>
    <li><a href="unix-domain-socket.html" class="page">Unix Domain Socket</a></li>
  </ul></li>
  <li><a href="external-components.html" class="page">External Components</a></li>
  <li><a href="examples/index.html" class="page">Self-contained examples</a>
  <ul>
    <li><a href="examples/csv-samples.html" class="page">CSV</a></li>
    <li><a href="examples/elasticsearch-samples.html" class="page">Elasticsearch</a></li>
    <li><a href="examples/ftp-samples.html" class="page">FTP</a></li>
    <li><a href="examples/jms-samples.html" class="page">JMS</a></li>
  </ul></li>
  <li><a href="other-docs/index.html" class="page">Other documentation</a>
  <ul>
    <li><a href="other-docs/webinars-presentations-articles.html" class="page">Webinars, Presentations and Articles</a></li>
    <li><a href="other-docs/snapshots.html" class="page">Snapshots</a></li>
  </ul></li>
  <li><a href="patterns.html" class="page">Integration Patterns</a></li>
  <li><a href="data-transformations/index.html" class="page">Data Transformations</a>
  <ul>
    <li><a href="data-transformations/parsing-lines.html" class="page">Parsing Lines</a></li>
    <li><a href="data-transformations/json.html" class="page">JSON</a></li>
    <li><a href="data-transformations/compression.html" class="page">Compressing/decompressing</a></li>
    <li><a href="data-transformations/csv.html" class="page">Comma-Separated Values - CSV</a></li>
    <li><a href="data-transformations/recordio.html" class="page">RecordIO Framing</a></li>
    <li><a href="data-transformations/text.html" class="page">Text and charsets</a></li>
    <li><a href="data-transformations/xml.html" class="page">Extensible Markup Language - XML</a></li>
  </ul></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="index.html" class="logo" style="margin-top: 15px;"><svg class="svg-icon svg-icon-logo" style="height: 45px; width: 184px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1070 262"><title>akka-stream-alpakka</title><g id="akka-stream-alpakka" class="svg-icon-logo-text" fill="#fff"><path d="M349.6 105.5v-12.2h19.9v58.4c0 7.1 1.7 9.8 6.1 9.8 1.2 0 2.7-.2 4.1-.3v16.1c-2.2.8-5.5 1.3-9.8 1.3-4.8 0-8.6-.8-11.6-2.7-3.7-2.5-6-5.8-6.8-10.1-5.8 8.8-15.4 13.1-28.7 13.1-11.8 0-21.7-4.1-29.9-12.6-8-8.5-12-18.8-12-31.2s4-22.7 12-31c8.1-8.5 18.1-12.6 29.9-12.6 13.6 0 23.7 6 26.8 14zm-5.9 47.9c5-4.8 7.5-11 7.5-18.3s-2.5-13.4-7.5-18.3c-4.8-4.8-11-7.3-18.1-7.3-7.1 0-12.9 2.5-17.8 7.3-4.6 4.8-7 11-7 18.3s2.3 13.4 7 18.3c4.8 4.8 10.6 7.3 17.8 7.3 7.1 0 13.3-2.5 18.1-7.3zM388.5 177v-115.7h19.8v67.6l30.9-35.5h22.8l-32.7 37.4 36.2 46.3h-22.6l-26.4-33.7-8.3 9.3v24.3h-19.7zM470.8 177v-115.7h19.8v67.6l30.9-35.5h22.9l-32.7 37.4 36.2 46.3h-22.6l-26.4-33.7-8.3 9.3v24.3h-19.8zM607.9 105.5v-12.2h19.9v58.4c0 7.1 1.7 9.8 6.1 9.8 1.2 0 2.7-.2 4.1-.3v16.1c-2.2.8-5.5 1.3-9.8 1.3-4.8 0-8.6-.8-11.6-2.7-3.7-2.5-6-5.8-6.8-10.1-5.8 8.8-15.4 13.1-28.7 13.1-11.8 0-21.7-4.1-29.9-12.6-8-8.5-12-18.8-12-31.2s4-22.7 12-31c8.1-8.5 18.1-12.6 29.9-12.6 13.5 0 23.6 6 26.8 14zm-6 47.9c5-4.8 7.5-11 7.5-18.3s-2.5-13.4-7.5-18.3c-4.8-4.8-11-7.3-18.1-7.3-7.1 0-12.9 2.5-17.8 7.3-4.6 4.8-7 11-7 18.3s2.3 13.4 7 18.3c4.8 4.8 10.6 7.3 17.8 7.3 7.1 0 13.3-2.5 18.1-7.3z"/></g><path fill="#0B5567" d="M230.3 212.8c35.9 28.7 58.9-57 1.7-72.8-48-13.3-96.3 9.5-144.7 62.7 0 0 89.4-32.7 143 10.1z"/><path fill="#15A9CE" d="M88.1 202c34.4-35.7 91.6-75.5 144.9-60.8 12.4 3.5 21.2 10.7 26.9 19.3l-50.4-101.7c-7.2-11.5-25.6-9.1-36-.3l-133.2 111.6c-12.1 10.4-12.8 28.9-1.6 40.1 9.9 9.9 25.6 10.8 36.5 2l12.9-10.2z"/></g></svg>
</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="index.html" >
<span class="home-icon">⌂</span>Alpakka
</a>
<div class="version-number">
0.20
</div>
</div>
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
<div class="nav-toc">
<ul>
  <li><a href="connectors.html" class="page">Connectors</a>
  <ul>
    <li><a href="amqp.html" class="page">AMQP</a></li>
    <li><a href="external/apache-camel.html" class="page">Apache Camel</a></li>
    <li><a href="cassandra.html" class="page">Apache Cassandra</a></li>
    <li><a href="geode.html" class="page">Apache Geode</a></li>
    <li><a href="kafka.html" class="page">Apache Kafka</a></li>
    <li><a href="kudu.html" class="page">Apache Kudu</a></li>
    <li><a href="solr.html" class="page">Apache Solr</a></li>
    <li><a href="dynamodb.html" class="page">AWS DynamoDB</a></li>
    <li><a href="kinesis.html" class="page">AWS Kinesis</a></li>
    <li><a href="awslambda.html" class="page">AWS Lambda</a></li>
    <li><a href="s3.html" class="page">AWS S3</a></li>
    <li><a href="sns.html" class="page">AWS SNS</a></li>
    <li><a href="sqs.html" class="page">AWS SQS</a></li>
    <li><a href="external/azure-event-hubs.html" class="page">Azure Event Hubs</a></li>
    <li><a href="external/azure-iot-hub.html" class="page">Azure IoT Hub</a></li>
    <li><a href="azure-storage-queue.html" class="page">Azure Storage Queue</a></li>
    <li><a href="elasticsearch.html" class="page">Elasticsearch</a></li>
    <li><a href="external/eventuate.html" class="page">Eventuate</a></li>
    <li><a href="file.html" class="page">Files</a></li>
    <li><a href="external/fs2.html" class="page">FS2</a></li>
    <li><a href="ftp.html" class="page">FTP</a></li>
    <li><a href="google-cloud-pub-sub.html" class="page">Google Cloud Pub/Sub</a></li>
    <li><a href="google-fcm.html" class="page">Google Firebase Cloud Messaging</a></li>
    <li><a href="hdfs.html" class="page">Hadoop Distributed File System - HDFS</a></li>
    <li><a href="hbase.html" class="page">HBase</a></li>
    <li><a href="external/http.html" class="page">HTTP</a></li>
    <li><a href="ironmq.html" class="page">IronMQ</a></li>
    <li><a href="jms.html" class="page">JMS</a></li>
    <li><a href="mongodb.html" class="page">MongoDB</a></li>
    <li><a href="mqtt.html" class="page">MQTT</a></li>
    <li><a href="orientdb.html" class="page">OrientDB</a></li>
    <li><a href="external/pulsar.html" class="page">Pulsar</a></li>
    <li><a href="sse.html" class="page">Server-sent Events (SSE)</a></li>
    <li><a href="slick.html" class="active page">Slick (JDBC)</a></li>
    <li><a href="spring-web.html" class="page">Spring Web</a></li>
    <li><a href="external/tcp.html" class="page">TCP</a></li>
    <li><a href="udp.html" class="page">UDP</a></li>
    <li><a href="unix-domain-socket.html" class="page">Unix Domain Socket</a></li>
  </ul></li>
  <li><a href="external-components.html" class="page">External Components</a></li>
  <li><a href="examples/index.html" class="page">Self-contained examples</a>
  <ul>
    <li><a href="examples/csv-samples.html" class="page">CSV</a></li>
    <li><a href="examples/elasticsearch-samples.html" class="page">Elasticsearch</a></li>
    <li><a href="examples/ftp-samples.html" class="page">FTP</a></li>
    <li><a href="examples/jms-samples.html" class="page">JMS</a></li>
  </ul></li>
  <li><a href="other-docs/index.html" class="page">Other documentation</a>
  <ul>
    <li><a href="other-docs/webinars-presentations-articles.html" class="page">Webinars, Presentations and Articles</a></li>
    <li><a href="other-docs/snapshots.html" class="page">Snapshots</a></li>
  </ul></li>
  <li><a href="patterns.html" class="page">Integration Patterns</a></li>
  <li><a href="data-transformations/index.html" class="page">Data Transformations</a>
  <ul>
    <li><a href="data-transformations/parsing-lines.html" class="page">Parsing Lines</a></li>
    <li><a href="data-transformations/json.html" class="page">JSON</a></li>
    <li><a href="data-transformations/compression.html" class="page">Compressing/decompressing</a></li>
    <li><a href="data-transformations/csv.html" class="page">Comma-Separated Values - CSV</a></li>
    <li><a href="data-transformations/recordio.html" class="page">RecordIO Framing</a></li>
    <li><a href="data-transformations/text.html" class="page">Text and charsets</a></li>
    <li><a href="data-transformations/xml.html" class="page">Extensible Markup Language - XML</a></li>
  </ul></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<span id="version-warning"></span>

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="index.html">Alpakka</a></li>
  <li><a href="connectors.html">Connectors</a></li>
  <li>Slick (JDBC)</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#slick-jdbc-" name="slick-jdbc-" class="anchor"><span class="anchor-link"></span></a>Slick (JDBC)</h1>
<p>The Slick connector provides Scala and Java DSLs to create a <code>Source</code> to stream the results of a SQL database query and a <code>Flow</code>/<code>Sink</code> to perform SQL actions (like inserts, updates, and deletes) for each element in a stream. It is built on the <a href="http://slick.lightbend.com/">Slick</a> library to interact with a long list of <a href="https://slick.lightbend.com/doc/3.2.1/supported-databases.html">supported relational databases</a>.</p>
<h3><a href="#reported-issues" name="reported-issues" class="anchor"><span class="anchor-link"></span></a>Reported issues</h3>
<p><a href="https://github.com/akka/alpakka/labels/p%3Aslick">Tagged issues at Github</a></p>
<h2><a href="#artifacts" name="artifacts" class="anchor"><span class="anchor-link"></span></a>Artifacts</h2><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.lightbend.akka" %% "akka-stream-alpakka-slick" % "0.20"</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.lightbend.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-stream-alpakka-slick_2.12&lt;/artifactId&gt;
  &lt;version&gt;0.20&lt;/version&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  compile group: 'com.lightbend.akka', name: 'akka-stream-alpakka-slick_2.12', version: '0.20'
}</code></pre></dd></dl>
<p>You will also need to add the JDBC driver(s) for the specific relational database(s) to your project. Most of those database have drivers that are not available from public repositories so unfortunately some manual steps will probably be required. The Slick documentation has <a href="https://slick.lightbend.com/doc/3.2.1/supported-databases.html">information on where to download the drivers</a>.</p>
<h2><a href="#usage" name="usage" class="anchor"><span class="anchor-link"></span></a>Usage</h2>
<p>As always, before we get started we will need an <a href="https://doc.akka.io/api/akka/2.5.13/akka/actor/ActorSystem.html">ActorSystem</a> and a <a href="https://doc.akka.io/api/akka/2.5.13/akka/stream/Materializer.html">Materializer</a>.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">implicit val system = ActorSystem()
implicit val mat = ActorMaterializer()</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/scala/akka/stream/alpakka/slick/scaladsl/SlickSpec.scala#L27-L28">Full source at GitHub</a></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">system = ActorSystem.create();
materializer = ActorMaterializer.create(system);</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/java/akka/stream/alpakka/slick/javadsl/SlickTest.java#L65-L66">Full source at GitHub</a></dd>
</dl>
<p>You will also always need the following important imports:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">import akka.stream.scaladsl._
import akka.stream.alpakka.slick.scaladsl._</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/scala/akka/stream/alpakka/slick/scaladsl/DocSnippets.scala#L8-L9">Full source at GitHub</a></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">import akka.stream.javadsl.*;
import akka.stream.alpakka.slick.javadsl.*;</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/java/akka/stream/alpakka/slick/javadsl/DocSnippetSource.java#L8-L9">Full source at GitHub</a></dd>
</dl>
<p>The full examples for using the <code>Source</code>, <code>Sink</code>, and <code>Flow</code> (listed further down) also include all required imports.</p>
<h3><a href="#starting-a-database-session" name="starting-a-database-session" class="anchor"><span class="anchor-link"></span></a>Starting a Database Session</h3>
<p>All functionality provided by this connector requires the user to first create an instance of <code>SlickSession</code>, which is a thin wrapper around Slick&rsquo;s database connection management and database profile API.</p>
<p>If you are using Slick in your project, you can create a <code>SlickSession</code> instance by sharing the database configuration:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">val databaseConfig = DatabaseConfig.forConfig[JdbcProfile](&quot;slick-h2&quot;)
implicit val session = SlickSession.forConfig(databaseConfig)</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/scala/akka/stream/alpakka/slick/scaladsl/SlickSpec.scala#L37-L38">Full source at GitHub</a></dd>
</dl>
<p>Otherwise, you can configure your database using <a href="https://github.com/typesafehub/config">typesafe-config</a> by adding a named configuration to your application.conf and then referring to that configuration when starting the session:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">implicit val session = SlickSession.forConfig(&quot;slick-h2&quot;)</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/scala/akka/stream/alpakka/slick/scaladsl/SlickSpec.scala#L32">Full source at GitHub</a></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">private static final SlickSession session = SlickSession.forConfig(&quot;slick-h2&quot;);</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/java/akka/stream/alpakka/slick/javadsl/SlickTest.java#L41">Full source at GitHub</a></dd>
</dl>
<p>Here is an example configuration for the H2 database, which is used for the unit tests of the Slick connector itself:</p>
<dl>
  <dt>Configuration</dt>
  <dd>
  <pre class="prettyprint"><code class="language-conf"># Load using SlickSession.forConfig(&quot;slick-h2&quot;)
slick-h2 {
  profile = &quot;slick.jdbc.H2Profile$&quot;
  db {
    connectionPool = disabled
    dataSourceClass = &quot;slick.jdbc.DriverDataSource&quot;
    properties = {
      driver = &quot;org.h2.Driver&quot;
      url = &quot;jdbc:h2:/tmp/alpakka-slick-h2-test&quot;
    }
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/resources/application.conf#L11-L22">Full source at GitHub</a></dd>
</dl>
<p>You can specify multiple different database configurations, as long as you use unique names. These can then be loaded by fully qualified configuration name using the <code>SlickSession.forConfig()</code> method described above.</p>
<p>The Slick connector supports all the various ways Slick allows you to configure your JDBC database drivers, connection pools, etc., but we strongly recommend using the so-called <a href="https://slick.lightbend.com/doc/3.2.1/database.html#databaseconfig">&ldquo;DatabaseConfig&rdquo;</a> method of configuration, which is the only method explicitly tested to work with the Slick connector.</p>
<p>Below are a few configuration examples for other databases. The Slick connector supports all <a href="https://slick.lightbend.com/doc/3.2.1/supported-databases.html">databases supported by Slick</a> (as of Slick 3.2.x)</p>
<dl>
  <dt>Postgres</dt>
  <dd>
  <pre class="prettyprint"><code class="language-conf"># Load using SlickSession.forConfig(&quot;slick-postgres&quot;)
slick-postgres {
  profile = &quot;slick.jdbc.PostgresProfile$&quot;
  db {
    dataSourceClass = &quot;slick.jdbc.DriverDataSource&quot;
    properties = {
      driver = &quot;org.postgresql.Driver&quot;
      url = &quot;jdbc:postgresql://127.0.0.1/slickdemo&quot;
      user = slick
      password = &quot;&quot;
    }
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/resources/application.conf#L67-L79">Full source at GitHub</a></dd>
  <dt>MySQL</dt>
  <dd>
  <pre class="prettyprint"><code class="language-conf"># Load using SlickSession.forConfig(&quot;slick-mysql&quot;)
slick-mysql {
  profile = &quot;slick.jdbc.MySQLProfile$&quot;
  db {
    dataSourceClass = &quot;slick.jdbc.DriverDataSource&quot;
    properties = {
      driver = &quot;com.mysql.jdbc.Driver&quot;
      url = &quot;jdbc:mysql://localhost:3306/&quot;
      user = slick
      password = &quot;&quot;
    }
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/resources/application.conf#L121-L133">Full source at GitHub</a></dd>
  <dt>DB2</dt>
  <dd>
  <pre class="prettyprint"><code class="language-conf"># Load using SlickSession.forConfig(&quot;slick-db2&quot;)
slick-db2 {
  profile = &quot;slick.jdbc.DB2Profile$&quot;
  db {
    dataSourceClass = &quot;slick.jdbc.DriverDataSource&quot;
    properties = {
      driver = &quot;com.ibm.db2.jcc.DB2Driver&quot;
      url = &quot;jdbc:db2://localhost:50000/sample&quot;
      user = &quot;db2inst1&quot;
      password = &quot;db2-admin-password&quot;
    }
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/resources/application.conf#L49-L61">Full source at GitHub</a></dd>
  <dt>Oracle</dt>
  <dd>
  <pre class="prettyprint"><code class="language-conf"># Load using SlickSession.forConfig(&quot;slick-oracle&quot;)
slick-oracle {
  profile = &quot;slick.jdbc.OracleProfile$&quot;
  db {
    dataSourceClass = &quot;slick.jdbc.DriverDataSource&quot;
    properties = {
      driver = &quot;oracle.jdbc.OracleDriver&quot;
      url = &quot;jdbc:oracle:thin:@//localhost:49161/xe&quot;
      user = slick
      password = &quot;&quot;
    }
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/resources/application.conf#L85-L97">Full source at GitHub</a></dd>
  <dt>SQL Server</dt>
  <dd>
  <pre class="prettyprint"><code class="language-conf"># Load using SlickSession.forConfig(&quot;slick-sqlserver&quot;)
slick-sqlserver {
  profile = &quot;slick.jdbc.SQLServerProfile$&quot;
  db {
    dataSourceClass = &quot;slick.jdbc.DriverDataSource&quot;
    properties = {
      driver = &quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;
      url = &quot;jdbc:sqlserver://localhost:1433&quot;
      user = slick
      password = &quot;&quot;
    }
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/resources/application.conf#L103-L115">Full source at GitHub</a></dd>
</dl>
<p>Of course these are just examples. Please visit the <a href="https://slick.lightbend.com/doc/3.2.1/api/index.html#slick.jdbc.JdbcBackend$DatabaseFactoryDef@forConfig(String,Config,Driver,ClassLoader%29:Database">Slick documentation for <code>DatabaseConfig.fromConfig</code></a> for the full list of things to configure.</p>
<h3><a href="#closing-a-database-session" name="closing-a-database-session" class="anchor"><span class="anchor-link"></span></a>Closing a Database Session</h3>
<p>Slick requires you to eventually close your database session to free up connection pool resources. You would usually do this when terminating the <code>ActorSystem</code>, by registering a termination handler like this:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">system.registerOnTermination(() =&gt; session.close())</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/scala/akka/stream/alpakka/slick/scaladsl/SlickSpec.scala#L80">Full source at GitHub</a></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">system.registerOnTermination(session::close);</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/java/akka/stream/alpakka/slick/javadsl/SlickTest.java#L85">Full source at GitHub</a></dd>
</dl>
<h3><a href="#using-a-slick-source" name="using-a-slick-source" class="anchor"><span class="anchor-link"></span></a>Using a Slick Source</h3>
<p>The Slick connector allows you to perform a SQL query and expose the resulting stream of results as an Akka Streams <code>Source[T]</code>. Where <code>T</code> is any type that can be constructed using a database row.</p>
<h4><a href="#plain-sql-queries" name="plain-sql-queries" class="anchor"><span class="anchor-link"></span></a>Plain SQL queries</h4>
<p>Both the Scala and Java DSLs support the use of <a href="https://slick.lightbend.com/doc/3.2.1/concepts.html#plain-sql-statements">plain SQL queries</a>.</p>
<p>The Scala DSL expects you to use the special <code>sql&quot;...&quot;</code>, <code>sqlu&quot;...&quot;</code>, and <code>sqlt&quot;...&quot;</code> <a href="https://slick.lightbend.com/doc/3.2.1/sql.html#string-interpolation">String interpolators provided by Slick</a> to construct queries.</p>
<p>Unfortunately, String interpolation is a Scala language feature that cannot be directly translated to Java. This means that query strings in the Java DSL will need to be manually prepared using plain Java Strings (or a <code>StringBuilder</code>).</p>
<p>The following examples put it all together to perform a simple streaming query.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">import scala.concurrent.Future

import akka.Done
import akka.actor.ActorSystem
import akka.stream.ActorMaterializer

import akka.stream.scaladsl._
import akka.stream.alpakka.slick.scaladsl._

import slick.jdbc.GetResult

object SlickSourceWithPlainSQLQueryExample extends App {
  implicit val system = ActorSystem()
  implicit val mat = ActorMaterializer()
  implicit val ec = system.dispatcher

  implicit val session = SlickSession.forConfig(&quot;slick-h2&quot;)

  // The example domain
  case class User(id: Int, name: String)

  // We need this to automatically transform result rows
  // into instances of the User class.
  // Please import slick.jdbc.GetResult
  // See also: &quot;http://slick.lightbend.com/doc/3.2.1/sql.html#result-sets&quot;
  implicit val getUserResult = GetResult(r =&gt; User(r.nextInt, r.nextString))

  // This import enables the use of the Slick sql&quot;...&quot;,
  // sqlu&quot;...&quot;, and sqlt&quot;...&quot; String interpolators.
  // See also: &quot;http://slick.lightbend.com/doc/3.2.1/sql.html#string-interpolation&quot;
  import session.profile.api._

  // Stream the results of a query
  val done: Future[Done] =
    Slick
      .source(sql&quot;SELECT ID, NAME FROM ALPAKKA_SLICK_SCALADSL_TEST_USERS&quot;.as[User])
      .log(&quot;user&quot;)
      .runWith(Sink.ignore)

  done.onComplete {
    case _ =&gt;
      session.close()
      system.terminate()
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/scala/akka/stream/alpakka/slick/scaladsl/DocSnippets.scala#L13-L57">Full source at GitHub</a></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">import java.util.concurrent.CompletionStage;
import java.util.concurrent.TimeUnit;

import akka.Done;
import akka.actor.ActorSystem;
import akka.stream.ActorMaterializer;
import akka.stream.Materializer;

import akka.stream.javadsl.*;
import akka.stream.alpakka.slick.javadsl.*;

public class DocSnippetSource {
  public static void main(String[] args) throws Exception {
    final ActorSystem system = ActorSystem.create();
    final Materializer materializer = ActorMaterializer.create(system);

    final SlickSession session = SlickSession.forConfig(&quot;slick-h2&quot;);

    final CompletionStage&lt;Done&gt; done =
        Slick.source(
                session,
                &quot;SELECT ID, NAME FROM ALPAKKA_SLICK_JAVADSL_TEST_USERS&quot;,
                (SlickRow row) -&gt; new User(row.nextInt(), row.nextString()))
            .log(&quot;user&quot;)
            .runWith(Sink.ignore(), materializer);

    done.whenComplete(
        (value, exception) -&gt; {
          session.close();
          system.terminate();
        });
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/java/akka/stream/alpakka/slick/javadsl/DocSnippetSource.java#L13-L45">Full source at GitHub</a></dd>
</dl>
<h4><a href="#typed-queries" name="typed-queries" class="anchor"><span class="anchor-link"></span></a>Typed Queries</h4>
<p>The Scala DSL also supports the use of <a href="https://slick.lightbend.com/doc/3.2.1/concepts.html#scala-queries">Slick Scala queries</a>, which are more type-safe then their plain SQL equivalent. The code will look very similar to the plain SQL example.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">import scala.concurrent.Future

import akka.Done
import akka.actor.ActorSystem
import akka.stream.ActorMaterializer

import akka.stream.scaladsl._
import akka.stream.alpakka.slick.scaladsl._

object SlickSourceWithTypedQueryExample extends App {
  implicit val system = ActorSystem()
  implicit val mat = ActorMaterializer()
  implicit val ec = system.dispatcher

  implicit val session = SlickSession.forConfig(&quot;slick-h2&quot;)

  // This import brings everything you need into scope
  import session.profile.api._

  // The example domain
  class Users(tag: Tag) extends Table[(Int, String)](tag, &quot;ALPAKKA_SLICK_SCALADSL_TEST_USERS&quot;) {
    def id = column[Int](&quot;ID&quot;)
    def name = column[String](&quot;NAME&quot;)
    def * = (id, name)
  }

  // Stream the results of a query
  val done: Future[Done] =
    Slick
      .source(TableQuery[Users].result)
      .log(&quot;user&quot;)
      .runWith(Sink.ignore)

  done.onComplete {
    case _ =&gt;
      session.close()
      system.terminate()
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/scala/akka/stream/alpakka/slick/scaladsl/DocSnippets.scala#L61-L99">Full source at GitHub</a></dd>
</dl>
<h3><a href="#using-a-slick-flow-or-sink" name="using-a-slick-flow-or-sink" class="anchor"><span class="anchor-link"></span></a>Using a Slick Flow or Sink</h3>
<p>If you want to take stream of elements and turn them into side-effecting actions in a relational database, the Slick connector allows you to perform any DML or DDL statement using either a <code>Sink</code> or a <code>Flow</code>. This includes the typical <code>insert</code>/<code>update</code>/<code>delete</code> statements but also <code>create table</code>, <code>drop table</code>, etc. The unit tests have a couple of good examples of the latter usage.</p>
<p>The following example show the use of a Slick <code>Sink</code> to take a stream of elements and insert them into the database. There is an optional <code>parallelism</code> argument to specify how many concurrent streams will be sent to the database. The unit tests for the slick connector have example of performing parallel inserts.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">import scala.concurrent.Future

import akka.Done
import akka.actor.ActorSystem
import akka.stream.ActorMaterializer

import akka.stream.scaladsl._
import akka.stream.alpakka.slick.scaladsl._

object SlickSinkExample extends App {
  implicit val system = ActorSystem()
  implicit val mat = ActorMaterializer()
  implicit val ec = system.dispatcher

  implicit val session = SlickSession.forConfig(&quot;slick-h2&quot;)

  // The example domain
  case class User(id: Int, name: String)
  val users = (1 to 42).map(i =&gt; User(i, s&quot;Name$i&quot;))

  // This import enables the use of the Slick sql&quot;...&quot;,
  // sqlu&quot;...&quot;, and sqlt&quot;...&quot; String interpolators.
  // See &quot;http://slick.lightbend.com/doc/3.2.1/sql.html#string-interpolation&quot;
  import session.profile.api._

  // Stream the users into the database as insert statements
  val done: Future[Done] =
    Source(users)
      .runWith(
        // add an optional first argument to specify the parallism factor (Int)
        Slick.sink(user =&gt; sqlu&quot;INSERT INTO ALPAKKA_SLICK_SCALADSL_TEST_USERS VALUES(${user.id}, ${user.name})&quot;)
      )

  done.onComplete {
    case _ =&gt;
      session.close()
      system.terminate()
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/scala/akka/stream/alpakka/slick/scaladsl/DocSnippets.scala#L103-L141">Full source at GitHub</a></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">import java.util.List;
import java.util.concurrent.CompletionStage;
import java.util.concurrent.TimeUnit;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

import akka.Done;
import akka.actor.ActorSystem;
import akka.stream.ActorMaterializer;
import akka.stream.Materializer;

import akka.stream.javadsl.*;
import akka.stream.alpakka.slick.javadsl.*;

public class DocSnippetSink {
  public static void main(String[] args) throws Exception {
    final ActorSystem system = ActorSystem.create();
    final Materializer materializer = ActorMaterializer.create(system);

    final SlickSession session = SlickSession.forConfig(&quot;slick-h2&quot;);

    final List&lt;User&gt; users =
        IntStream.range(0, 42)
            .boxed()
            .map((i) -&gt; new User(i, &quot;Name&quot; + i))
            .collect(Collectors.toList());

    final CompletionStage&lt;Done&gt; done =
        Source.from(users)
            .runWith(
                Slick.&lt;User&gt;sink(
                    session,
                    // add an optional second argument to specify the parallism factor (int)
                    (user) -&gt;
                        &quot;INSERT INTO ALPAKKA_SLICK_JAVADSL_TEST_USERS VALUES (&quot;
                            + user.id
                            + &quot;, &#39;&quot;
                            + user.name
                            + &quot;&#39;)&quot;),
                materializer);

    done.whenComplete(
        (value, exception) -&gt; {
          session.close();
          system.terminate();
        });
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/java/akka/stream/alpakka/slick/javadsl/DocSnippetSink.java#L8-L55">Full source at GitHub</a></dd>
</dl>
<p>For completeness, the Slick connector also exposes a <code>Flow</code> that has the exact same functionality as the <code>Sink</code> but it allows you to continue the stream for further processing. The return value of every executed statement, e.g. the element values is the fixed type <code>Int</code> denoting the number of updated/inserted/deleted rows.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">import scala.concurrent.Future

import akka.Done
import akka.actor.ActorSystem
import akka.stream.ActorMaterializer

import akka.stream.scaladsl._
import akka.stream.alpakka.slick.scaladsl._

object SlickFlowExample extends App {
  implicit val system = ActorSystem()
  implicit val mat = ActorMaterializer()
  implicit val ec = system.dispatcher

  implicit val session = SlickSession.forConfig(&quot;slick-h2&quot;)

  // The example domain
  case class User(id: Int, name: String)
  val users = (1 to 42).map(i =&gt; User(i, s&quot;Name$i&quot;))

  // This import enables the use of the Slick sql&quot;...&quot;,
  // sqlu&quot;...&quot;, and sqlt&quot;...&quot; String interpolators.
  // See &quot;http://slick.lightbend.com/doc/3.2.1/sql.html#string-interpolation&quot;
  import session.profile.api._

  // Stream the users into the database as insert statements
  val done: Future[Done] =
    Source(users)
      .via(
        // add an optional first argument to specify the parallism factor (Int)
        Slick.flow(user =&gt; sqlu&quot;INSERT INTO ALPAKKA_SLICK_SCALADSL_TEST_USERS VALUES(${user.id}, ${user.name})&quot;)
      )
      .log(&quot;nr-of-updated-rows&quot;)
      .runWith(Sink.ignore)

  done.onComplete {
    case _ =&gt;
      session.close()
      system.terminate()
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/scala/akka/stream/alpakka/slick/scaladsl/DocSnippets.scala#L145-L185">Full source at GitHub</a></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">import java.util.List;
import java.util.concurrent.CompletionStage;
import java.util.concurrent.TimeUnit;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

import akka.Done;
import akka.actor.ActorSystem;
import akka.stream.ActorMaterializer;
import akka.stream.Materializer;

import akka.stream.javadsl.*;
import akka.stream.alpakka.slick.javadsl.*;

public class DocSnippetFlow {
  public static void main(String[] args) throws Exception {
    final ActorSystem system = ActorSystem.create();
    final Materializer materializer = ActorMaterializer.create(system);

    final SlickSession session = SlickSession.forConfig(&quot;slick-h2&quot;);

    final List&lt;User&gt; users =
        IntStream.range(0, 42)
            .boxed()
            .map((i) -&gt; new User(i, &quot;Name&quot; + i))
            .collect(Collectors.toList());

    final CompletionStage&lt;Done&gt; done =
        Source.from(users)
            .via(
                Slick.&lt;User&gt;flow(
                    session,
                    // add an optional second argument to specify the parallism factor (int)
                    (user) -&gt;
                        &quot;INSERT INTO ALPAKKA_SLICK_JAVADSL_TEST_USERS VALUES (&quot;
                            + user.id
                            + &quot;, &#39;&quot;
                            + user.name
                            + &quot;&#39;)&quot;))
            .log(&quot;nr-of-updated-rows&quot;)
            .runWith(Sink.ignore(), materializer);

    done.whenComplete(
        (value, exception) -&gt; {
          session.close();
          system.terminate();
        });
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/java/akka/stream/alpakka/slick/javadsl/DocSnippetFlow.java#L8-L56">Full source at GitHub</a></dd>
</dl>
<p>To have a different return type, use the <code>flowWithPassThrough</code> function. E.g. when consuming Kafka messages, this allows you to maintain the kafka committable offset so the message can be committed in a next stage in the flow.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">import scala.concurrent.Future

import akka.Done
import akka.actor.ActorSystem
import akka.stream.ActorMaterializer

import akka.stream.scaladsl._
import akka.stream.alpakka.slick.scaladsl._

// We&#39;re going to pretend we got messages from kafka.
// After we&#39;ve written them to a db with Slick, we want
// to commit the offset to Kafka
object SlickFlowWithPassThroughExample extends App {

  // mimics a Kafka &#39;Committable&#39; type
  case class CommittableOffset(offset: Int) {
    def commit: Future[Done] = Future.successful(Done)
  }
  case class KafkaMessage[A](msg: A, offset: CommittableOffset) {
    // map the msg and keep the offset
    def map[B](f: A =&gt; B): KafkaMessage[B] = KafkaMessage(f(msg), offset)
  }

  implicit val system = ActorSystem()
  implicit val mat = ActorMaterializer()
  implicit val ec = system.dispatcher

  implicit val session = SlickSession.forConfig(&quot;slick-h2&quot;)

  // The example domain
  case class User(id: Int, name: String)
  val users = (1 to 42).map(i =&gt; User(i, s&quot;Name$i&quot;))
  val messagesFromKafka = users.zipWithIndex.map { case (user, index) =&gt; KafkaMessage(user, CommittableOffset(index)) }

  // This import enables the use of the Slick sql&quot;...&quot;,
  // sqlu&quot;...&quot;, and sqlt&quot;...&quot; String interpolators.
  // See &quot;http://slick.lightbend.com/doc/3.2.1/sql.html#string-interpolation&quot;
  import session.profile.api._

  // Stream the users into the database as insert statements
  val done: Future[Done] =
    Source(messagesFromKafka)
      .via(
        // add an optional first argument to specify the parallism factor (Int)
        Slick.flowWithPassThrough { kafkaMessage =&gt;
          val user = kafkaMessage.msg
          (sqlu&quot;INSERT INTO ALPAKKA_SLICK_SCALADSL_TEST_USERS VALUES(${user.id}, ${user.name})&quot;)
            .map { insertCount =&gt; // map db result to something else
              // allows to keep the kafka message offset so it can be committed in a next stage
              kafkaMessage.map(user =&gt; (user, insertCount))
            }
        }
      )
      .log(&quot;nr-of-updated-rows&quot;)
      .mapAsync(1) { // in correct order
        kafkaMessage =&gt;
          kafkaMessage.offset.commit // commit kafka messages
      }
      .runWith(Sink.ignore)

  done.onComplete {
    case _ =&gt;
      session.close()
      system.terminate()
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/scala/akka/stream/alpakka/slick/scaladsl/DocSnippets.scala#L189-L254">Full source at GitHub</a></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java"><br/>import akka.Done;
import akka.actor.ActorSystem;
import akka.japi.Pair;
import akka.stream.ActorMaterializer;
import akka.stream.Materializer;
import akka.stream.javadsl.Sink;
import akka.stream.javadsl.Source;

import java.util.List;
import java.util.concurrent.CompletableFuture;
import java.util.concurrent.CompletionStage;
import java.util.function.Function;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

// We&#39;re going to pretend we got messages from kafka.
// After we&#39;ve written them to a db with Slick, we want
// to commit the offset to Kafka
public class DocSnippetFlowWithPassThrough {

  // mimics a Kafka &#39;Committable&#39; type
  static class CommittableOffset {
    private Integer offset;

    public CommittableOffset(Integer offset) {
      this.offset = offset;
    }

    public CompletableFuture&lt;Done&gt; commit() {
      return CompletableFuture.completedFuture(Done.getInstance());
    }
  }

  static class KafkaMessage&lt;A&gt; {
    final A msg;
    final CommittableOffset offset;

    public KafkaMessage(A msg, CommittableOffset offset) {
      this.msg = msg;
      this.offset = offset;
    }

    public &lt;B&gt; KafkaMessage&lt;B&gt; map(Function&lt;A, B&gt; f) {
      return new KafkaMessage(f.apply(msg), offset);
    }
  }

  public static void main(String[] args) throws Exception {
    final ActorSystem system = ActorSystem.create();
    final Materializer materializer = ActorMaterializer.create(system);

    final SlickSession session = SlickSession.forConfig(&quot;slick-h2&quot;);

    final List&lt;User&gt; users =
        IntStream.range(0, 42)
            .boxed()
            .map((i) -&gt; new User(i, &quot;Name&quot; + i))
            .collect(Collectors.toList());

    List&lt;KafkaMessage&lt;User&gt;&gt; messagesFromKafka =
        users
            .stream()
            .map(user -&gt; new KafkaMessage&lt;&gt;(user, new CommittableOffset(users.indexOf(user))))
            .collect(Collectors.toList());

    final CompletionStage&lt;Done&gt; done =
        Source.from(messagesFromKafka)
            .via(
                Slick.flowWithPassThrough(
                    session,
                    system.dispatcher(),
                    // add an optional second argument to specify the parallism factor (int)
                    (kafkaMessage) -&gt;
                        &quot;INSERT INTO ALPAKKA_SLICK_JAVADSL_TEST_USERS VALUES (&quot;
                            + kafkaMessage.msg.id
                            + &quot;, &#39;&quot;
                            + kafkaMessage.msg.name
                            + &quot;&#39;)&quot;,
                    (kafkaMessage, insertCount) -&gt;
                        kafkaMessage.map(
                            user -&gt;
                                new Pair(
                                    user,
                                    insertCount)) // allows to keep the kafka message offset so it
                                                  // can be committed in a next stage
                    ))
            .log(&quot;nr-of-updated-rows&quot;)
            .mapAsync(
                1,
                kafkaMessage -&gt;
                    kafkaMessage.offset.commit()) // in correct order, commit Kafka message
            .runWith(Sink.ignore(), materializer);

    done.whenComplete(
        (value, exception) -&gt; {
          session.close();
          system.terminate();
        });
  }
}</code></pre><a href="https://github.com/akka/alpakka/tree/master/slick/src/test/java/akka/stream/alpakka/slick/javadsl/DocSnippetFlowWithPassThrough.java#L8-L108">Full source at GitHub</a></dd>
</dl>
<div class="source-github">
The source code for this page can be found <a href="https://github.com/akka/alpakka/tree/master/docs/src/main/paradox/slick.md">here</a>.
</div>

<div class="nav-next">
<p><strong>Next:</strong> <a href="spring-web.html">Spring Web</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="slick.html#slick-jdbc-" class="header">Slick (JDBC)</a>
  <ul>
    <li><a href="slick.html#reported-issues" class="header">Reported issues</a></li>
    <li><a href="slick.html#artifacts" class="header">Artifacts</a></li>
    <li><a href="slick.html#usage" class="header">Usage</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2019</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="js/magellan.js"></script>

<style type="text/css">@import "lib/prettify/prettify.css";</style>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>
<script type="text/javascript">jQuery(function(jq){initOldVersionWarnings(jq, '0.20', '')});</script>


</html>
