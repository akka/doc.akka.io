<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Huawei Push Kit &bull; Alpakka Documentation</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Alpakka is a Reactive Enterprise Integration library for Java and Scala, based on Reactive Streams and Akka."/>
<link rel="canonical" href="https://doc.akka.io/docs/alpakka/current/huawei-push-kit.html"/>
<script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="css/icons.css"/>
<link rel="stylesheet" type="text/css" href="css/page-8.css"/>
<link rel="stylesheet" type="text/css" href="css/banner-2.css"/>
<link rel="shortcut icon" href="images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png"/>
<link rel="manifest" href="images/manifest.json"/>
<meta name="msapplication-TileImage" content="images/mstile-150x150.png"/>
<meta name="msapplication-TileColor" content="#15a9ce"/>
<meta name="theme-color" content="#15a9ce"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="28b912e7-09e9-43d5-91e4-3d1897044004" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', '']);
_gaq.push(['_setDomainName', '']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-2">
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KBJGH35');
</script>
<!--Marketo-->
<script type="text/plain" class="optanon-category-3">
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702', { 'asyncOnly': true, 'disableClickDelay': true });
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '//munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
</head>

<body id="underlay" data-toggler="nav-open">
<div id="lightbend-banner" class="lightbend-banner akka full-width" data-category="OSS Lightbend Banner Impression" data-label="Akka Banner Impression">
<div class="oss-wrapper">
<div class="oss-brand">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Lightbend Logo - Akka Banner" href="https://www.lightbend.com">
<img class="lightbend-logo" src="images/banner-logos/lightbend-reverse.svg" alt="Lightbend" title="Lightbend">
</a>
</div>
<div class="oss-ad no-drop-down">
<nav id="lightbendRotator" class="lightbend-rotator">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Promo Rotator - Kalix - High-performance microservices and APIs with no operations required. - Akka Banner" href="https://www.kalix.io/">
<strong>Kalix</strong> - High-performance microservices and APIs with no operations required. <span class="akka-btn">Learn More</span>
</a>
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Promo Rotator - Meet Akka Insights! A stand alone telemetry & observability offering. [Learn More] - Akka Banner" href="https://www.lightbend.com/akka-insights">
<strong>Meet Akka Insights!</strong>&nbsp;&nbsp;A stand alone telemetry & observability offering. <span class="akka-btn">Learn More</span>
</a>
</nav>
</div>
</div>
</div>

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="https://akka.io"><img class="logo" src="images/akka-alpakka-reverse.svg"/></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="index.html">Alpakka Documentation</a></h1>
</div>
<div class="nav-header-version">
Version 4.0.0-M1
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-java">Java</option><option class="group" value="group-scala">Scala</option></select>
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="overview.html" class="page">Overview</a></li>
  <li><a href="data-transformations/index.html" class="page">Data Transformations</a></li>
  <li><a href="amqp.html" class="page">AMQP</a></li>
  <li><a href="external/apache-camel.html" class="page">Apache Camel</a></li>
  <li><a href="cassandra.html" class="page">Apache Cassandra</a></li>
  <li><a href="geode.html" class="page">Apache Geode</a></li>
  <li><a href="kafka.html" class="page">Apache Kafka</a></li>
  <li><a href="kudu.html" class="page">Apache Kudu</a></li>
  <li><a href="solr.html" class="page">Apache Solr</a></li>
  <li><a href="avroparquet.html" class="page">Avro Parquet</a></li>
  <li><a href="aws-event-bridge.html" class="page">AWS EventBridge</a></li>
  <li><a href="dynamodb.html" class="page">AWS DynamoDB</a></li>
  <li><a href="kinesis.html" class="page">AWS Kinesis and Firehose</a></li>
  <li><a href="awslambda.html" class="page">AWS Lambda</a></li>
  <li><a href="s3.html" class="page">AWS S3</a></li>
  <li><a href="sns.html" class="page">AWS SNS</a></li>
  <li><a href="sqs.html" class="page">AWS SQS</a></li>
  <li><a href="azure-storage-queue.html" class="page">Azure Storage Queue</a></li>
  <li><a href="couchbase.html" class="page">Couchbase</a></li>
  <li><a href="elasticsearch.html" class="page">Elasticsearch</a></li>
  <li><a href="external/eventuate.html" class="page">Eventuate</a></li>
  <li><a href="file.html" class="page">File</a></li>
  <li><a href="external/fs2.html" class="page">FS2</a></li>
  <li><a href="ftp.html" class="page">FTP</a></li>
  <li><a href="google-common.html" class="page">Google Common</a></li>
  <li><a href="google-cloud-bigquery.html" class="page">Google Cloud BigQuery</a></li>
  <li><a href="google-cloud-bigquery-storage.html" class="page">Google Cloud BigQuery Storage</a></li>
  <li><a href="google-cloud-pub-sub.html" class="page">Google Cloud Pub/Sub</a></li>
  <li><a href="google-cloud-pub-sub-grpc.html" class="page">Google Cloud Pub/Sub gRPC</a></li>
  <li><a href="google-cloud-storage.html" class="page">Google Cloud Storage</a></li>
  <li><a href="google-fcm.html" class="page">Google FCM</a></li>
  <li><a href="external/grpc.html" class="page">gRPC</a></li>
  <li><a href="hdfs.html" class="page">Hadoop Distributed File System - HDFS</a></li>
  <li><a href="hbase.html" class="page">HBase</a></li>
  <li><a href="huawei-push-kit.html#huawei-push-kit" class="active page">Huawei Push Kit</a>
  <ul>
    <li><a href="huawei-push-kit.html#artifacts" class="header">Artifacts</a></li>
    <li><a href="huawei-push-kit.html#settings" class="header">Settings</a></li>
    <li><a href="huawei-push-kit.html#sending-notifications" class="header">Sending notifications</a></li>
    <li><a href="huawei-push-kit.html#scala-only" class="header">Scala only</a></li>
  </ul></li>
  <li><a href="external/http.html" class="page">HTTP</a></li>
  <li><a href="bluemix-cos.html" class="page">IBM Bluemix Cloud Object Storage</a></li>
  <li><a href="external/db2-event-store.html" class="page">IBM Db2 Event Store</a></li>
  <li><a href="influxdb.html" class="page">InfluxDB</a></li>
  <li><a href="ironmq.html" class="page">IronMQ</a></li>
  <li><a href="jms/index.html" class="page">JMS</a></li>
  <li><a href="external/mapr.html" class="page">MapR Database</a></li>
  <li><a href="mongodb.html" class="page">MongoDB</a></li>
  <li><a href="mqtt.html" class="page">MQTT</a></li>
  <li><a href="mqtt-streaming.html" class="page">MQTT Streaming</a></li>
  <li><a href="opensearch.html" class="page">Opensearch</a></li>
  <li><a href="orientdb.html" class="page">OrientDB</a></li>
  <li><a href="external/pulsar.html" class="page">Pulsar</a></li>
  <li><a href="pravega.html" class="page">Pravega</a></li>
  <li><a href="sse.html" class="page">Server-sent Events (SSE)</a></li>
  <li><a href="slick.html" class="page">Slick (JDBC)</a></li>
  <li><a href="spring-web.html" class="page">Spring Web</a></li>
  <li><a href="external/tcp.html" class="page">TCP</a></li>
  <li><a href="udp.html" class="page">UDP</a></li>
  <li><a href="unix-domain-socket.html" class="page">Unix Domain Socket</a></li>
</ul>
</nav>
</div>
</header>
<div class="site-content-wrapper">
<aside class="sticky-sidebar show-for-large">
<header class="nav-header sticky-sidebar-header">
<div class="nav-header-title">
<h1><a href="index.html">Alpakka Documentation</a></h1>
</div>
<div class="nav-header-version">
Version 4.0.0-M1
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-java">Java</option><option class="group" value="group-scala">Scala</option></select>
</div>
</header>
<nav class="site-nav sticky-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="overview.html" class="page">Overview</a></li>
  <li><a href="data-transformations/index.html" class="page">Data Transformations</a></li>
  <li><a href="amqp.html" class="page">AMQP</a></li>
  <li><a href="external/apache-camel.html" class="page">Apache Camel</a></li>
  <li><a href="cassandra.html" class="page">Apache Cassandra</a></li>
  <li><a href="geode.html" class="page">Apache Geode</a></li>
  <li><a href="kafka.html" class="page">Apache Kafka</a></li>
  <li><a href="kudu.html" class="page">Apache Kudu</a></li>
  <li><a href="solr.html" class="page">Apache Solr</a></li>
  <li><a href="avroparquet.html" class="page">Avro Parquet</a></li>
  <li><a href="aws-event-bridge.html" class="page">AWS EventBridge</a></li>
  <li><a href="dynamodb.html" class="page">AWS DynamoDB</a></li>
  <li><a href="kinesis.html" class="page">AWS Kinesis and Firehose</a></li>
  <li><a href="awslambda.html" class="page">AWS Lambda</a></li>
  <li><a href="s3.html" class="page">AWS S3</a></li>
  <li><a href="sns.html" class="page">AWS SNS</a></li>
  <li><a href="sqs.html" class="page">AWS SQS</a></li>
  <li><a href="azure-storage-queue.html" class="page">Azure Storage Queue</a></li>
  <li><a href="couchbase.html" class="page">Couchbase</a></li>
  <li><a href="elasticsearch.html" class="page">Elasticsearch</a></li>
  <li><a href="external/eventuate.html" class="page">Eventuate</a></li>
  <li><a href="file.html" class="page">File</a></li>
  <li><a href="external/fs2.html" class="page">FS2</a></li>
  <li><a href="ftp.html" class="page">FTP</a></li>
  <li><a href="google-common.html" class="page">Google Common</a></li>
  <li><a href="google-cloud-bigquery.html" class="page">Google Cloud BigQuery</a></li>
  <li><a href="google-cloud-bigquery-storage.html" class="page">Google Cloud BigQuery Storage</a></li>
  <li><a href="google-cloud-pub-sub.html" class="page">Google Cloud Pub/Sub</a></li>
  <li><a href="google-cloud-pub-sub-grpc.html" class="page">Google Cloud Pub/Sub gRPC</a></li>
  <li><a href="google-cloud-storage.html" class="page">Google Cloud Storage</a></li>
  <li><a href="google-fcm.html" class="page">Google FCM</a></li>
  <li><a href="external/grpc.html" class="page">gRPC</a></li>
  <li><a href="hdfs.html" class="page">Hadoop Distributed File System - HDFS</a></li>
  <li><a href="hbase.html" class="page">HBase</a></li>
  <li><a href="huawei-push-kit.html#huawei-push-kit" class="active page">Huawei Push Kit</a>
  <ul>
    <li><a href="huawei-push-kit.html#artifacts" class="header">Artifacts</a></li>
    <li><a href="huawei-push-kit.html#settings" class="header">Settings</a></li>
    <li><a href="huawei-push-kit.html#sending-notifications" class="header">Sending notifications</a></li>
    <li><a href="huawei-push-kit.html#scala-only" class="header">Scala only</a></li>
  </ul></li>
  <li><a href="external/http.html" class="page">HTTP</a></li>
  <li><a href="bluemix-cos.html" class="page">IBM Bluemix Cloud Object Storage</a></li>
  <li><a href="external/db2-event-store.html" class="page">IBM Db2 Event Store</a></li>
  <li><a href="influxdb.html" class="page">InfluxDB</a></li>
  <li><a href="ironmq.html" class="page">IronMQ</a></li>
  <li><a href="jms/index.html" class="page">JMS</a></li>
  <li><a href="external/mapr.html" class="page">MapR Database</a></li>
  <li><a href="mongodb.html" class="page">MongoDB</a></li>
  <li><a href="mqtt.html" class="page">MQTT</a></li>
  <li><a href="mqtt-streaming.html" class="page">MQTT Streaming</a></li>
  <li><a href="opensearch.html" class="page">Opensearch</a></li>
  <li><a href="orientdb.html" class="page">OrientDB</a></li>
  <li><a href="external/pulsar.html" class="page">Pulsar</a></li>
  <li><a href="pravega.html" class="page">Pravega</a></li>
  <li><a href="sse.html" class="page">Server-sent Events (SSE)</a></li>
  <li><a href="slick.html" class="page">Slick (JDBC)</a></li>
  <li><a href="spring-web.html" class="page">Spring Web</a></li>
  <li><a href="external/tcp.html" class="page">TCP</a></li>
  <li><a href="udp.html" class="page">UDP</a></li>
  <li><a href="unix-domain-socket.html" class="page">Unix Domain Socket</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer sticky-sidebar-footer">
<a href="https://akka.io"><img class="logo" src="images/akka-alpakka-reverse.svg"/></a>

</footer>
</aside>
<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">
<article class="page-content row">
<div class="small-12 column" id="docs">
<h1><a href="#huawei-push-kit" name="huawei-push-kit" class="anchor"><span class="anchor-link"></span></a>Huawei Push Kit</h1><div class="callout note "><div class="callout-title">Huawei Push Kit</div>
<p>Huawei Push Kit is a messaging service provided for you. It establishes a messaging channel from the cloud to devices. By integrating Push Kit, you can send messages to your apps on users&rsquo; devices in real time.</p></div>
<p>The Alpakka Huawei Push Kit connector provides a way to send notifications with <a href="https://developer.huawei.com/consumer/en/hms/huawei-pushkit">Huawei Push Kit</a>.</p>
<table class="project-info">
<tr><th colspan="2">Project Info: Alpakka Huawei Push Kit</th></tr>
  <tr><th>Artifact</th><td><div>com.lightbend.akka</div>
  <div>akka-stream-alpakka-huawei-push-kit</div>
  <div>4.0.0-M1</div>
  <div><a href="other-docs/snapshots.html">Snapshots are available</a></div>
  </td></tr>
  <tr><th>JDK versions</th><td><div>Adopt OpenJDK 8</div><div>Adopt OpenJDK 11</div></td></tr>
  <tr><th>Scala versions</th><td>2.13.8</td></tr>
  <tr><th>JPMS module name</th><td>akka.stream.alpakka.huawei.pushkit</td></tr>
  <tr><th>License</th><td><div><a href="https://www.apache.org/licenses/LICENSE-2.0.txt" target="_blank" rel="noopener noreferrer">Apache-2.0</a></div>
  </td></tr>
  <tr><th>Readiness level</th><td><div class="readiness-level"><a href="https://developer.lightbend.com/docs/introduction/getting-help/support-terminology.html#community-driven" target="_blank" rel="noopener">Community-driven</a></div>
  <div>Since 3.0.4, 2021-11-25</div>
  </td></tr>
  <tr><th>Home page</th><td><a href="https://doc.akka.io/docs/alpakka/current">https://doc.akka.io/docs/alpakka/current</a></td></tr>
  <tr><th>API documentation</th><td>
  <div><a href="https://doc.akka.io/api/alpakka/4.0.0-M1/akka/stream/alpakka/huawei.pushkit/index.html" target="_blank" rel="noopener noreferrer">API (Scaladoc)</a></div>
  </td></tr>
  <tr><th>Forums</th><td>
  <div><a href="https://discuss.lightbend.com/c/akka/" target="_blank" rel="noopener noreferrer">Lightbend Discuss</a></div>
  </td></tr>
  <tr><th>Release notes</th><td><a href="https://github.com/akka/alpakka/releases" target="_blank" rel="noopener noreferrer">GitHub releases</a></td></tr>
  <tr><th>Issues</th><td><a href="https://github.com/akka/alpakka/labels/p%3Ahuawei-push-kit" target="_blank" rel="noopener noreferrer">Github issues</a></td></tr>
  <tr><th>Sources</th><td><a href="https://github.com/akka/alpakka" target="_blank" rel="noopener noreferrer">https://github.com/akka/alpakka</a></td></tr>
</table>

<h2><a href="#artifacts" name="artifacts" class="anchor"><span class="anchor-link"></span></a>Artifacts</h2>
<dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">val AkkaVersion = "2.6.19"
val AkkaHttpVersion = "10.2.9"
libraryDependencies ++= Seq(
  "com.lightbend.akka" %% "akka-stream-alpakka-huawei-push-kit" % "4.0.0-M1",
  "com.typesafe.akka" %% "akka-stream" % AkkaVersion,
  "com.typesafe.akka" %% "akka-http" % AkkaHttpVersion,
  "com.typesafe.akka" %% "akka-http-spray-json" % AkkaHttpVersion
)</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;properties&gt;
  &lt;akka.version&gt;2.6.19&lt;/akka.version&gt;
  &lt;akka.http.version&gt;10.2.9&lt;/akka.http.version&gt;
  &lt;scala.binary.version&gt;2.13&lt;/scala.binary.version&gt;
&lt;/properties&gt;
&lt;dependencies&gt
  &lt;dependency&gt;
    &lt;groupId&gt;com.lightbend.akka&lt;/groupId&gt;
    &lt;artifactId&gt;akka-stream-alpakka-huawei-push-kit_${scala.binary.version}&lt;/artifactId&gt;
    &lt;version&gt;4.0.0-M1&lt;/version&gt;
  &lt;/dependency&gt
  &lt;dependency&gt;
    &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
    &lt;artifactId&gt;akka-stream_${scala.binary.version}&lt;/artifactId&gt;
    &lt;version&gt;${akka.version}&lt;/version&gt;
  &lt;/dependency&gt
  &lt;dependency&gt;
    &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
    &lt;artifactId&gt;akka-http_${scala.binary.version}&lt;/artifactId&gt;
    &lt;version&gt;${akka.http.version}&lt;/version&gt;
  &lt;/dependency&gt
  &lt;dependency&gt;
    &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
    &lt;artifactId&gt;akka-http-spray-json_${scala.binary.version}&lt;/artifactId&gt;
    &lt;version&gt;${akka.http.version}&lt;/version&gt;
  &lt;/dependency&gt
&lt;/dependencies&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">def versions = [
  AkkaVersion: "2.6.19",
  AkkaHttpVersion: "10.2.9",
  ScalaBinary: "2.13"
]
dependencies {
  implementation "com.lightbend.akka:akka-stream-alpakka-huawei-push-kit_${versions.ScalaBinary}:4.0.0-M1"
  implementation "com.typesafe.akka:akka-stream_${versions.ScalaBinary}:${versions.AkkaVersion}"
  implementation "com.typesafe.akka:akka-http_${versions.ScalaBinary}:${versions.AkkaHttpVersion}"
  implementation "com.typesafe.akka:akka-http-spray-json_${versions.ScalaBinary}:${versions.AkkaHttpVersion}"
}</code></pre></dd></dl>
<p>The table below shows direct dependencies of this module and the second tab shows all libraries it depends on transitively.</p>
<dl class="dependencies"><dt>Direct dependencies</dt><dd><table>
  <thead><tr><th>Organization</th><th>Artifact</th><th>Version</th></thead>
  <tbody>
    <tr><td>com.github.jwt-scala</td><td>jwt-spray-json_2.13</td><td><a href="https://mvnrepository.com/artifact/com.github.jwt-scala/jwt-spray-json_2.13/7.1.4" target="_blank">7.1.4</a></td></tr>
    <tr><td>com.typesafe.akka</td><td>akka-http-spray-json_2.13</td><td><a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-http-spray-json_2.13/10.2.9" target="_blank">10.2.9</a></td></tr>
    <tr><td>com.typesafe.akka</td><td>akka-http_2.13</td><td><a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-http_2.13/10.2.9" target="_blank">10.2.9</a></td></tr>
    <tr><td>com.typesafe.akka</td><td>akka-stream_2.13</td><td><a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-stream_2.13/2.6.19" target="_blank">2.6.19</a></td></tr>
    <tr><td>org.scala-lang</td><td>scala-library</td><td><a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a></td></tr>
  </tbody>
</table></dd>
<dt>Dependency tree</dt><dd><pre>
com.github.jwt-scala    jwt-spray-json_2.13    <a href="https://mvnrepository.com/artifact/com.github.jwt-scala/jwt-spray-json_2.13/7.1.4" target="_blank">7.1.4</a>    Apache-2.0
    com.github.jwt-scala    jwt-json-common_2.13    <a href="https://mvnrepository.com/artifact/com.github.jwt-scala/jwt-json-common_2.13/7.1.4" target="_blank">7.1.4</a>    Apache-2.0
        com.github.jwt-scala    jwt-core_2.13    <a href="https://mvnrepository.com/artifact/com.github.jwt-scala/jwt-core_2.13/7.1.4" target="_blank">7.1.4</a>    Apache-2.0
            org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
        org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
    io.spray    spray-json_2.13    <a href="https://mvnrepository.com/artifact/io.spray/spray-json_2.13/1.3.6" target="_blank">1.3.6</a>    Apache 2
        org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
    org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
com.typesafe.akka    akka-http-spray-json_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-http-spray-json_2.13/10.2.9" target="_blank">10.2.9</a>    Apache-2.0
    com.typesafe.akka    akka-http_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-http_2.13/10.2.9" target="_blank">10.2.9</a>    Apache-2.0
        com.typesafe.akka    akka-http-core_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-http-core_2.13/10.2.9" target="_blank">10.2.9</a>    Apache-2.0
            com.typesafe.akka    akka-parsing_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-parsing_2.13/10.2.9" target="_blank">10.2.9</a>    Apache-2.0
                org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
            org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
        org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
    io.spray    spray-json_2.13    <a href="https://mvnrepository.com/artifact/io.spray/spray-json_2.13/1.3.6" target="_blank">1.3.6</a>    Apache 2
        org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
    org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
com.typesafe.akka    akka-http_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-http_2.13/10.2.9" target="_blank">10.2.9</a>    Apache-2.0
    com.typesafe.akka    akka-http-core_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-http-core_2.13/10.2.9" target="_blank">10.2.9</a>    Apache-2.0
        com.typesafe.akka    akka-parsing_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-parsing_2.13/10.2.9" target="_blank">10.2.9</a>    Apache-2.0
            org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
        org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
    org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
com.typesafe.akka    akka-stream_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-stream_2.13/2.6.19" target="_blank">2.6.19</a>    Apache-2.0
    com.typesafe.akka    akka-actor_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-actor_2.13/2.6.19" target="_blank">2.6.19</a>    Apache-2.0
        com.typesafe    config    <a href="https://mvnrepository.com/artifact/com.typesafe/config/1.4.2" target="_blank">1.4.2</a>    Apache-2.0
        org.scala-lang.modules    scala-java8-compat_2.13    <a href="https://mvnrepository.com/artifact/org.scala-lang.modules/scala-java8-compat_2.13/1.0.0" target="_blank">1.0.0</a>    Apache-2.0
            org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
        org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
    com.typesafe.akka    akka-protobuf-v3_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe.akka/akka-protobuf-v3_2.13/2.6.19" target="_blank">2.6.19</a>    Apache-2.0
    com.typesafe    ssl-config-core_2.13    <a href="https://mvnrepository.com/artifact/com.typesafe/ssl-config-core_2.13/0.4.3" target="_blank">0.4.3</a>    Apache-2.0
        com.typesafe    config    <a href="https://mvnrepository.com/artifact/com.typesafe/config/1.4.2" target="_blank">1.4.2</a>    Apache-2.0
        org.scala-lang.modules    scala-parser-combinators_2.13    <a href="https://mvnrepository.com/artifact/org.scala-lang.modules/scala-parser-combinators_2.13/1.1.2" target="_blank">1.1.2</a>    Apache-2.0
            org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
        org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
    org.reactivestreams    reactive-streams    <a href="https://mvnrepository.com/artifact/org.reactivestreams/reactive-streams/1.0.3" target="_blank">1.0.3</a>    CC0
    org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0
org.scala-lang    scala-library    <a href="https://mvnrepository.com/artifact/org.scala-lang/scala-library/2.13.8" target="_blank">2.13.8</a>    Apache-2.0</pre></dd>
</dl>

<h2><a href="#settings" name="settings" class="anchor"><span class="anchor-link"></span></a>Settings</h2>

<p>All of the configuration settings for Huawei Push Kit can be found in the <a href="https://github.com/akka/alpakka/tree/v4.0.0-M1/huawei-push-kit/src/main/resources/reference.conf">reference.conf</a>.</p>

<pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/alpakka/tree/v4.0.0-M1/huawei-push-kit/src/test/resources/application.conf#L8-L11" target="_blank" title="Go to snippet source">source</a><code class="language-conf">alpakka.huawei.pushkit {
  app-id: &quot;105260069&quot;
  app-secret: &quot;a192c0f08d03216b0f03b946918d5c725bbf54264a434227928c612012eefd24&quot;
}</code></pre>
<p>The <code>test</code> and <code>maxConcurrentConnections</code> parameters in <a href="/api/alpakka/4.0.0-M1/akka/stream/alpakka/huawei/pushkit/HmsSettings.html" title="akka.stream.alpakka.huawei.pushkit.HmsSettings"><code>HmsSettings</code></a> are the predefined values. You can send test notifications <a href="https://developer.huawei.com/consumer/en/doc/development/HMSCore-References-V5/https-send-api-0000001050986197-V5">(so called validate only).</a> And you can set the number of maximum concurrent connections.</p>
<h2><a href="#sending-notifications" name="sending-notifications" class="anchor"><span class="anchor-link"></span></a>Sending notifications</h2>
<p>To send a notification message create your notification object, and send it!</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/alpakka/tree/v4.0.0-M1/huawei-push-kit/src/test/scala/docs/scaladsl/PushKitExamples.scala#L9-L21" target="_blank" title="Go to snippet source">source</a><code class="language-scala">import akka.stream.alpakka.huawei.pushkit._
import akka.stream.alpakka.huawei.pushkit.scaladsl.HmsPushKit
import akka.stream.alpakka.huawei.pushkit.models.AndroidConfig
import akka.stream.alpakka.huawei.pushkit.models.AndroidNotification
import akka.stream.alpakka.huawei.pushkit.models.BasicNotification
import akka.stream.alpakka.huawei.pushkit.models.ClickAction
import akka.stream.alpakka.huawei.pushkit.models.Condition
import akka.stream.alpakka.huawei.pushkit.models.ErrorResponse
import akka.stream.alpakka.huawei.pushkit.models.PushKitNotification
import akka.stream.alpakka.huawei.pushkit.models.PushKitResponse
import akka.stream.alpakka.huawei.pushkit.models.Response
import akka.stream.alpakka.huawei.pushkit.models.Tokens

val result1: Future[immutable.Seq[Response]] =
  Source
    .single(notification)
    .via(HmsPushKit.send(config))
    .map {
      case res @ PushKitResponse(code, msg, requestId) =&gt;
        println(s&quot;Response $res&quot;)
        res
      case res @ ErrorResponse(errorMessage) =&gt;
        println(s&quot;Send error $res&quot;)
        res
    }
    .runWith(Sink.seq)</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/alpakka/tree/v4.0.0-M1/huawei-push-kit/src/test/java/docs/javadsl/PushKitExamples.java#L10-L21" target="_blank" title="Go to snippet source">source</a><code class="language-java">import akka.stream.alpakka.huawei.pushkit.*;
import akka.stream.alpakka.huawei.pushkit.javadsl.HmsPushKit;
import akka.stream.alpakka.huawei.pushkit.models.AndroidConfig;
import akka.stream.alpakka.huawei.pushkit.models.AndroidNotification;
import akka.stream.alpakka.huawei.pushkit.models.BasicNotification;
import akka.stream.alpakka.huawei.pushkit.models.ClickAction;
import akka.stream.alpakka.huawei.pushkit.models.ErrorResponse;
import akka.stream.alpakka.huawei.pushkit.models.PushKitNotification;
import akka.stream.alpakka.huawei.pushkit.models.PushKitResponse;
import akka.stream.alpakka.huawei.pushkit.models.Response;
import akka.stream.alpakka.huawei.pushkit.models.Tokens;

CompletionStage&lt;List&lt;Response&gt;&gt; result =
    Source.single(notification)
        .via(HmsPushKit.send(config))
        .map(
            res -&gt; {
              if (!res.isFailure()) {
                PushKitResponse response = (PushKitResponse) res;
                System.out.println(&quot;Response &quot; + response);
              } else {
                ErrorResponse response = (ErrorResponse) res;
                System.out.println(&quot;Send error &quot; + response);
              }
              return res;
            })
        .runWith(Sink.seq(), system);</code></pre></dd>
</dl>
<p>With this type of send you can get responses from the server. These responses can be <a href="/api/alpakka/4.0.0-M1/akka/stream/alpakka/huawei/pushkit/PushKitResponse.html" title="akka.stream.alpakka.huawei.pushkit.PushKitResponse"><code>PushKitResponse</code></a> or <a href="/api/alpakka/4.0.0-M1/akka/stream/alpakka/huawei/pushkit/ErrorResponse.html" title="akka.stream.alpakka.huawei.pushkit.ErrorResponse"><code>ErrorResponse</code></a>. You can choose what you want to do with this information, but keep in mind if you try to resend the failed messages you will need to use exponential backoff! (see @extref[<a href="akka:stream/operators/RestartFlow/onFailuresWithBackoff.html">Akka docs <code>RestartFlow.onFailuresWithBackoff</code></a>)</p>
<p>If you don&rsquo;t care if the notification was sent successfully, you may use <code>fireAndForget</code>.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/alpakka/tree/v4.0.0-M1/huawei-push-kit/src/test/scala/docs/scaladsl/PushKitExamples.scala#L9-L21" target="_blank" title="Go to snippet source">source</a><code class="language-scala">import akka.stream.alpakka.huawei.pushkit._
import akka.stream.alpakka.huawei.pushkit.scaladsl.HmsPushKit
import akka.stream.alpakka.huawei.pushkit.models.AndroidConfig
import akka.stream.alpakka.huawei.pushkit.models.AndroidNotification
import akka.stream.alpakka.huawei.pushkit.models.BasicNotification
import akka.stream.alpakka.huawei.pushkit.models.ClickAction
import akka.stream.alpakka.huawei.pushkit.models.Condition
import akka.stream.alpakka.huawei.pushkit.models.ErrorResponse
import akka.stream.alpakka.huawei.pushkit.models.PushKitNotification
import akka.stream.alpakka.huawei.pushkit.models.PushKitResponse
import akka.stream.alpakka.huawei.pushkit.models.Response
import akka.stream.alpakka.huawei.pushkit.models.Tokens

val config = HmsSettings()
val notification: PushKitNotification =
  PushKitNotification.empty
    .withNotification(
      BasicNotification.empty
        .withTitle(&quot;title&quot;)
        .withBody(&quot;body&quot;)
    )
    .withAndroidConfig(
      AndroidConfig.empty
        .withNotification(
          AndroidNotification.empty
            .withClickAction(
              ClickAction.empty
                .withType(3)
            )
        )
    )
    .withTarget(Tokens(Set[String](&quot;token&quot;).toSeq))

Source
  .single(notification)
  .runWith(HmsPushKit.fireAndForget(config))</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/alpakka/tree/v4.0.0-M1/huawei-push-kit/src/test/java/docs/javadsl/PushKitExamples.java#L10-L21" target="_blank" title="Go to snippet source">source</a><code class="language-java">import akka.stream.alpakka.huawei.pushkit.*;
import akka.stream.alpakka.huawei.pushkit.javadsl.HmsPushKit;
import akka.stream.alpakka.huawei.pushkit.models.AndroidConfig;
import akka.stream.alpakka.huawei.pushkit.models.AndroidNotification;
import akka.stream.alpakka.huawei.pushkit.models.BasicNotification;
import akka.stream.alpakka.huawei.pushkit.models.ClickAction;
import akka.stream.alpakka.huawei.pushkit.models.ErrorResponse;
import akka.stream.alpakka.huawei.pushkit.models.PushKitNotification;
import akka.stream.alpakka.huawei.pushkit.models.PushKitResponse;
import akka.stream.alpakka.huawei.pushkit.models.Response;
import akka.stream.alpakka.huawei.pushkit.models.Tokens;

HmsSettings config = HmsSettings.create(system);
PushKitNotification notification =
    PushKitNotification.fromJava()
        .withNotification(BasicNotification.fromJava().withTitle(&quot;title&quot;).withBody(&quot;body&quot;))
        .withAndroidConfig(
            AndroidConfig.fromJava()
                .withNotification(
                    AndroidNotification.fromJava()
                        .withClickAction(ClickAction.fromJava().withType(3))))
        .withTarget(new Tokens(new Set.Set1&lt;&gt;(&quot;token&quot;).toSeq()));

Source.single(notification).runWith(HmsPushKit.fireAndForget(config), system);</code></pre></dd>
</dl>
<p>With fire and forget you will just send messages and ignore all the errors.</p>
<p>To help the integration and error handling or logging, there is a variation of the flow where you can send data beside your notification.</p>
<h2><a href="#scala-only" name="scala-only" class="anchor"><span class="anchor-link"></span></a>Scala only</h2>
<p>You can build notification described in the original documentation. It can be done by hand, or using some builder method. See an example of the condition builder below.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/alpakka/tree/v4.0.0-M1/huawei-push-kit/src/test/scala/docs/scaladsl/PushKitExamples.scala#L76-L77" target="_blank" title="Go to snippet source">source</a><code class="language-scala">import akka.stream.alpakka.huawei.pushkit.models.Condition.{Topic =&gt; CTopic}
val condition = Condition(CTopic(&quot;TopicA&quot;) &amp;&amp; (CTopic(&quot;TopicB&quot;) || (CTopic(&quot;TopicC&quot;) &amp;&amp; !CTopic(&quot;TopicD&quot;))))</code></pre></dd>
</dl>
</div>
</article>
<div class="row">
<div class="small-12 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="hbase.html"><i class="icon-prev"></i> <span class="link-prev">HBase</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="external/http.html">HTTP <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>
<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/akka/alpakka/tree/v4.0.0-M1/docs/src/main/paradox/huawei-push-kit.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>

<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="images/akka-icon.svg" />
<section class="copyright">
<div>Alpakka is Open Source and available under the Apache 2 License.</div>
<p class="legal">
&copy; 2011-2022 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> |
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> |
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> |
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> |
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> |
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>

</footer>
</section>
</main>
</div>

<script type="text/javascript" src="js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="js/groups.js"></script>
<script type="text/javascript" src="js/page.js"></script>
<script type="text/javascript" src="js/snippets.js"></script>
<script type="text/javascript" src="js/magellan.js"></script>
<script type="text/javascript" src="js/metadata-toggle.js"></script>
<script type="text/javascript" src="js/lbHeader.js"></script>

<style type="text/css">@import "lib/prettify/prettify.css";</style>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(){window.prettyPrint && prettyPrint()});
//]]></script>
<script type="text/javascript" src="assets/js/warnOldVersion.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(jq){initOldVersionWarnings(jq, '4.0.0-M1', 'https://doc.akka.io/docs/alpakka/current')});
//]]></script>


</body>
</html>
