<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>SecurityDirectives · Akka HTTP</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='akka-http-docs'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../../../../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../js/page.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../../../../../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../../../../../css/page.css"/>

<!--
<link rel="shortcut icon" href="../../../../../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../../../../../index.html" >
<span class="home-icon">⌂</span>Akka HTTP
</a>
<div class="version-number">
10.0.2+20170123-1954
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../../../../../java.html">Java Documentation</a>
  <ul>
    <li><a href="../../../../../java/http/index.html">Akka HTTP</a>
    <ul>
      <li><a href="../../../../../java/http/introduction.html">Introduction</a></li>
      <li><a href="../../../../../java/http/configuration.html">Configuration</a></li>
      <li><a href="../../../../../java/http/common/index.html">Common Abstractions (Client- and Server-Side)</a></li>
      <li><a href="../../../../../java/http/implications-of-streaming-http-entity.html">Implications of the streaming nature of Request/Response Entities</a></li>
      <li><a href="../../../../../java/http/server-side/low-level-server-side-api.html">Low-Level Server-Side API</a></li>
      <li><a href="../../../../../java/http/routing-dsl/index.html">High-level Server-Side API</a></li>
      <li><a href="../../../../../java/http/server-side/websocket-support.html">Server-Side WebSocket Support</a></li>
      <li><a href="../../../../../java/http/client-side/index.html">Consuming HTTP-based Services (Client-Side)</a></li>
      <li><a href="../../../../../java/http/server-side-https-support.html">Server-Side HTTPS Support</a></li>
      <li><a href="../../../../../java/http/migration-guide/index.html">Migration Guides (Java)</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../../../scala.html">Scala Documentation</a>
  <ul>
    <li><a href="../../../../../scala/http/index.html">Akka HTTP</a>
    <ul>
      <li><a href="../../../../../scala/http/introduction.html">Introduction</a></li>
      <li><a href="../../../../../scala/http/configuration.html">Configuration</a></li>
      <li><a href="../../../../../scala/http/common/index.html">Common Abstractions (Client- and Server-Side)</a></li>
      <li><a href="../../../../../scala/http/implications-of-streaming-http-entity.html">Implications of the streaming nature of Request/Response Entities</a></li>
      <li><a href="../../../../../scala/http/low-level-server-side-api.html">Low-Level Server-Side API</a></li>
      <li><a href="../../../../../scala/http/routing-dsl/index.html">High-level Server-Side API</a></li>
      <li><a href="../../../../../scala/http/websocket-support.html">Server-Side WebSocket Support</a></li>
      <li><a href="../../../../../scala/http/client-side/index.html">Consuming HTTP-based Services (Client-Side)</a></li>
      <li><a href="../../../../../scala/http/server-side-https-support.html">Server-Side HTTPS Support</a></li>
      <li><a href="../../../../../scala/http/handling-blocking-operations-in-akka-http-routes.html">Handling blocking operations in Akka HTTP</a></li>
      <li><a href="../../../../../scala/http/migration-guide/index.html">Migration Guides</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../../../security.html">Security announcements</a></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="../../../../../index.html">Akka HTTP</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../../../../../index.html" >
<span class="home-icon">⌂</span>Akka HTTP
</a>
<div class="version-number">
10.0.2+20170123-1954
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../../../../../java.html">Java Documentation</a>
  <ul>
    <li><a href="../../../../../java/http/index.html">Akka HTTP</a>
    <ul>
      <li><a href="../../../../../java/http/introduction.html">Introduction</a></li>
      <li><a href="../../../../../java/http/configuration.html">Configuration</a></li>
      <li><a href="../../../../../java/http/common/index.html">Common Abstractions (Client- and Server-Side)</a></li>
      <li><a href="../../../../../java/http/implications-of-streaming-http-entity.html">Implications of the streaming nature of Request/Response Entities</a></li>
      <li><a href="../../../../../java/http/server-side/low-level-server-side-api.html">Low-Level Server-Side API</a></li>
      <li><a href="../../../../../java/http/routing-dsl/index.html">High-level Server-Side API</a></li>
      <li><a href="../../../../../java/http/server-side/websocket-support.html">Server-Side WebSocket Support</a></li>
      <li><a href="../../../../../java/http/client-side/index.html">Consuming HTTP-based Services (Client-Side)</a></li>
      <li><a href="../../../../../java/http/server-side-https-support.html">Server-Side HTTPS Support</a></li>
      <li><a href="../../../../../java/http/migration-guide/index.html">Migration Guides (Java)</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../../../scala.html">Scala Documentation</a>
  <ul>
    <li><a href="../../../../../scala/http/index.html">Akka HTTP</a>
    <ul>
      <li><a href="../../../../../scala/http/introduction.html">Introduction</a></li>
      <li><a href="../../../../../scala/http/configuration.html">Configuration</a></li>
      <li><a href="../../../../../scala/http/common/index.html">Common Abstractions (Client- and Server-Side)</a></li>
      <li><a href="../../../../../scala/http/implications-of-streaming-http-entity.html">Implications of the streaming nature of Request/Response Entities</a></li>
      <li><a href="../../../../../scala/http/low-level-server-side-api.html">Low-Level Server-Side API</a></li>
      <li><a href="../../../../../scala/http/routing-dsl/index.html">High-level Server-Side API</a></li>
      <li><a href="../../../../../scala/http/websocket-support.html">Server-Side WebSocket Support</a></li>
      <li><a href="../../../../../scala/http/client-side/index.html">Consuming HTTP-based Services (Client-Side)</a></li>
      <li><a href="../../../../../scala/http/server-side-https-support.html">Server-Side HTTPS Support</a></li>
      <li><a href="../../../../../scala/http/handling-blocking-operations-in-akka-http-routes.html">Handling blocking operations in Akka HTTP</a></li>
      <li><a href="../../../../../scala/http/migration-guide/index.html">Migration Guides</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../../../security.html">Security announcements</a></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="../../../../../index.html">Akka HTTP</a></li>
  <li><a href="../../../../../scala.html">Scala Documentation</a></li>
  <li><a href="../../../../../scala/http/index.html">Akka HTTP</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/index.html">High-level Server-Side API</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/index.html">Directives</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/by-trait.html">Predefined Directives (by trait)</a></li>
  <li>SecurityDirectives</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<a id="securitydirectives"></a>
<h1><a href="#securitydirectives" name="securitydirectives" class="anchor"><span class="anchor-link"></span></a>SecurityDirectives</h1>
<div class="toc ">
<ul>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/index.html#authentication-vs-authorization">Authentication vs. Authorization</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/index.html#authentication-and-authorization-in-http">Authentication and Authorization in HTTP</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/index.html#low-level-oauth2-directives">Low-level OAuth2 &ldquo;Bearer Token&rdquo; directives</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/index.html#credentials-and-password-timing-attacks">Credentials and password timing attacks</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authenticateBasic.html">authenticateBasic</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authenticateBasicAsync.html">authenticateBasicAsync</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authenticateBasicPF.html">authenticateBasicPF</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authenticateBasicPFAsync.html">authenticateBasicPFAsync</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authenticateOrRejectWithChallenge.html">authenticateOrRejectWithChallenge</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authenticateOAuth2.html">authenticateOAuth2</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authenticateOAuth2Async.html">authenticateOAuth2Async</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authenticateOAuth2PF.html">authenticateOAuth2PF</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authenticateOAuth2PFAsync.html">authenticateOAuth2PFAsync</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authorize.html">authorize</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/authorizeAsync.html">authorizeAsync</a></li>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/extractCredentials.html">extractCredentials</a></li>
</ul>
</div>
<a id="authentication-vs-authorization-scala"></a>
<h2><a href="#authentication-vs-authorization" name="authentication-vs-authorization" class="anchor"><span class="anchor-link"></span></a>Authentication vs. Authorization</h2>
<p><strong>Authentication</strong> is the process of establishing a known identity for the user, whereby &lsquo;identity&rsquo; is defined in the context of the application. This may be done with a username/password combination, a cookie, a pre-defined IP or some other mechanism. After authentication the system believes that it knows who the user is.</p>
<p><strong>Authorization</strong> is the process of determining, whether a given user is allowed access to a given resource or not. In most cases, in order to be able to authorize a user (i.e. allow access to some part of the system) the users identity must already have been established, i.e. he/she must have been authenticated. Without prior authentication the authorization would have to be very crude, e.g. &ldquo;allow access for <em>all</em> users&rdquo; or &ldquo;allow access for <em>noone</em>&rdquo;. Only after authentication will it be possible to, e.g., &ldquo;allow access to the statistics resource for <em>admins</em>, but not for regular <em>members</em>&rdquo;.</p>
<p>Authentication and authorization may happen at the same time, e.g. when everyone who can properly be authenticated is also allowed access (which is often a very simple and somewhat implicit authorization logic). In other cases the system might have one mechanism for authentication (e.g. establishing user identity via an LDAP lookup) and another one for authorization (e.g. a database lookup for retrieving user access rights).</p>
<h2><a href="#authentication-and-authorization-in-http" name="authentication-and-authorization-in-http" class="anchor"><span class="anchor-link"></span></a>Authentication and Authorization in HTTP</h2>
<p>HTTP provides a general framework for access control and authentication, via an extensible set of challenge-response authentication schemes, which can be used by a server to challenge a client request and by a client to provide authentication information. The general mechanism is defined in <a href="http://tools.ietf.org/html/rfc7235">RFC 7235</a>.</p>
<p>The &ldquo;HTTP Authentication Scheme Registry&rdquo; defines the namespace for the authentication schemes in challenges and credentials. You can see the currently registered schemes at <a href="http://www.iana.org/assignments/http-authschemes">http://www.iana.org/assignments/http-authschemes</a>.</p>
<p>At this point Akka HTTP only implements the &ldquo;&lsquo;Basic&rsquo; HTTP Authentication Scheme&rdquo; whose most current specification can be found here: <a href="https://datatracker.ietf.org/doc/draft-ietf-httpauth-basicauth-update">https://datatracker.ietf.org/doc/draft-ietf-httpauth-basicauth-update</a>.</p>
<h2><a href="#low-level-oauth2-directives" name="low-level-oauth2-directives" class="anchor"><span class="anchor-link"></span></a>Low-level OAuth2 &ldquo;Bearer Token&rdquo; directives</h2>
<p>The OAuth2 directives currently provided in Akka HTTP are not a full OAuth2 protocol implementation, they are only a means of extracting the so called <code>Bearer Token</code> from the <code>Authorization</code> HTTP Header, as defined in <a href="https://tools.ietf.org/html/rfc6750">RFC 6750</a>, and allow users to validate and complete the protocol.</p>
<a id="credentials-and-timing-attacks-scala"></a>
<h2><a href="#credentials-and-password-timing-attacks" name="credentials-and-password-timing-attacks" class="anchor"><span class="anchor-link"></span></a>Credentials and password timing attacks</h2>
<p>When transforming request <code>Credentials</code> into an application specific user identifier the naive solution for checking the secret (password) would be a regular string comparison, but doing this would open up the application to timing attacks. See for example <a href="http://emerose.com/timing-attacks-explained">Timing Attacks Explained</a> for an explanation of the problem.</p>
<p>To protect users of the library from that mistake the secret is not available through the API, instead the method <code>Credentials.Provided.verify(String)</code> should be used. It does a constant time comparison rather than returning early upon finding the first non-equal character.</p>
<div class="nav-next">
<p><strong>Next:</strong> <a href="../../../../../scala/http/routing-dsl/directives/security-directives/authenticateBasic.html">authenticateBasic</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/index.html#securitydirectives">SecurityDirectives</a>
  <ul>
    <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/index.html#authentication-vs-authorization">Authentication vs. Authorization</a></li>
    <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/index.html#authentication-and-authorization-in-http">Authentication and Authorization in HTTP</a></li>
    <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/index.html#low-level-oauth2-directives">Low-level OAuth2 &ldquo;Bearer Token&rdquo; directives</a></li>
    <li><a href="../../../../../scala/http/routing-dsl/directives/security-directives/index.html#credentials-and-password-timing-attacks">Credentials and password timing attacks</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2017</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../../../../../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../../../../../js/magellan.js"></script>

<style type="text/css">@import "../../../../../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../../../../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../../../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>

</html>
