<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Migration Guide to and within Akka HTTP 10.1.x &bull; Akka HTTP</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Akka Http: Modern, fast, asynchronous, streaming-first HTTP server and client."/>
<link rel="canonical" href="https://doc.akka.io/docs/akka-http/current/migration-guide/migration-guide-10.1.x.html"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="../css/icons.css"/>
<link rel="stylesheet" type="text/css" href="../css/page-8.css"/>
<link rel="stylesheet" type="text/css" href="../css/banner-2.css"/>
<link rel="shortcut icon" href="../images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png"/>
<link rel="manifest" href="../images/manifest.json"/>
<meta name="msapplication-TileImage" content="../images/mstile-150x150.png"/>
<meta name="msapplication-TileColor" content="#15a9ce"/>
<meta name="theme-color" content="#15a9ce"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="28b912e7-09e9-43d5-91e4-3d1897044004" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics NOTE this will stop processing data July 1st 2023. At which point this embed code can be removed-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-21117439-1']);
_gaq.push(['_setDomainName', 'akka.io']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>

<!-- Google Tag Manager: Updated May 17th 2023 - Cookie Compliance checks have been moved into Google Tag Manager -->
<script type="text/javascript">
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KBJGH35');
</script>

</head>

<body id="underlay" data-toggler="nav-open">
<div id="lightbend-banner" class="lightbend-banner akka full-width" data-category="OSS Lightbend Banner Impression" data-label="Akka Banner Impression">
<div class="oss-wrapper">
<div class="oss-brand">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Lightbend Logo - Akka Banner" href="https://www.lightbend.com">
<img class="lightbend-logo" src="../images/banner-logos/lightbend-reverse.svg" alt="Lightbend" title="Lightbend">
</a>
</div>
<div class="oss-ad no-drop-down">
<nav id="lightbendRotator" class="lightbend-rotator">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Promo Rotator - Lightbend Changed its Software Licensing Model for Akka Technology. [License FAQ] - Akka Banner" href="https://www.lightbend.com/akka/license-faq">
<strong>Lightbend</strong> Changed its Software Licensing Model for Akka Technology. <span class="akka-btn">License FAQ</span>
</a>
</nav>
</div>
</div>
</div>

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="https://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka HTTP</a></h1>
</div>
<div class="nav-header-version">
Version 10.6.0-M2
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div id="overlay-search-container" class="nav-header-search">
<input id="overlay-search" type="search" class="search" placeholder="Search" />
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="../security.html" class="page">Security Announcements</a></li>
  <li><a href="../introduction.html" class="page">1. Introduction</a></li>
  <li><a href="../usage.html" class="page">2. Usage</a>
  <ul>
    <li><a href="../configuration.html" class="page">Configuration</a></li>
    <li><a href="../migration-guide/index.html" class="page">Migration Guides</a>
    <ul>
      <li><a href="../migration-guide/migration-guide-10.6.x.html" class="page">Migration Guide to and within Akka HTTP 10.6.x</a></li>
      <li><a href="../migration-guide/migration-guide-10.4.x.html" class="page">Migration Guide to and within Akka HTTP 10.4.x</a></li>
      <li><a href="../migration-guide/migration-guide-10.2.x.html" class="page">Migration Guide to and within Akka HTTP 10.2.x</a></li>
      <li><a href="../migration-guide/migration-guide-10.1.x.html#migration-guide-to-and-within-akka-http-10-1-x" class="active page">Migration Guide to and within Akka HTTP 10.1.x</a>
      <ul>
        <li><a href="../migration-guide/migration-guide-10.1.x.html#general-notes" class="header">General Notes</a></li>
        <li><a href="../migration-guide/migration-guide-10.1.x.html#akka-http-10-1-4-10-1-5" class="header">Akka HTTP 10.1.4 -&gt; 10.1.5</a></li>
        <li><a href="../migration-guide/migration-guide-10.1.x.html#akka-http-10-0-11-10-1-0" class="header">Akka HTTP 10.0.11 - &gt; 10.1.0</a></li>
      </ul></li>
      <li><a href="../migration-guide/migration-guide-10.0.x.html" class="page">Migration Guide within Akka HTTP 10.0.x</a></li>
      <li><a href="../migration-guide/migration-guide-2.4.x-10.0.x.html" class="page">Migration Guide between Akka HTTP 2.4.x and 10.0.x</a></li>
      <li><a href="../migration-guide/migration-from-spray.html" class="page">Migration Guide from Spray</a></li>
      <li><a href="../migration-guide/migration-from-old-http-javadsl.html" class="page">Migration Guide from &ldquo;old&rdquo; HTTP JavaDSL</a></li>
    </ul></li>
    <li><a href="../compatibility-guidelines.html" class="page">Compatibility Guidelines</a></li>
  </ul></li>
  <li><a href="../common/index.html" class="page">3. Data Types &amp; Abstractions</a></li>
  <li><a href="../server-side/index.html" class="page">4. Server API</a></li>
  <li><a href="../client-side/index.html" class="page">5. Client API</a></li>
  <li><a href="../extensions.html" class="page">6. Extensions</a></li>
  <li><a href="../technologies.html" class="page">7. Supported Technologies</a></li>
  <li><a href="../tipsandtricks.html" class="page">8. Tips And Tricks</a></li>
  <li><a href="../contributing.html" class="page">9. Contributing</a></li>
  <li><a href="../reference.html" class="page">10. Reference</a></li>
  <li><a href="../release-notes/index.html" class="page">11. Release Notes</a></li>
</ul>
</nav>
</div>
</header>
<div class="site-content-wrapper">
<aside class="sticky-sidebar show-for-large">
<header class="nav-header sticky-sidebar-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka HTTP</a></h1>
</div>
<div class="nav-header-version">
Version 10.6.0-M2
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div class="nav-header-search">
<input id="search" type="search" class="search" placeholder="Search" />
</div>
</header>
<nav class="site-nav sticky-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="../security.html" class="page">Security Announcements</a></li>
  <li><a href="../introduction.html" class="page">1. Introduction</a></li>
  <li><a href="../usage.html" class="page">2. Usage</a>
  <ul>
    <li><a href="../configuration.html" class="page">Configuration</a></li>
    <li><a href="../migration-guide/index.html" class="page">Migration Guides</a>
    <ul>
      <li><a href="../migration-guide/migration-guide-10.6.x.html" class="page">Migration Guide to and within Akka HTTP 10.6.x</a></li>
      <li><a href="../migration-guide/migration-guide-10.4.x.html" class="page">Migration Guide to and within Akka HTTP 10.4.x</a></li>
      <li><a href="../migration-guide/migration-guide-10.2.x.html" class="page">Migration Guide to and within Akka HTTP 10.2.x</a></li>
      <li><a href="../migration-guide/migration-guide-10.1.x.html#migration-guide-to-and-within-akka-http-10-1-x" class="active page">Migration Guide to and within Akka HTTP 10.1.x</a>
      <ul>
        <li><a href="../migration-guide/migration-guide-10.1.x.html#general-notes" class="header">General Notes</a></li>
        <li><a href="../migration-guide/migration-guide-10.1.x.html#akka-http-10-1-4-10-1-5" class="header">Akka HTTP 10.1.4 -&gt; 10.1.5</a></li>
        <li><a href="../migration-guide/migration-guide-10.1.x.html#akka-http-10-0-11-10-1-0" class="header">Akka HTTP 10.0.11 - &gt; 10.1.0</a></li>
      </ul></li>
      <li><a href="../migration-guide/migration-guide-10.0.x.html" class="page">Migration Guide within Akka HTTP 10.0.x</a></li>
      <li><a href="../migration-guide/migration-guide-2.4.x-10.0.x.html" class="page">Migration Guide between Akka HTTP 2.4.x and 10.0.x</a></li>
      <li><a href="../migration-guide/migration-from-spray.html" class="page">Migration Guide from Spray</a></li>
      <li><a href="../migration-guide/migration-from-old-http-javadsl.html" class="page">Migration Guide from &ldquo;old&rdquo; HTTP JavaDSL</a></li>
    </ul></li>
    <li><a href="../compatibility-guidelines.html" class="page">Compatibility Guidelines</a></li>
  </ul></li>
  <li><a href="../common/index.html" class="page">3. Data Types &amp; Abstractions</a></li>
  <li><a href="../server-side/index.html" class="page">4. Server API</a></li>
  <li><a href="../client-side/index.html" class="page">5. Client API</a></li>
  <li><a href="../extensions.html" class="page">6. Extensions</a></li>
  <li><a href="../technologies.html" class="page">7. Supported Technologies</a></li>
  <li><a href="../tipsandtricks.html" class="page">8. Tips And Tricks</a></li>
  <li><a href="../contributing.html" class="page">9. Contributing</a></li>
  <li><a href="../reference.html" class="page">10. Reference</a></li>
  <li><a href="../release-notes/index.html" class="page">11. Release Notes</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer sticky-sidebar-footer">
<a href="https://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

</footer>
</aside>
<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">
<article class="page-content row">
<div class="small-12 column" id="docs">
<h1><a href="#migration-guide-to-and-within-akka-http-10-1-x" name="migration-guide-to-and-within-akka-http-10-1-x" class="anchor"><span class="anchor-link"></span></a>Migration Guide to and within Akka HTTP 10.1.x</h1>
<h2><a href="#general-notes" name="general-notes" class="anchor"><span class="anchor-link"></span></a>General Notes</h2>
<p>See the general <a href="../compatibility-guidelines.html">compatibility guidelines</a>.</p>
<h2><a href="#akka-http-10-1-4-10-1-5" name="akka-http-10-1-4-10-1-5" class="anchor"><span class="anchor-link"></span></a>Akka HTTP 10.1.4 -&gt; 10.1.5</h2>
<p>To avoid excessive memory usage we introduced two new limits that apply per default:</p>
<ul>
  <li><code>akka.http.routing.decode-max-size</code>: This limit applies when you use <code>decodeRequest</code> to limit the amount of decompressed data. The default limit is 8 megabytes.</li>
  <li><code>akka.http.parsing.max-to-strict-bytes</code>: This limit applies when you use <code>HttpEntity.toStrict</code> or the <code>toStrictEntity</code> directive (and related directives). It will only collect up to the given amount data and fail otherwise. The default limit is 8 megabytes.</li>
</ul>
<p>Depending on your application requirements, you may want to change these settings.</p>
<h2><a href="#akka-http-10-0-11-10-1-0" name="akka-http-10-0-11-10-1-0" class="anchor"><span class="anchor-link"></span></a>Akka HTTP 10.0.11 - &gt; 10.1.0</h2>
<h3><a href="#depend-on-akka-stream-explicitly" name="depend-on-akka-stream-explicitly" class="anchor"><span class="anchor-link"></span></a>Depend on akka-stream explicitly</h3>
<p>Starting from Akka Http 10.1.0, an explicit dependency to the <code>akka-stream</code> module is necessary. See <a href="../compatibility-guidelines.html#compatibility-with-akka">Compatibility with Akka</a> for more information. The minimum Akka version currently required is Akka 2.5.11.</p>
<h3><a href="#removal-of-deprecated-methods" name="removal-of-deprecated-methods" class="anchor"><span class="anchor-link"></span></a>Removal of deprecated methods</h3>
<p>Methods deprecated during 10.0.x but before 10.0.11 were removed in 10.1.0. When still compiling with 10.0.11 make sure not to refer to deprecated methods. The deprecation notices usually give hints about alternatives.</p>
<h3><a href="#return-type-change-of-serverbinding-unbind" name="return-type-change-of-serverbinding-unbind" class="anchor"><span class="anchor-link"></span></a>Return type change of ServerBinding.unbind</h3>
<p>The return type of <code>ServerBinding.unbind</code> has been changed to <span class="group-scala"><code>Future[Done]</code></span><span class="group-java"><code>CompletionStage[Done]</code></span> for consistency. It previously returned an element type of <span class="group-scala"><code>Unit</code></span><span class="group-java"><code>BoxedUnit</code></span>. Both the old and new types can be ignored, so in most cases, no action is necessary. If you typed out the return type somewhere, change the type to <code>akka.Done</code>.</p>
</div>
</article>
<div class="row">
<div class="small-12 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="../migration-guide/migration-guide-10.2.x.html"><i class="icon-prev"></i> <span class="link-prev">Migration Guide to and within Akka HTTP 10.2.x</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="../migration-guide/migration-guide-10.0.x.html">Migration Guide within Akka HTTP 10.0.x <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>
<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/akka/akka-http/tree/v10.6.0-M2/docs/src/main/paradox/migration-guide/migration-guide-10.1.x.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>

<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="../images/akka-icon.svg" />
<section class="copyright">
<div>Akka HTTP is available under the <a href="https://www.lightbend.com/akka/license" target="_blank">Business Source License 1.1</a>.</div>
<p class="legal">
&copy; 2011-2023 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> |
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> |
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> |
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> |
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> |
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>

</footer>
</section>
</main>
</div>

<script type="text/javascript" src="../js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/snippets.js"></script>
<script type="text/javascript" src="../js/magellan.js"></script>
<script type="text/javascript" src="../js/metadata-toggle.js"></script>
<script type="text/javascript" src="../js/lbHeader.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(){window.prettyPrint && prettyPrint()});
//]]></script>
<!-- Algolia docs search -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<style>.algolia-autocomplete { display: block !important }</style>
<script type="text/javascript">
docsearch({
appId: 'XUXZ6LW9B1',
apiKey: '5b6260148e92f7c5e38338fcf7eaa3e0',
indexName: 'akka_http_docs',
inputSelector: '#search',
algoliaOptions: {
hitsPerPage: 5
}
});

docsearch({
appId: 'XUXZ6LW9B1',
apiKey: '5b6260148e92f7c5e38338fcf7eaa3e0',
indexName: 'akka_http_docs',
inputSelector: '#overlay-search',
algoliaOptions: {
hitsPerPage: 5
}
});

// set up "/" as global shortcut for focusing on search
jQuery(document).keypress(function (event) {
if (event.keyCode == 47) {
jQuery("#search").focus();
return false; // swallow key event, otherwise the / char would be input into the search box
}
});
</script>

<script type="text/javascript" src="../assets/js/warnOldDocs.js"></script>
<script type="text/javascript" src="../assets/js/scrollToFragment.js"></script>


</body>
</html>
