<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Server HTTPS Support &bull; Akka HTTP</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Akka Http: Modern, fast, asynchronous, streaming-first HTTP server and client."/>
<link rel="canonical" href="https://doc.akka.io/docs/akka-http/current/server-side/server-https-support.html"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="../css/icons.css"/>
<link rel="stylesheet" type="text/css" href="../css/page-8.css"/>
<link rel="stylesheet" type="text/css" href="../css/banner-2.css"/>
<link rel="shortcut icon" href="../images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png"/>
<link rel="manifest" href="../images/manifest.json"/>
<meta name="msapplication-TileImage" content="../images/mstile-150x150.png"/>
<meta name="msapplication-TileColor" content="#15a9ce"/>
<meta name="theme-color" content="#15a9ce"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="28b912e7-09e9-43d5-91e4-3d1897044004" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics NOTE this will stop processing data July 1st 2023. At which point this embed code can be removed-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-21117439-1']);
_gaq.push(['_setDomainName', 'akka.io']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>

<!-- Google Tag Manager: Updated May 17th 2023 - Cookie Compliance checks have been moved into Google Tag Manager -->
<script type="text/javascript">
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KBJGH35');
</script>

</head>

<body id="underlay" data-toggler="nav-open">
<div id="lightbend-banner" class="lightbend-banner akka full-width" data-category="OSS Lightbend Banner Impression" data-label="Akka Banner Impression">
<div class="oss-wrapper">
<div class="oss-brand">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Lightbend Logo - Akka Banner" href="https://www.lightbend.com">
<img class="lightbend-logo" src="../images/banner-logos/lightbend-reverse.svg" alt="Lightbend" title="Lightbend">
</a>
</div>
<div class="oss-ad no-drop-down">
<nav id="lightbendRotator" class="lightbend-rotator">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Promo Rotator - Lightbend Changed its Software Licensing Model for Akka Technology. [License FAQ] - Akka Banner" href="https://www.lightbend.com/akka/license-faq">
<strong>Lightbend</strong> Changed its Software Licensing Model for Akka Technology. <span class="akka-btn">License FAQ</span>
</a>
</nav>
</div>
</div>
</div>

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="https://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka HTTP</a></h1>
</div>
<div class="nav-header-version">
Version 10.6.0-M1
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div id="overlay-search-container" class="nav-header-search">
<input id="overlay-search" type="search" class="search" placeholder="Search" />
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="../security.html" class="page">Security Announcements</a></li>
  <li><a href="../introduction.html" class="page">1. Introduction</a></li>
  <li><a href="../usage.html" class="page">2. Usage</a></li>
  <li><a href="../common/index.html" class="page">3. Data Types &amp; Abstractions</a></li>
  <li><a href="../server-side/index.html" class="page">4. Server API</a>
  <ul>
    <li><a href="../routing-dsl/index.html" class="page">Routing DSL</a></li>
    <li><a href="../server-side/low-level-api.html" class="page">Core Server API</a></li>
    <li><a href="../server-side/websocket-support.html" class="page">Server WebSocket Support</a></li>
    <li><a href="../server-side/server-https-support.html#server-https-support" class="active page">Server HTTPS Support</a>
    <ul>
      <li><a href="../server-side/server-https-support.html#obtaining-ssl-tls-certificates" class="header">Obtaining SSL/TLS Certificates</a></li>
      <li><a href="../server-side/server-https-support.html#using-https" class="header">Using HTTPS</a></li>
      <li><a href="../server-side/server-https-support.html#running-both-http-and-https" class="header">Running both HTTP and HTTPS</a></li>
      <li><a href="../server-side/server-https-support.html#mutual-authentication" class="header">Mutual authentication</a></li>
      <li><a href="../server-side/server-https-support.html#further-reading" class="header">Further reading</a></li>
    </ul></li>
    <li><a href="../server-side/graceful-termination.html" class="page">Graceful termination</a></li>
    <li><a href="../server-side/http2.html" class="page">Server-Side HTTP/2</a></li>
  </ul></li>
  <li><a href="../client-side/index.html" class="page">5. Client API</a></li>
  <li><a href="../extensions.html" class="page">6. Extensions</a></li>
  <li><a href="../technologies.html" class="page">7. Supported Technologies</a></li>
  <li><a href="../tipsandtricks.html" class="page">8. Tips And Tricks</a></li>
  <li><a href="../contributing.html" class="page">9. Contributing</a></li>
  <li><a href="../reference.html" class="page">10. Reference</a></li>
  <li><a href="../release-notes/index.html" class="page">11. Release Notes</a></li>
</ul>
</nav>
</div>
</header>
<div class="site-content-wrapper">
<aside class="sticky-sidebar show-for-large">
<header class="nav-header sticky-sidebar-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka HTTP</a></h1>
</div>
<div class="nav-header-version">
Version 10.6.0-M1
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div class="nav-header-search">
<input id="search" type="search" class="search" placeholder="Search" />
</div>
</header>
<nav class="site-nav sticky-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="../security.html" class="page">Security Announcements</a></li>
  <li><a href="../introduction.html" class="page">1. Introduction</a></li>
  <li><a href="../usage.html" class="page">2. Usage</a></li>
  <li><a href="../common/index.html" class="page">3. Data Types &amp; Abstractions</a></li>
  <li><a href="../server-side/index.html" class="page">4. Server API</a>
  <ul>
    <li><a href="../routing-dsl/index.html" class="page">Routing DSL</a></li>
    <li><a href="../server-side/low-level-api.html" class="page">Core Server API</a></li>
    <li><a href="../server-side/websocket-support.html" class="page">Server WebSocket Support</a></li>
    <li><a href="../server-side/server-https-support.html#server-https-support" class="active page">Server HTTPS Support</a>
    <ul>
      <li><a href="../server-side/server-https-support.html#obtaining-ssl-tls-certificates" class="header">Obtaining SSL/TLS Certificates</a></li>
      <li><a href="../server-side/server-https-support.html#using-https" class="header">Using HTTPS</a></li>
      <li><a href="../server-side/server-https-support.html#running-both-http-and-https" class="header">Running both HTTP and HTTPS</a></li>
      <li><a href="../server-side/server-https-support.html#mutual-authentication" class="header">Mutual authentication</a></li>
      <li><a href="../server-side/server-https-support.html#further-reading" class="header">Further reading</a></li>
    </ul></li>
    <li><a href="../server-side/graceful-termination.html" class="page">Graceful termination</a></li>
    <li><a href="../server-side/http2.html" class="page">Server-Side HTTP/2</a></li>
  </ul></li>
  <li><a href="../client-side/index.html" class="page">5. Client API</a></li>
  <li><a href="../extensions.html" class="page">6. Extensions</a></li>
  <li><a href="../technologies.html" class="page">7. Supported Technologies</a></li>
  <li><a href="../tipsandtricks.html" class="page">8. Tips And Tricks</a></li>
  <li><a href="../contributing.html" class="page">9. Contributing</a></li>
  <li><a href="../reference.html" class="page">10. Reference</a></li>
  <li><a href="../release-notes/index.html" class="page">11. Release Notes</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer sticky-sidebar-footer">
<a href="https://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

</footer>
</aside>
<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">
<article class="page-content row">
<div class="small-12 column" id="docs">
<h1><a href="#server-https-support" name="server-https-support" class="anchor"><span class="anchor-link"></span></a>Server HTTPS Support</h1>
<p>Akka HTTP supports TLS encryption on the server-side as well as on the <a href="../client-side/client-https-support.html">client-side</a>.</p>
<p>The central vehicle for configuring encryption is the <span class="group-java"><a href="https://doc.akka.io/japi/akka-http/10.6.0-M1/akka/http/javadsl/HttpsConnectionContext.html" title="akka.http.javadsl.HttpsConnectionContext"><code>HttpsConnectionContext</code></a></span><span class="group-scala"><a href="https://doc.akka.io/api/akka-http/10.6.0-M1/akka/http/scaladsl/HttpsConnectionContext.html" title="akka.http.scaladsl.HttpsConnectionContext"><code>HttpsConnectionContext</code></a></span>, which can be created using the static method <code>ConnectionContext.httpsServer</code> which is defined like this:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.6.0-M1/akka-http-core/src/main/scala/akka/http/scaladsl/ConnectionContext.scala#L26-L29" target="_blank" title="Go to snippet source">source</a><code class="language-scala">/**
 *  Creates an HttpsConnectionContext for server-side use from the given SSLContext.
 */
def httpsServer(sslContext: SSLContext): HttpsConnectionContext = // ...</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.6.0-M1/akka-http-core/src/main/scala/akka/http/javadsl/ConnectionContext.scala#L18-L21" target="_blank" title="Go to snippet source">source</a><code class="language-scala">/**
 * Creates an HttpsConnectionContext for server-side use from the given SSLContext.
 */
def httpsServer(sslContext: SSLContext): HttpsConnectionContext = // ...</code></pre></dd>
</dl>
<p>On the server-side, the <span class="group-java"><a href="https://doc.akka.io/japi/akka-http/10.6.0-M1/akka/http/javadsl/ServerBuilder.html" title="akka.http.javadsl.ServerBuilder"><code>ServerBuilder</code></a></span><span class="group-scala"><a href="https://doc.akka.io/api/akka-http/10.6.0-M1/akka/http/scaladsl/ServerBuilder.html" title="akka.http.scaladsl.ServerBuilder"><code>ServerBuilder</code></a></span> defines a method <code>enableHttps</code> with an <code>httpsContext</code> parameter, which can receive the HTTPS configuration in the form of an <code>HttpsConnectionContext</code> instance.</p>
<p>For detailed documentation for client-side HTTPS support refer to <a href="../client-side/client-https-support.html">Client-Side HTTPS Support</a>.</p>
<h2><a href="#obtaining-ssl-tls-certificates" name="obtaining-ssl-tls-certificates" class="anchor"><span class="anchor-link"></span></a>Obtaining SSL/TLS Certificates</h2>
<p>In order to run an HTTPS server a certificate has to be provided, which usually is either obtained from a signing authority or created by yourself for local or staging environment purposes.</p>
<p>Signing authorities often provide instructions on how to create a Java keystore (typically with reference to Tomcat configuration). If you want to generate your own certificates, the official Oracle documentation on how to generate a keystore using the JDK keytool utility can be found <a href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html">here</a>.</p>
<p>SSL-Config provides a more targeted guide on generating certificates, so we recommend you start with the guide titled <a href="https://lightbend.github.io/ssl-config/CertificateGeneration.html">Generating X.509 Certificates</a>.</p>
<a id="using-https"></a>
<h2><a href="#using-https" name="using-https" class="anchor"><span class="anchor-link"></span></a>Using HTTPS</h2>
<p>Once you have obtained the server certificate, using it is as simple as preparing an <span class="group-java"><a href="https://doc.akka.io/japi/akka-http/10.6.0-M1/akka/http/javadsl/HttpsConnectionContext.html" title="akka.http.javadsl.HttpsConnectionContext"><code>HttpsConnectionContext</code></a></span><span class="group-scala"><a href="https://doc.akka.io/api/akka-http/10.6.0-M1/akka/http/scaladsl/HttpsConnectionContext.html" title="akka.http.scaladsl.HttpsConnectionContext"><code>HttpsConnectionContext</code></a></span> and passing it to <code>enableHttps</code> when binding the server.</p>
<p>The below example shows how setting up HTTPS works. First, you create and configure an instance of <span class="group-java"><a href="https://doc.akka.io/japi/akka-http/10.6.0-M1/akka/http/javadsl/HttpsConnectionContext.html" title="akka.http.javadsl.HttpsConnectionContext"><code>HttpsConnectionContext</code></a></span><span class="group-scala"><a href="https://doc.akka.io/api/akka-http/10.6.0-M1/akka/http/scaladsl/HttpsConnectionContext.html" title="akka.http.scaladsl.HttpsConnectionContext"><code>HttpsConnectionContext</code></a></span> :</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.6.0-M1/docs/src/test/scala/docs/http/scaladsl/server/HttpsServerExampleSpec.scala#L8-L14" target="_blank" title="Go to snippet source">source</a><code class="language-scala">import java.io.InputStream
import java.security.{ KeyStore, SecureRandom }

import javax.net.ssl.{ KeyManagerFactory, SSLContext, TrustManagerFactory }
import akka.actor.ActorSystem
import akka.http.scaladsl.server.{ Directives, Route }
import akka.http.scaladsl.{ ConnectionContext, Http, HttpsConnectionContext }
implicit val system = ActorSystem()
implicit val dispatcher = system.dispatcher

// Manual HTTPS configuration

val password: Array[Char] = &quot;change me&quot;.toCharArray // do not store passwords in code, read them from somewhere safe!

val ks: KeyStore = KeyStore.getInstance(&quot;PKCS12&quot;)
val keystore: InputStream = getClass.getClassLoader.getResourceAsStream(&quot;server.p12&quot;)

require(keystore != null, &quot;Keystore required!&quot;)
ks.load(keystore, password)

val keyManagerFactory: KeyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;)
keyManagerFactory.init(ks, password)

val tmf: TrustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;)
tmf.init(ks)

val sslContext: SSLContext = SSLContext.getInstance(&quot;TLS&quot;)
sslContext.init(keyManagerFactory.getKeyManagers, tmf.getTrustManagers, new SecureRandom)
val https: HttpsConnectionContext = ConnectionContext.httpsServer(sslContext)</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.6.0-M1/akka-http-tests/src/main/java/akka/http/javadsl/server/examples/simple/SimpleServerApp.java#L34-L153" target="_blank" title="Go to snippet source">source</a><code class="language-java"><br/>// ** CONFIGURING ADDITIONAL SETTINGS ** //

public static HttpsConnectionContext createHttpsContext(ActorSystem system) {
    try {
      // initialise the keystore
      // !!! never put passwords into code !!!
      final char[] password = new char[]{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;};

      final KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;);
      final InputStream keystore = SimpleServerApp.class.getClassLoader().getResourceAsStream(&quot;httpsDemoKeys/keys/server.p12&quot;);
      if (keystore == null) {
        throw new RuntimeException(&quot;Keystore required!&quot;);
      }
      ks.load(keystore, password);

      final KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);
      keyManagerFactory.init(ks, password);

      final TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;SunX509&quot;);
      tmf.init(ks);

      final SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);
      sslContext.init(keyManagerFactory.getKeyManagers(), tmf.getTrustManagers(), new SecureRandom());

      return ConnectionContext.httpsServer(sslContext);

    } catch (Exception e) {
        throw new RuntimeException(e);
    }
}</code></pre></dd>
</dl>
<p>After that you can pass it to <code>enableHttps</code>, like displayed below:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.6.0-M1/docs/src/test/scala/docs/http/scaladsl/server/HttpsServerExampleSpec.scala#L58-L59" target="_blank" title="Go to snippet source">source</a><code class="language-scala">val routes: Route = get { complete(&quot;Hello world!&quot;) }
Http().newServerAt(&quot;127.0.0.1&quot;, 8080).enableHttps(https).bind(routes)</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.6.0-M1/akka-http-tests/src/main/java/akka/http/javadsl/server/examples/simple/SimpleServerApp.java#L108-L110" target="_blank" title="Go to snippet source">source</a><code class="language-java">Http.get(system).newServerAt(&quot;localhost&quot;, 8080)
    .enableHttps(createHttpsContext(system))
    .bind(app.createRoute());</code></pre></dd>
</dl>
<h2><a href="#running-both-http-and-https" name="running-both-http-and-https" class="anchor"><span class="anchor-link"></span></a>Running both HTTP and HTTPS</h2>
<p>If you want to run HTTP and HTTPS servers in a single application, you first create an instance of <code>HttpsConnectionContext</code> as explained above and then create two server bindings for different ports, one with https enabled and one without:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.6.0-M1/docs/src/test/scala/docs/http/scaladsl/server/HttpsServerExampleSpec.scala#L51-L54" target="_blank" title="Go to snippet source">source</a><code class="language-scala">// you can run both HTTP and HTTPS in the same application as follows:
val commonRoutes: Route = get { complete(&quot;Hello world!&quot;) }
Http().newServerAt(&quot;127.0.0.1&quot;, 443).enableHttps(https).bind(commonRoutes)
Http().newServerAt(&quot;127.0.0.1&quot;, 80).bind(commonRoutes)</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.6.0-M1/akka-http-tests/src/main/java/akka/http/javadsl/server/examples/simple/SimpleServerHttpHttpsApp.java#L31-L39" target="_blank" title="Go to snippet source">source</a><code class="language-java">final Http http = Http.get(system);
//Run HTTP server firstly
http.newServerAt(&quot;localhost&quot;, 80).bind(route);

//get configured HTTPS context
HttpsConnectionContext httpsContext = SimpleServerApp.createHttpsContext(system);

//Then run HTTPS server
http.newServerAt(&quot;localhost&quot;, 443).enableHttps(httpsContext).bind(route);</code></pre></dd>
</dl>
<h2><a href="#mutual-authentication" name="mutual-authentication" class="anchor"><span class="anchor-link"></span></a>Mutual authentication</h2>
<p>To require clients to authenticate themselves when connecting, you must set this on the <code>SSLEngine</code>:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.6.0-M1/docs/src/test/scala/docs/http/scaladsl/server/HttpsServerExampleSpec.scala#L67-L76" target="_blank" title="Go to snippet source">source</a><code class="language-scala">val sslContext: SSLContext = ???
ConnectionContext.httpsServer(() =&gt; {
  val engine = sslContext.createSSLEngine()
  engine.setUseClientMode(false)

  engine.setNeedClientAuth(true)
  // or: engine.setWantClientAuth(true)

  engine
})</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.6.0-M1/docs/src/test/java/docs/http/javadsl/server/HttpsServerExampleTest.java#L27-L35" target="_blank" title="Go to snippet source">source</a><code class="language-java">ConnectionContext.httpsServer(() -&gt; {
        SSLEngine engine = sslContext.createSSLEngine();
        engine.setUseClientMode(false);

        engine.setNeedClientAuth(true);
        // or: engine.setWantClientAuth(true);

        return engine;
});</code></pre></dd>
</dl>
<p>For further (custom) certificate checks, you can access the <code>javax.net.ssl.SSLSession</code> via the <code>sslSession</code> attribute.</p>
<p>At this point dynamic renegotiation of the certificates to be used is not implemented. For details see <a href="https://github.com/akka/akka/issues/18351">issue #18351</a> and some preliminary work in <a href="https://github.com/akka/akka/pull/19787">PR #19787</a>.</p>
<h2><a href="#further-reading" name="further-reading" class="anchor"><span class="anchor-link"></span></a>Further reading</h2>
<p>The topic of properly configuring HTTPS for your web server is an always changing one, thus we recommend staying up to date with various security breach news and of course keep your JVM at the latest version possible, as the default settings are often updated by Oracle in reaction to various security updates and known issues.</p>
<p>We also recommend having a look at the <a href="https://www.playframework.com/documentation/2.5.x/ConfiguringHttps#ssl-certificates">Play documentation about securing your app</a>, as well as the techniques described in the Play documentation about setting up a <a href="https://www.playframework.com/documentation/2.5.x/HTTPServer">reverse proxy to terminate TLS in front of your application</a> instead of terminating TLS inside the JVM, and therefore Akka HTTP, itself.</p>
<p>Other excellent articles on the subject:</p>
<ul>
  <li><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#CreateKeystore">Oracle Java SE 8: Creating a Keystore using JSSE</a></li>
  <li><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/certpath/CertPathProgGuide.html">Java PKI Programmer&rsquo;s Guide</a></li>
  <li><a href="https://tersesystems.com/2014/03/20/fixing-x509-certificates/">Fixing X.509 Certificates</a></li>
</ul>
</div>
</article>
<div class="row">
<div class="small-12 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="../server-side/websocket-support.html"><i class="icon-prev"></i> <span class="link-prev">Server WebSocket Support</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="../server-side/graceful-termination.html">Graceful termination <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>
<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/akka/akka-http/tree/v10.6.0-M1/docs/src/main/paradox/server-side/server-https-support.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>

<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="../images/akka-icon.svg" />
<section class="copyright">
<div>Akka HTTP is available under the <a href="https://www.lightbend.com/akka/license" target="_blank">Business Source License 1.1</a>.</div>
<p class="legal">
&copy; 2011-2023 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> |
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> |
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> |
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> |
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> |
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>

</footer>
</section>
</main>
</div>

<script type="text/javascript" src="../js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/snippets.js"></script>
<script type="text/javascript" src="../js/magellan.js"></script>
<script type="text/javascript" src="../js/metadata-toggle.js"></script>
<script type="text/javascript" src="../js/lbHeader.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(){window.prettyPrint && prettyPrint()});
//]]></script>
<!-- Algolia docs search -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<style>.algolia-autocomplete { display: block !important }</style>
<script type="text/javascript">
docsearch({
appId: 'XUXZ6LW9B1',
apiKey: '5b6260148e92f7c5e38338fcf7eaa3e0',
indexName: 'akka_http_docs',
inputSelector: '#search',
algoliaOptions: {
hitsPerPage: 5
}
});

docsearch({
appId: 'XUXZ6LW9B1',
apiKey: '5b6260148e92f7c5e38338fcf7eaa3e0',
indexName: 'akka_http_docs',
inputSelector: '#overlay-search',
algoliaOptions: {
hitsPerPage: 5
}
});

// set up "/" as global shortcut for focusing on search
jQuery(document).keypress(function (event) {
if (event.keyCode == 47) {
jQuery("#search").focus();
return false; // swallow key event, otherwise the / char would be input into the search box
}
});
</script>

<script type="text/javascript" src="../assets/js/warnOldDocs.js"></script>
<script type="text/javascript" src="../assets/js/scrollToFragment.js"></script>


</body>
</html>
