<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Akka HTTP Timeouts · Akka HTTP</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='akka-http-docs'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../js/page.js"></script>
<link rel="stylesheet" type="text/css" href="../../../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../../../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../../../css/page.css"/>

<!--
<link rel="shortcut icon" href="../../../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../../../index.html" >
<span class="home-icon">⌂</span>Akka HTTP
</a>
<div class="version-number">
10.0.1
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../../../java.html">Java Documentation</a>
  <ul>
    <li><a href="../../../java/http/index.html">Akka HTTP</a>
    <ul>
      <li><a href="../../../java/http/introduction.html">Introduction</a></li>
      <li><a href="../../../java/http/configuration.html">Configuration</a></li>
      <li><a href="../../../java/http/common/index.html">Common Abstractions (Client- and Server-Side)</a></li>
      <li><a href="../../../java/http/implications-of-streaming-http-entity.html">Implications of the streaming nature of Request/Response Entities</a></li>
      <li><a href="../../../java/http/server-side/low-level-server-side-api.html">Low-Level Server-Side API</a></li>
      <li><a href="../../../java/http/routing-dsl/index.html">High-level Server-Side API</a></li>
      <li><a href="../../../java/http/server-side/websocket-support.html">Server-Side WebSocket Support</a></li>
      <li><a href="../../../java/http/client-side/index.html">Consuming HTTP-based Services (Client-Side)</a></li>
      <li><a href="../../../java/http/server-side-https-support.html">Server-Side HTTPS Support</a></li>
      <li><a href="../../../java/http/migration-guide/index.html">Migration Guides (Java)</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../scala.html">Scala Documentation</a>
  <ul>
    <li><a href="../../../scala/http/index.html">Akka HTTP</a>
    <ul>
      <li><a href="../../../scala/http/introduction.html">Introduction</a></li>
      <li><a href="../../../scala/http/configuration.html">Configuration</a></li>
      <li><a href="../../../scala/http/common/index.html">Common Abstractions (Client- and Server-Side)</a></li>
      <li><a href="../../../scala/http/implications-of-streaming-http-entity.html">Implications of the streaming nature of Request/Response Entities</a></li>
      <li><a href="../../../scala/http/low-level-server-side-api.html">Low-Level Server-Side API</a></li>
      <li><a href="../../../scala/http/routing-dsl/index.html">High-level Server-Side API</a></li>
      <li><a href="../../../scala/http/websocket-support.html">Server-Side WebSocket Support</a></li>
      <li><a href="../../../scala/http/client-side/index.html">Consuming HTTP-based Services (Client-Side)</a></li>
      <li><a href="../../../scala/http/server-side-https-support.html">Server-Side HTTPS Support</a></li>
      <li><a href="../../../scala/http/handling-blocking-operations-in-akka-http-routes.html">Handling blocking operations in Akka HTTP</a></li>
      <li><a href="../../../scala/http/migration-guide/index.html">Migration Guides</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../security.html">Security announcements</a></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="../../../index.html">Akka HTTP</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../../../index.html" >
<span class="home-icon">⌂</span>Akka HTTP
</a>
<div class="version-number">
10.0.1
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../../../java.html">Java Documentation</a>
  <ul>
    <li><a href="../../../java/http/index.html">Akka HTTP</a>
    <ul>
      <li><a href="../../../java/http/introduction.html">Introduction</a></li>
      <li><a href="../../../java/http/configuration.html">Configuration</a></li>
      <li><a href="../../../java/http/common/index.html">Common Abstractions (Client- and Server-Side)</a></li>
      <li><a href="../../../java/http/implications-of-streaming-http-entity.html">Implications of the streaming nature of Request/Response Entities</a></li>
      <li><a href="../../../java/http/server-side/low-level-server-side-api.html">Low-Level Server-Side API</a></li>
      <li><a href="../../../java/http/routing-dsl/index.html">High-level Server-Side API</a></li>
      <li><a href="../../../java/http/server-side/websocket-support.html">Server-Side WebSocket Support</a></li>
      <li><a href="../../../java/http/client-side/index.html">Consuming HTTP-based Services (Client-Side)</a></li>
      <li><a href="../../../java/http/server-side-https-support.html">Server-Side HTTPS Support</a></li>
      <li><a href="../../../java/http/migration-guide/index.html">Migration Guides (Java)</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../scala.html">Scala Documentation</a>
  <ul>
    <li><a href="../../../scala/http/index.html">Akka HTTP</a>
    <ul>
      <li><a href="../../../scala/http/introduction.html">Introduction</a></li>
      <li><a href="../../../scala/http/configuration.html">Configuration</a></li>
      <li><a href="../../../scala/http/common/index.html">Common Abstractions (Client- and Server-Side)</a></li>
      <li><a href="../../../scala/http/implications-of-streaming-http-entity.html">Implications of the streaming nature of Request/Response Entities</a></li>
      <li><a href="../../../scala/http/low-level-server-side-api.html">Low-Level Server-Side API</a></li>
      <li><a href="../../../scala/http/routing-dsl/index.html">High-level Server-Side API</a></li>
      <li><a href="../../../scala/http/websocket-support.html">Server-Side WebSocket Support</a></li>
      <li><a href="../../../scala/http/client-side/index.html">Consuming HTTP-based Services (Client-Side)</a></li>
      <li><a href="../../../scala/http/server-side-https-support.html">Server-Side HTTPS Support</a></li>
      <li><a href="../../../scala/http/handling-blocking-operations-in-akka-http-routes.html">Handling blocking operations in Akka HTTP</a></li>
      <li><a href="../../../scala/http/migration-guide/index.html">Migration Guides</a></li>
    </ul></li>
  </ul></li>
  <li><a href="../../../security.html">Security announcements</a></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="../../../index.html">Akka HTTP</a></li>
  <li><a href="../../../scala.html">Scala Documentation</a></li>
  <li><a href="../../../scala/http/index.html">Akka HTTP</a></li>
  <li><a href="../../../scala/http/common/index.html">Common Abstractions (Client- and Server-Side)</a></li>
  <li>Akka HTTP Timeouts</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<a id="http-timeouts-scala"></a>
<h1><a href="#akka-http-timeouts" name="akka-http-timeouts" class="anchor"><span class="anchor-link"></span></a>Akka HTTP Timeouts</h1>
<p>Akka HTTP comes with a variety of built-in timeout mechanisms to protect your servers from malicious attacks or programming mistakes. Some of these are simply configuration options (which may be overridden in code) while others are left to the streaming APIs and are easily implementable as patterns in user-code directly.</p>
<h2><a href="#common-timeouts" name="common-timeouts" class="anchor"><span class="anchor-link"></span></a>Common timeouts</h2>
<a id="idle-timeouts-scala"></a>
<h3><a href="#idle-timeouts" name="idle-timeouts" class="anchor"><span class="anchor-link"></span></a>Idle timeouts</h3>
<p>The <code>idle-timeout</code> is a global setting which sets the maximum inactivity time of a given connection. In other words, if a connection is open but no request/response is being written to it for over <code>idle-timeout</code> time, the connection will be automatically closed.</p>
<p>The setting works the same way for all connections, be it server-side or client-side, and it&rsquo;s configurable independently for each of those using the following keys:</p>
<pre class="prettyprint"><code>akka.http.server.idle-timeout
akka.http.client.idle-timeout
akka.http.host-connection-pool.idle-timeout
akka.http.host-connection-pool.client.idle-timeout
</code></pre><div class="callout note "><div class="callout-title">Note</div>
<p>For the connection pooled client side the idle period is counted only when the pool has no pending requests waiting.</p></div>
<h2><a href="#server-timeouts" name="server-timeouts" class="anchor"><span class="anchor-link"></span></a>Server timeouts</h2>
<a id="request-timeout-scala"></a>
<h3><a href="#request-timeout" name="request-timeout" class="anchor"><span class="anchor-link"></span></a>Request timeout</h3>
<p>Request timeouts are a mechanism that limits the maximum time it may take to produce an <code>HttpResponse</code> from a route. If that deadline is not met the server will automatically inject a Service Unavailable HTTP response and close the connection to prevent it from leaking and staying around indefinitely (for example if by programming error a Future would never complete, never sending the real response otherwise).</p>
<p>The default <code>HttpResponse</code> that is written when a request timeout is exceeded looks like this:</p>
<pre class="prettyprint"><code class="language-scala">HttpResponse(StatusCodes.ServiceUnavailable, entity = &quot;The server was not able &quot; +
  &quot;to produce a timely response to your request.\r\nPlease try again in a short while!&quot;)</code></pre>
<p>A default request timeout is applied globally to all routes and can be configured using the <code>akka.http.server.request-timeout</code> setting (which defaults to 20 seconds).</p><div class="callout note "><div class="callout-title">Note</div>
<p>Please note that if multiple requests (<code>R1,R2,R3,...</code>) were sent by a client (see &ldquo;HTTP pipelining&rdquo;) using the same connection and the <code>n-th</code> request triggers a request timeout the server will reply with an Http Response and close the connection, leaving the <code>(n+1)-th</code> (and subsequent requests on the same connection) unhandled.</p></div>
<p>The request timeout can be configured at run-time for a given route using the any of the <a href="../routing-dsl/directives/timeout-directives/index.html#timeoutdirectives">TimeoutDirectives</a>.</p>
<h3><a href="#bind-timeout" name="bind-timeout" class="anchor"><span class="anchor-link"></span></a>Bind timeout</h3>
<p>The bind timeout is the time period within which the TCP binding process must be completed (using any of the <code>Http().bind*</code> methods). It can be configured using the <code>akka.http.server.bind-timeout</code> setting.</p>
<h2><a href="#client-timeouts" name="client-timeouts" class="anchor"><span class="anchor-link"></span></a>Client timeouts</h2>
<h3><a href="#connecting-timeout" name="connecting-timeout" class="anchor"><span class="anchor-link"></span></a>Connecting timeout</h3>
<p>The connecting timeout is the time period within which the TCP connecting process must be completed. Tweaking it should rarely be required, but it allows erroring out the connection in case a connection is unable to be established for a given amount of time.</p>
<p>it can be configured using the <code>akka.http.client.connecting-timeout</code> setting.</p>
<div class="nav-next">
<p><strong>Next:</strong> <a href="../../../scala/http/implications-of-streaming-http-entity.html">Implications of the streaming nature of Request/Response Entities</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../../../scala/http/common/timeouts.html#akka-http-timeouts">Akka HTTP Timeouts</a>
  <ul>
    <li><a href="../../../scala/http/common/timeouts.html#common-timeouts">Common timeouts</a>
    <ul>
      <li><a href="../../../scala/http/common/timeouts.html#idle-timeouts">Idle timeouts</a></li>
    </ul></li>
    <li><a href="../../../scala/http/common/timeouts.html#server-timeouts">Server timeouts</a>
    <ul>
      <li><a href="../../../scala/http/common/timeouts.html#request-timeout">Request timeout</a></li>
      <li><a href="../../../scala/http/common/timeouts.html#bind-timeout">Bind timeout</a></li>
    </ul></li>
    <li><a href="../../../scala/http/common/timeouts.html#client-timeouts">Client timeouts</a>
    <ul>
      <li><a href="../../../scala/http/common/timeouts.html#connecting-timeout">Connecting timeout</a></li>
    </ul></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2016</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../../../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../../../js/magellan.js"></script>

<style type="text/css">@import "../../../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>

</html>
