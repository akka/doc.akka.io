<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>10.2.x Release Notes &bull; Akka HTTP</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Akka Http: Modern, fast, asynchronous, streaming-first HTTP server and client."/>
<link rel="canonical" href="https://doc.akka.io/docs/akka-http/current/release-notes/10.2.x.html"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="../css/icons.css"/>
<link rel="stylesheet" type="text/css" href="../css/page-8.css"/>
<link rel="stylesheet" type="text/css" href="../css/banner-2.css"/>
<link rel="shortcut icon" href="../images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png"/>
<link rel="manifest" href="../images/manifest.json"/>
<meta name="msapplication-TileImage" content="../images/mstile-150x150.png"/>
<meta name="msapplication-TileColor" content="#15a9ce"/>
<meta name="theme-color" content="#15a9ce"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="28b912e7-09e9-43d5-91e4-3d1897044004" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-21117439-1']);
_gaq.push(['_setDomainName', 'akka.io']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-2">
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KBJGH35');
</script>
<!--Marketo-->
<script type="text/plain" class="optanon-category-3">
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702', { 'asyncOnly': true, 'disableClickDelay': true });
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '//munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
</head>

<body id="underlay" data-toggler="nav-open">
<div id="lightbend-banner" class="lightbend-banner akka full-width" data-category="OSS Lightbend Banner Impression" data-label="Akka Banner Impression">
<div class="oss-wrapper">
<div class="oss-brand">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Lightbend Logo - Akka Banner" href="https://www.lightbend.com">
<img class="lightbend-logo" src="../images/banner-logos/lightbend-reverse.svg" alt="Lightbend" title="Lightbend">
</a>
</div>
<div class="oss-ad no-drop-down">
<nav id="lightbendRotator" class="lightbend-rotator">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Promo Rotator - Akka Serverless - Keep the data. Lose the database. Try now for free. [Learn More] - Akka Banner" href="https://www.lightbend.com/akka-serverless">
<strong>Akka Serverless</strong> - Keep the data. Lose the database. Try now for free. <span class="akka-btn">Learn More</span>
</a>
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Promo Rotator - Meet Akka Insights! A stand alone telemetry & observability offering. [Learn More] - Akka Banner" href="https://www.lightbend.com/akka-insights">
<strong>Meet Akka Insights!</strong>&nbsp;&nbsp;A stand alone telemetry & observability offering. <span class="akka-btn">Learn More</span>
</a>
</nav>
</div>
</div>
</div>

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="https://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka HTTP</a></h1>
</div>
<div class="nav-header-version">
Version 10.2.9
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div id="overlay-search-container" class="nav-header-search">
<input id="overlay-search" type="search" class="search" placeholder="Search" />
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="../security.html" class="page">! Security Announcements !</a></li>
  <li><a href="../release-notes/index.html" class="page">0. Release Notes</a>
  <ul>
    <li><a href="../release-notes/10.2.x.html#10-2-x-release-notes" class="active page">10.2.x Release Notes</a>
    <ul>
      <li><a href="../release-notes/10.2.x.html#10-2-9" class="header">10.2.9</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-8" class="header">10.2.8</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-7" class="header">10.2.7</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-6" class="header">10.2.6</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-5" class="header">10.2.5</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-4" class="header">10.2.4</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-3" class="header">10.2.3</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-2" class="header">10.2.2</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-1" class="header">10.2.1</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-0" class="header">10.2.0</a></li>
    </ul></li>
    <li><a href="../release-notes/10.1.x.html" class="page">10.1.x Release Notes</a></li>
    <li><a href="../release-notes/10.0.x.html" class="page">10.0.x Release Notes</a></li>
  </ul></li>
  <li><a href="../introduction.html" class="page">1. Introduction</a></li>
  <li><a href="../usage.html" class="page">2. Usage</a></li>
  <li><a href="../common/index.html" class="page">3. Data Types &amp; Abstractions</a></li>
  <li><a href="../server-side/index.html" class="page">4. Server API</a></li>
  <li><a href="../client-side/index.html" class="page">5. Client API</a></li>
  <li><a href="../extensions.html" class="page">6. Extensions</a></li>
  <li><a href="../technologies.html" class="page">7. Supported Technologies</a></li>
  <li><a href="../tipsandtricks.html" class="page">8. Tips And Tricks</a></li>
  <li><a href="../contributing.html" class="page">9. Contributing</a></li>
  <li><a href="../reference.html" class="page">10. Reference</a></li>
</ul>
</nav>
</div>
</header>
<div class="site-content-wrapper">
<aside class="sticky-sidebar show-for-large">
<header class="nav-header sticky-sidebar-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka HTTP</a></h1>
</div>
<div class="nav-header-version">
Version 10.2.9
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div class="nav-header-search">
<input id="search" type="search" class="search" placeholder="Search" />
</div>
</header>
<nav class="site-nav sticky-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="../security.html" class="page">! Security Announcements !</a></li>
  <li><a href="../release-notes/index.html" class="page">0. Release Notes</a>
  <ul>
    <li><a href="../release-notes/10.2.x.html#10-2-x-release-notes" class="active page">10.2.x Release Notes</a>
    <ul>
      <li><a href="../release-notes/10.2.x.html#10-2-9" class="header">10.2.9</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-8" class="header">10.2.8</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-7" class="header">10.2.7</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-6" class="header">10.2.6</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-5" class="header">10.2.5</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-4" class="header">10.2.4</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-3" class="header">10.2.3</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-2" class="header">10.2.2</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-1" class="header">10.2.1</a></li>
      <li><a href="../release-notes/10.2.x.html#10-2-0" class="header">10.2.0</a></li>
    </ul></li>
    <li><a href="../release-notes/10.1.x.html" class="page">10.1.x Release Notes</a></li>
    <li><a href="../release-notes/10.0.x.html" class="page">10.0.x Release Notes</a></li>
  </ul></li>
  <li><a href="../introduction.html" class="page">1. Introduction</a></li>
  <li><a href="../usage.html" class="page">2. Usage</a></li>
  <li><a href="../common/index.html" class="page">3. Data Types &amp; Abstractions</a></li>
  <li><a href="../server-side/index.html" class="page">4. Server API</a></li>
  <li><a href="../client-side/index.html" class="page">5. Client API</a></li>
  <li><a href="../extensions.html" class="page">6. Extensions</a></li>
  <li><a href="../technologies.html" class="page">7. Supported Technologies</a></li>
  <li><a href="../tipsandtricks.html" class="page">8. Tips And Tricks</a></li>
  <li><a href="../contributing.html" class="page">9. Contributing</a></li>
  <li><a href="../reference.html" class="page">10. Reference</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer sticky-sidebar-footer">
<a href="https://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

</footer>
</aside>
<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">
<article class="page-content row">
<div class="small-12 column" id="docs">
<h1><a href="#10-2-x-release-notes" name="10-2-x-release-notes" class="anchor"><span class="anchor-link"></span></a>10.2.x Release Notes</h1>
<h2><a href="#10-2-9" name="10-2-9" class="anchor"><span class="anchor-link"></span></a>10.2.9</h2>
<p>This release is a bugfix release fixing a few regressions introduced with 10.2.8:</p>
<ul>
  <li>Avoid memory leak when HTTP/2 is enabled (<a href="https://github.com/akka/akka-http/pull/4047">#4047</a>)</li>
  <li>Revert the default behavior for ServerSentEvent parsing back to the 10.2.7 default. Empty events are now silently skipped  again to keep compatibility with existing (akka-http) servers. If you want to interpret empty events, you can now turn  on <code>akka.http.sse.emit-empty-events</code> (<a href="https://github.com/akka/akka-http/pull/4043">#4043</a>)</li>
  <li>Restore compatibility with existing Lightbend Telemetry versions <a href="https://github.com/akka/akka-http/pull/4055">#4055</a></li>
</ul>
<h3><a href="#changes-since-10-2-8" name="changes-since-10-2-8" class="anchor"><span class="anchor-link"></span></a>Changes since 10.2.8</h3>
<h4><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h4>
<ul>
  <li>Hide empty SSE events behind flag <a href="https://github.com/akka/akka-http/pull/4043">#4043</a></li>
  <li>Unregister connection from MasterTermination when done <a href="https://github.com/akka/akka-http/pull/4047">#4047</a></li>
  <li>Revert part of &ldquo;core: cleanup some unused vals (#4033)&rdquo; <a href="https://github.com/akka/akka-http/pull/4055">#4055</a></li>
  <li>Silence noisy error when HTTP/2 connection is closed with idle-timeout <a href="https://github.com/akka/akka-http/pull/4044">#4044</a></li>
</ul>
<h2><a href="#10-2-8" name="10-2-8" class="anchor"><span class="anchor-link"></span></a>10.2.8</h2>
<p>This release is a maintenance release, mostly fixing a few smaller issues around HTTP/2 support.</p>
<p>Akka HTTP now also supports graceful termination for HTTP/2 servers. If coordinated shutdown is enabled for a server binding via <code>ServerBinding.addToCoordinatedShutdown</code>, the server will allow ongoing requests to be completed for a configurable period of time while immediately rejecting incoming requests before shutting down the application process. This helps to avoid downtime during rolling upgrades.</p>
<h4><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h4>
<ul>
  <li>Enable idle-timeout when http2 is enabled <a href="https://github.com/akka/akka-http/pull/3965">#3965</a></li>
  <li>Fix h2c via Upgrade <a href="https://github.com/akka/akka-http/pull/4000">#4000</a></li>
  <li>Fail pool slot if connection is canceled before it is failed <a href="https://github.com/akka/akka-http/pull/3981">#3981</a></li>
  <li>Ensure PoolMaster.shutdown(â€¦) does not hang <a href="https://github.com/akka/akka-http/pull/4004">#4004</a></li>
  <li>Implement graceful termination for HTTP/2 servers <a href="https://github.com/akka/akka-http/pull/4018">#4018</a></li>
  <li>Remove unused var from ServerTerminator <a href="https://github.com/akka/akka-http/pull/4011">#4011</a></li>
</ul>
<h4><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h4>
<ul>
  <li>Interpret SSE heartbeats as events <a href="https://github.com/akka/akka-http/pull/4020">#4020</a></li>
</ul>
<h4><a href="#docs" name="docs" class="anchor"><span class="anchor-link"></span></a>docs</h4>
<ul>
  <li>Simplify bullet points in 10.2.7 release notes <a href="https://github.com/akka/akka-http/pull/3926">#3926</a></li>
  <li>Backport release notes from 10.1 <a href="https://github.com/akka/akka-http/pull/3953">#3953</a></li>
  <li>Replace deprecated functions in Routing DSL docs <a href="https://github.com/akka/akka-http/pull/3966">#3966</a></li>
  <li>Fix the documentation for RejectionHandler <a href="https://github.com/akka/akka-http/pull/4013">#4013</a></li>
</ul>
<h4><a href="#build" name="build" class="anchor"><span class="anchor-link"></span></a>build</h4>
<ul>
  <li>Dependency updates</li>
  <li>Rename branch master -&gt; main <a href="https://github.com/akka/akka-http/pull/3911">#3911</a></li>
  <li>Hide test jar with complicated name from scala-steward <a href="https://github.com/akka/akka-http/pull/3980">#3980</a></li>
  <li>Use fuzzy <code>+~</code> to switch Scala versions <a href="https://github.com/akka/akka-http/pull/3970">#3970</a></li>
</ul>
<h2><a href="#10-2-7" name="10-2-7" class="anchor"><span class="anchor-link"></span></a>10.2.7</h2>
<p>This release is an important security fix release.</p>
<p>Most importantly, we fixed a problem with parsing headers containing <code>comment</code> elements (<a href="https://github.com/akka/akka-http/issues/3918">#3918</a>). The HTTP spec allows arbitrary nesting of those elements, e.g. in the <code>User-Agent</code> header. When such a header is parsed, an Akka HTTP application may fail fatally with a <code>StackOverflowError</code>. Akka HTTP 10.2.7 mitigates this issue by conservatively limiting the allowed depth of <code>comment</code> elements in headers. See <a href="../security/2021-CVE-2021-42697-stack-overflow-parsing-user-agent.html">the advisory for CVE-2021-42697</a> for more information about this security issue.</p>
<p>Another issue has been fixed in relation to header rendering (<a href="https://github.com/akka/akka-http/issues/3717">#3717</a>). Akka HTTP does not validate that header values (or keys) are well-formed when those are provided as Strings (e.g. in a <code>RawHeader</code>). In particular, HTTP headers are not allowed to contain the special characters <code>&#39;\r&#39;</code> or <code>&#39;\n&#39;</code> which are used to delineate headers in an HTTP message. Before 10.2.7, Akka HTTP would naively render those broken header values leading to broken HTTP messages. The generation of headers is usually in complete control of the application. However, an application may accidentally pass incoming unvalidated user data to response headers. In such a case, a remote user might be able to inject line terminators into the response headers leading to invalid or misleading HTTP response messages. Depending on the server setup, this can be a building block for severe attacks.</p>
<p>To mitigate this issue, Akka HTTP now discards outgoing headers containing line terminators and logs a warning. Users are encouraged to be on the watch when creating headers (or any kind of outgoing data) from unvalidated user input as this is a common vector for different kinds of attacks.</p>
<h3><a href="#changes-since-10-2-6" name="changes-since-10-2-6" class="anchor"><span class="anchor-link"></span></a>Changes since 10.2.6</h3>
<h4><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h4>
<ul>
  <li>Limit comment nesting in header parser<a href="https://github.com/akka/akka-http/pull/3924">#3924</a></li>
  <li>Discard outgoing headers containing line breaks <a href="https://github.com/akka/akka-http/pull/3922">#3922</a></li>
  <li>Avoid calling numConnectedSlots when possible <a href="https://github.com/akka/akka-http/pull/3904">#3904</a></li>
  <li>Simplify HeaderCompression <a href="https://github.com/akka/akka-http/pull/3871">#3871</a></li>
  <li>End HTTP/2 stream with empty DATA rather than empty HEADERS <a href="https://github.com/akka/akka-http/pull/3913">#3913</a></li>
</ul>
<h2><a href="#10-2-6" name="10-2-6" class="anchor"><span class="anchor-link"></span></a>10.2.6</h2>
<p>This release is a bug fix release that fixes a bug in HTTP/2 processing, <a href="https://github.com/akka/akka-http/issues/3890">#3890</a>.</p>
<h2><a href="#10-2-5" name="10-2-5" class="anchor"><span class="anchor-link"></span></a>10.2.5</h2>
<p>This release includes a set of performance improvements in the HTTP/2 infrastructure. Aside from internal improvements, some performance-related changes introduce new APIs or settings:</p>
<h4><a href="#http-2-trailers-on-messages-with-strict-entities" name="http-2-trailers-on-messages-with-strict-entities" class="anchor"><span class="anchor-link"></span></a>HTTP/2: Trailers on messages with Strict entities</h4>
<p>HTTP/2 server and client can now send <code>Strict</code> entities to completely avoid stream materialization overhead for common use cases that require no streaming. This required providing a new way to attach trailing headers to a message also for messages with <code>Strict</code> entities. For that purpose the new attribute <code>AttributeKeys.trailer</code> of type <span class="group-java"><a href="https://doc.akka.io/japi/akka-http/10.2.9/akka/http/javadsl/model/Trailer.html" title="akka.http.javadsl.model.Trailer"><code>Trailer</code></a></span><span class="group-scala"><a href="https://doc.akka.io/api/akka-http/10.2.9/akka/http/scaladsl/model/Trailer.html" title="akka.http.scaladsl.model.Trailer"><code>Trailer</code></a></span> can be attached to a message. This is a common scenario for gRPC which uses trailing headers to transmit the status code in a response.</p>
<p>Streaming entities using <code>Chunked</code> entities can still use the <code>LastChunk</code> to provide trailing headers.</p>
<p>See <a href="../server-side/http2.html#trailing-headers">Trailing Headers</a> for more information.</p>
<h4><a href="#http-2-collect-strict-entities" name="http-2-collect-strict-entities" class="anchor"><span class="anchor-link"></span></a>HTTP/2: Collect Strict entities</h4>
<p>HTTP/2 servers can request to produce <code>Strict</code> entities also for incoming requests by using the new <code>akka.http.server.http2.min-collect-strict-entity-size</code> setting. With that setting, the server can be instructed to hold back an incoming request to collect more data until either the request has been fully received (<code>Strict</code> entity is dispatched) or the given limit of collected data has been reached (<code>Chunked</code> entity is dispatched as before). This is another optimization to avoid stream materialization overhead where possible for small requests (also common with simple gRPC requests).</p>
<p>The setting is still disabled by default. See the accompanying comments in the <a href="../configuration.html#configuration">reference.conf</a> for more information.</p>
<h4><a href="#other-notable-improvements" name="other-notable-improvements" class="anchor"><span class="anchor-link"></span></a>Other notable improvements</h4>
<ul>
  <li>Client connection pool has a new <code>keep-alive-timeout</code> to avoid race conditions with server-side timeouts.  See <a href="../common/timeouts.html#keep-alive-timeout">Keep Alive Timeout</a>.</li>
</ul>
<h3><a href="#changes-since-10-2-4" name="changes-since-10-2-4" class="anchor"><span class="anchor-link"></span></a>Changes since 10.2.4</h3>
<h4><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h4>
<h5><a href="#features" name="features" class="anchor"><span class="anchor-link"></span></a>Features</h5>
<ul>
  <li>Add pool keep-alive-timeout <a href="https://github.com/akka/akka-http/pull/3816">#3816</a></li>
  <li>Add flag to log WebSocket frame traffic <a href="https://github.com/akka/akka-http/pull/3739">#3739</a></li>
  <li>Move <code>isStrict</code> up a level to ws.Message <a href="https://github.com/akka/akka-http/pull/3847">#3847</a></li>
  <li>Add setting to automatically collect HTTP/2 request entity data into strict entities <a href="https://github.com/akka/akka-http/pull/3829">#3829</a></li>
  <li>Allow trailing HTTP/2 headers on strict responses <a href="https://github.com/akka/akka-http/pull/3820">#3820</a></li>
</ul>
<h5><a href="#improvements-fixes" name="improvements-fixes" class="anchor"><span class="anchor-link"></span></a>Improvements / Fixes</h5>
<ul>
  <li>Include port in HTTP/2 binding warning <a href="https://github.com/akka/akka-http/pull/3793">#3793</a></li>
  <li>Don&rsquo;t send &lsquo;100 Continue&rsquo; if &lsquo;Content-Length&rsquo; header is 0, doesn&rsquo;t exist or data got sent early <a href="https://github.com/akka/akka-http/pull/3786">#3786</a></li>
  <li>Preserve original response headers during server termination <a href="https://github.com/akka/akka-http/pull/3819">#3819</a></li>
  <li>Remove the requirement of max-open-requests being a power of two <a href="https://github.com/akka/akka-http/pull/3827">#3827</a></li>
  <li>Add detail to onBadProtocol <a href="https://github.com/akka/akka-http/pull/2877">#2877</a></li>
  <li>Back off on HTTP/2 client persistent connection failure <a href="https://github.com/akka/akka-http/pull/3857">#3857</a></li>
  <li>Block demux stage completion until in-flight ops complete <a href="https://github.com/akka/akka-http/pull/3734">#3734</a></li>
  <li>Ensure unhandled error ultimately get translated into GOAWAY frames <a href="https://github.com/akka/akka-http/pull/3839">#3839</a></li>
  <li>Properly propagate completion through PersistentConnection <a href="https://github.com/akka/akka-http/pull/3855">#3855</a></li>
  <li>Remove Http2FrameRendering stage <a href="https://github.com/akka/akka-http/pull/3838">#3838</a></li>
  <li>Remove reflective access to alpn classes (JDK16 support) <a href="https://github.com/akka/akka-http/pull/3811">#3811</a></li>
</ul>
<h5><a href="#optimizations" name="optimizations" class="anchor"><span class="anchor-link"></span></a>Optimizations</h5>
<ul>
  <li>Cache ContentType rendering <a href="https://github.com/akka/akka-http/pull/3830">#3830</a></li>
  <li>Cache ModeledHeader.value <a href="https://github.com/akka/akka-http/pull/3846">#3846</a></li>
  <li>Cache lowercaseName in <code>ModeledCustomHeaderCompanion</code> <a href="https://github.com/akka/akka-http/pull/3851">#3851</a></li>
  <li>Only render date-header once per second <a href="https://github.com/akka/akka-http/pull/3832">#3832</a></li>
  <li>Don&rsquo;t include RequestTimeoutSupport if disabled <a href="https://github.com/akka/akka-http/pull/3862">#3862</a></li>
  <li>Fix UriParser constructor performance <a href="https://github.com/akka/akka-http/pull/3813">#3813</a></li>
  <li>Increase some default buffer sizes <a href="https://github.com/akka/akka-http/pull/3863">#3863</a></li>
  <li>A few simple microoptimizations that turned up in profiling <a href="https://github.com/akka/akka-http/pull/3872">#3872</a></li>
  <li>Append new trailing headers at the end <a href="https://github.com/akka/akka-http/pull/3821">#3821</a></li>
  <li>Avoid async boundary in ProtocolSwitch <a href="https://github.com/akka/akka-http/pull/3831">#3831</a></li>
  <li>Avoid calling LoggingAdapter.isDebugEnabled in multiplexer <a href="https://github.com/akka/akka-http/pull/3869">#3869</a></li>
  <li>Avoid creating GenericOutlet for every out element <a href="https://github.com/akka/akka-http/pull/3848">#3848</a></li>
  <li>Avoid extra allocations in frame renderer <a href="https://github.com/akka/akka-http/pull/3823">#3823</a></li>
  <li>Cache expensive <code>isDebugEnabled</code> call <a href="https://github.com/akka/akka-http/pull/3850">#3850</a></li>
  <li>Convert stream handling map to LongMap <a href="https://github.com/akka/akka-http/pull/3845">#3845</a></li>
  <li>Don&rsquo;t recordStateChange when debug logging is disabled <a href="https://github.com/akka/akka-http/pull/3842">#3842</a></li>
  <li>Fix window management while CollectingIncomingData <a href="https://github.com/akka/akka-http/pull/3837">#3837</a></li>
  <li>Provide missing handling logic in CollectingIncomingData state + tests <a href="https://github.com/akka/akka-http/pull/3837">#3837</a></li>
  <li>Import shaded twitter hpack library (APL2) <a href="https://github.com/akka/akka-http/pull/3849">#3849</a></li>
  <li>Never create Default entity <a href="https://github.com/akka/akka-http/pull/3841">#3841</a></li>
  <li>Optimize header parsing by caching headers in HPACK tables <a href="https://github.com/akka/akka-http/pull/3861">#3861</a></li>
  <li>Support Strict entities in Http2SubStream <a href="https://github.com/akka/akka-http/pull/3824">#3824</a></li>
  <li>Use ByteString.length instead of ByteString.size <a href="https://github.com/akka/akka-http/pull/3853">#3853</a></li>
  <li>Use cached ContentType.value instead of toString <a href="https://github.com/akka/akka-http/pull/3865">#3865</a></li>
  <li>Use mutable.Queue for state in multiplexer <a href="https://github.com/akka/akka-http/pull/3873">#3873</a></li>
</ul>
<h4><a href="#build" name="build" class="anchor"><span class="anchor-link"></span></a>Build</h4>
<ul>
  <li>Update caffeine from 2.8.8 to 2.9.0 <a href="https://github.com/akka/akka-http/pull/3768">#3768</a></li>
  <li>Update github-api from 1.122 to 1.123 <a href="https://github.com/akka/akka-http/pull/3777">#3777</a></li>
  <li>Update to Scala 2.13.5, 2.12.13 and scalafix 0.9.26 <a href="https://github.com/akka/akka-http/pull/3780">#3780</a></li>
  <li>Finally update to sbt 1.4.7 <a href="https://github.com/akka/akka-http/pull/3781">#3781</a></li>
  <li>Publish to sonatype directly <a href="https://github.com/akka/akka-http/pull/3792">#3792</a></li>
  <li>Import shaded twitter hpack library (APL2) <a href="https://github.com/akka/akka-http/pull/3849">#3849</a></li>
  <li>Update dependencies <a href="https://github.com/akka/akka-http/pull/3870">#3870</a></li>
  <li>Disable parallel test execution during Github Actions runs <a href="https://github.com/akka/akka-http/pull/3866">#3866</a></li>
  <li>Run full validation when workflow definition has changed <a href="https://github.com/akka/akka-http/pull/3881">#3881</a></li>
</ul>
<h2><a href="#10-2-4" name="10-2-4" class="anchor"><span class="anchor-link"></span></a>10.2.4</h2>
<p>This release fixes <a href="https://nvd.nist.gov/vuln/detail/CVE-2021-23339">CVE-2021-23339</a>, a vulnerability regarding interpretation of <code>Transfer-Encoding</code> headers. See <a href="../security/2021-02-24-incorrect-handling-of-Transfer-Encoding-header.html">Incorrect Handling Of Transfer-Encoding Header</a>.</p>
<p>The vulnerability cannot be exploited using just Akka HTTP itself. Instead, Akka HTTP must be use as a proxy and the downstream server must be vulnerable itself, so that the proxy and the downstream server disagree on how to interpret a malformed request containing both <code>Transfer-Encoding</code> and <code>Content-Length</code> headers potentially leading to a &ldquo;Request Smuggling&rdquo; vulnerability. If you are using Akka HTTP as a reverse proxy, make sure to upgrade to the latest version.</p>
<p>Starting from this version, only a single <code>Transfer-Encoding: chunked</code> header is allowed. HTTP/1.1 specifies other encodings, however, those are not supported or implemented in Akka HTTP. Formerly, Akka HTTP would just pass on unsupported <code>Transfer-Encoding</code> headers to the user which lead to the above security issue. Since Akka HTTP implements the &ldquo;Transfer&rdquo; part of the protocol, it seems reasonable to lock down allowed values for <code>Transfer-Encoding</code> to prevent security issues like this. Please let us know if this leads to compatibility problems with your software.</p>
<p>The release contains one other notable change:</p>
<ul>
  <li>New option for handling conflicting Content-Type headers <a href="https://github.com/akka/akka-http/pull/3727">#3727</a></li>
</ul>
<h2><a href="#10-2-3" name="10-2-3" class="anchor"><span class="anchor-link"></span></a>10.2.3</h2>
<p>This release includes a working preview HTTP/2 client. Please consider using this preview to provide early feedback in case you find issues in your use-case. The HTTP/2 client will soon be included as an opt-in backend for the Akka gRPC client.</p>
<p>Native HTTP/2 support in Akka gRPC reduces the number of upstream dependencies and enables more deeply integrated tooling for Akka gRPC in the future.</p>
<p>For now, a connection-level and a &ldquo;persistent connection&rdquo; API is provided. The entry points are very similar to the existing flow-based HTTP/1 client APIs (responses are provided out-of-order, though, see the docs). The persistent connection API provides functionality similar to the <code>newHostConnectionPool</code> API.</p>
<p>Higher-level APIs for HTTP/2 like the <code>superPool</code> or <code>singleRequest</code> APIs (or a potential automatic integration into the existing APIs) are still discussed.</p>
<p>Please see the <a href="../client-side/http2.html">documentation</a> for more information and usage examples.</p>
<p>Other notable changes:</p>
<h4><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h4>
<ul>
  <li>Better support for filename in Content-Disposition <a href="https://github.com/akka/akka-http/pull/3705">#3705</a></li>
  <li>Warn if trying to bind flow/source with HTTP2 (which is not supported) <a href="https://github.com/akka/akka-http/pull/3678">#3678</a></li>
</ul>
<h4><a href="#akka-http-testkit" name="akka-http-testkit" class="anchor"><span class="anchor-link"></span></a>akka-http-testkit</h4>
<ul>
  <li>Fetch chunks in the testkit without waiting for the whole response to finish <a href="https://github.com/akka/akka-http/pull/3724">#3724</a></li>
</ul>
<h4><a href="#docs" name="docs" class="anchor"><span class="anchor-link"></span></a>docs</h4>
<ul>
  <li>Show examples of using the Akka HTTP BOM (bill of materials) in dependency blocks</li>
</ul>
<h2><a href="#10-2-2" name="10-2-2" class="anchor"><span class="anchor-link"></span></a>10.2.2</h2>
<p>This release includes a number of improvements to the HTTP/2 server support, while we continue to prepare for providing HTTP/2 support at the client as well.</p>
<p>As of this version, it is no longer strictly necessary to depend no a separate &lsquo;akka-http2-support&rsquo; artifact to get HTTP/2 support in Akka HTTP. We will continue to publish an empty artifact with that name to make it easy to upgrade, however.</p>
<h3><a href="#changes-since-10-2-1" name="changes-since-10-2-1" class="anchor"><span class="anchor-link"></span></a>Changes since 10.2.1</h3>
<h4><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h4>
<ul>
  <li>Allow illegal header keys to be ignored <a href="https://github.com/akka/akka-http/pull/3133">#3133</a></li>
  <li><code>HttpCookie.copy</code> was calling itself recursively <a href="https://github.com/akka/akka-http/pull/3670">#3670</a></li>
  <li>Don&rsquo;t dispatch onResponseEntity&hellip; events for entities that don&rsquo;t have to be subscribed <a href="https://github.com/akka/akka-http/pull/3574">#3574</a></li>
  <li>Add modeled &lsquo;TE&rsquo; header <a href="https://github.com/akka/akka-http/pull/3616">#3616</a>, <a href="https://github.com/akka/akka-http/pull/3618">#3618</a></li>
  <li>Add parens to deprecation messages for bind-methods <a href="https://github.com/akka/akka-http/pull/3547">#3547</a></li>
  <li>Use official version of SocketUtil in tests <a href="https://github.com/akka/akka-http/pull/3558">#3558</a></li>
  <li>Link to https rather than http <a href="https://github.com/akka/akka-http/pull/3663">#3663</a></li>
  <li>Avoid <code>temporaryServerHostnameAndPort</code> <a href="https://github.com/akka/akka-http/pull/3691">#3691</a></li>
</ul>
<h4><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h4>
<ul>
  <li>Optimize header directives by avoiding <code>HttpHeader.unapply</code> <a href="https://github.com/akka/akka-http/pull/3591">#3591</a></li>
</ul>
<h4><a href="#akka-http-marshallers" name="akka-http-marshallers" class="anchor"><span class="anchor-link"></span></a>akka-http-marshallers</h4>
<ul>
  <li>Update jackson-dataformat-xml from 2.10.5 to 2.10.5.1 <a href="https://github.com/akka/akka-http/pull/3695">#3695</a></li>
</ul>
<h4><a href="#akka-http-testkit" name="akka-http-testkit" class="anchor"><span class="anchor-link"></span></a>akka-http-testkit</h4>
<ul>
  <li>Fall through on AssertionErrors in testkit <a href="https://github.com/akka/akka-http/pull/3512">#3512</a></li>
  <li>Fail noisily if trying to use <code>~&gt;</code> together with <code>transparent-head-requests</code> <a href="https://github.com/akka/akka-http/pull/3569">#3569</a></li>
</ul>
<h4><a href="#docs" name="docs" class="anchor"><span class="anchor-link"></span></a>docs</h4>
<ul>
  <li>Add example for Get request with query parameters <a href="https://github.com/akka/akka-http/pull/3624">#3624</a></li>
  <li>Add akka-actor-typed dependency to introduction.md <a href="https://github.com/akka/akka-http/pull/3565">#3565</a></li>
  <li>Typo fix: &ldquo;the onne&rdquo; &ndash;&gt; &ldquo;the one&rdquo; <a href="https://github.com/akka/akka-http/pull/3521">#3521</a></li>
  <li>Some docs gardening <a href="https://github.com/akka/akka-http/pull/3544">#3544</a></li>
  <li>Link project info to snapshots <a href="https://github.com/akka/akka-http/pull/3681">#3681</a></li>
  <li>Release notes for 10.1.13 <a href="https://github.com/akka/akka-http/pull/3635">#3635</a></li>
  <li>Add section about how to configure snapshots <a href="https://github.com/akka/akka-http/pull/3642">#3642</a></li>
  <li>Add example for <code>Get</code> request with query parameters <a href="https://github.com/akka/akka-http/pull/3624">#3624</a></li>
  <li>Update <code>formFields</code> example <a href="https://github.com/akka/akka-http/pull/3650">#3650</a></li>
  <li>Verify signatures from the markdown actually exist <a href="https://github.com/akka/akka-http/pull/3654">#3654</a></li>
  <li>Add link from <code>formFields</code> to <code>parameters</code> directive docs <a href="https://github.com/akka/akka-http/pull/3655">#3655</a></li>
  <li>Use explicit paths to snippets <a href="https://github.com/akka/akka-http/pull/3653">#3653</a></li>
  <li>Fix the <code>Bid</code> class. <a href="https://github.com/akka/akka-http/pull/3661">#3661</a></li>
</ul>
<h4><a href="#akka-http2-support" name="akka-http2-support" class="anchor"><span class="anchor-link"></span></a>akka-http2-support</h4>
<ul>
  <li>Extract common rendering + add userAgent on requests <a href="https://github.com/akka/akka-http/pull/3657">#3657</a></li>
  <li>Continue accepting window updates even when done sending <a href="https://github.com/akka/akka-http/pull/3619">#3619</a></li>
  <li>Support custom HTTP methods for HTTP/2 <a href="https://github.com/akka/akka-http/pull/3622">#3622</a></li>
  <li>More robust handling of IncomingStreamBuffer.onPull <a href="https://github.com/akka/akka-http/pull/3621">#3621</a></li>
  <li>Simplify <code>Http2Substream</code> hierarchy trading a bit of type-safety for simplicity <a href="https://github.com/akka/akka-http/pull/3605">#3605</a></li>
  <li>More useful event info for stream state changes <a href="https://github.com/akka/akka-http/pull/3643">#3643</a></li>
  <li>Add some more basic HTTP/2 client tests <a href="https://github.com/akka/akka-http/pull/3644">#3644</a></li>
  <li>Configurable ping support through demuxer <a href="https://github.com/akka/akka-http/pull/3617">#3617</a></li>
  <li>Close the substreams earlier from the demuxer <a href="https://github.com/akka/akka-http/pull/3647">#3647</a></li>
  <li>HTTP/2 client test coverage (and support for) TLS session info <a href="https://github.com/akka/akka-http/pull/3668">#3668</a></li>
  <li>Handle RST while sending data + more tests <a href="https://github.com/akka/akka-http/pull/3671">#3671</a></li>
  <li>Fix lost &lsquo;pull&rsquo; when closing while waiting for window <a href="https://github.com/akka/akka-http/pull/3672">#3672</a></li>
  <li>Send and enforce max concurrent streams setting <a href="https://github.com/akka/akka-http/pull/3529">#3529</a></li>
  <li>Unify incoming and outgoing state machine <a href="https://github.com/akka/akka-http/pull/3552">#3552</a></li>
  <li>Disable Push (send SETTING) <a href="https://github.com/akka/akka-http/pull/3555">#3555</a></li>
  <li>Fix Scala 2.12 compilation error <a href="https://github.com/akka/akka-http/pull/3582">#3582</a></li>
  <li>Remove explicit parallelism parameter in HTTP/2 <a href="https://github.com/akka/akka-http/pull/3545">#3545</a></li>
  <li>Respect remote max concurrent streams (reprise) <a href="https://github.com/akka/akka-http/pull/3581">#3581</a></li>
  <li>Also go through state machine for <code>resetStream</code> <a href="https://github.com/akka/akka-http/pull/3584">#3584</a></li>
  <li>Fix leakage of incoming substreams in edge cases <a href="https://github.com/akka/akka-http/pull/3233">#3233</a></li>
  <li>Run handler code in its own task on the server <a href="https://github.com/akka/akka-http/pull/3593">#3593</a></li>
  <li>Check HTTP2 headers for correctness <a href="https://github.com/akka/akka-http/pull/3603">#3603</a></li>
  <li>HTTP/2 connection level API <a href="https://github.com/akka/akka-http/pull/3511">#3511</a></li>
  <li>Accepting trailing headers in the HTTP/2 client <a href="https://github.com/akka/akka-http/pull/3602">#3602</a></li>
  <li>Protocol-level client specs <a href="https://github.com/akka/akka-http/pull/3532">#3532</a></li>
  <li>Move some public API bits to its final places and mark them as <code>@ApiMayChange</code><a href="https://github.com/akka/akka-http/pull/3526">#3526</a></li>
  <li>Use LogHelper in demux classes <a href="https://github.com/akka/akka-http/pull/3506">#3506</a></li>
  <li>Remove some minor repetition in HTTP/2 rendering <a href="https://github.com/akka/akka-http/pull/3229">#3229</a></li>
  <li>Test server responses to invalid ping frames <a href="https://github.com/akka/akka-http/pull/3523">#3523</a></li>
  <li>Use scheme portion of target URI in <code>:scheme</code> pseudo-header <a href="https://github.com/akka/akka-http/pull/3535">#3535</a></li>
  <li>Add test for receiving <code>WINDOW_UPDATE</code> in <code>HalfClosedRemoteWaitingForOutgoingStream</code> state <a href="https://github.com/akka/akka-http/pull/3554">#3554</a></li>
  <li>Make &lsquo;network&rsquo; and &lsquo;user&rsquo; sides more explicit <a href="https://github.com/akka/akka-http/pull/3638">#3638</a></li>
  <li><code>streamId</code> attribute is not needed / supported on client side <a href="https://github.com/akka/akka-http/pull/3652">#3652</a></li>
</ul>
<h4><a href="#build" name="build" class="anchor"><span class="anchor-link"></span></a>build</h4>
<ul>
  <li>Akka HTTP BOM <a href="https://github.com/akka/akka-http/pull/3665">#3665</a></li>
  <li>Add 10.2.1 to MiMa <a href="https://github.com/akka/akka-http/pull/3499">#3499</a></li>
  <li>Increase paradox parsing timeout <a href="https://github.com/akka/akka-http/pull/3508">#3508</a></li>
  <li>Also aggregate akka-http-bench-jmh, to fail if benchs fail to compile <a href="https://github.com/akka/akka-http/pull/3561">#3561</a></li>
  <li>Exclude akka-http-bench-jmh from whitesource <a href="https://github.com/akka/akka-http/pull/3562">#3562</a></li>
  <li>Disable whitesource for submodules which are not to be published <a href="https://github.com/akka/akka-http/pull/3564">#3564</a></li>
  <li>Remove sbt-javaagent <a href="https://github.com/akka/akka-http/pull/3598">#3598</a></li>
  <li>Include stack traces in scalatest failures <a href="https://github.com/akka/akka-http/pull/3612">#3612</a></li>
  <li>Add 10.1.13 to mima <a href="https://github.com/akka/akka-http/pull/3641">#3641</a></li>
</ul>
<p>And various updates:</p>
<ul>
  <li>Update akka to 2.5.32 <a href="https://github.com/akka/akka-http/pull/3558">#3558</a></li>
  <li>Update caffeine from 2.8.5 to 2.8.7 <a href="https://github.com/akka/akka-http/pull/3515">#3515</a></li>
  <li>Update junit from 4.12 to 4.13.1 <a href="https://github.com/akka/akka-http/pull/3517">#3517</a></li>
  <li>Update paradox-theme-akka, &hellip; from 0.35 to 0.36<a href="https://github.com/akka/akka-http/pull/3697">#3697</a></li>
  <li>Update sbt-bintray from 0.5.6 to 0.6.1 <a href="https://github.com/akka/akka-http/pull/3572">#3572</a>, <a href="https://github.com/akka/akka-http/pull/3596">#3596</a></li>
  <li>Update sbt-mima-plugin from 0.8.0 to 0.8.1 <a href="https://github.com/akka/akka-http/pull/3548">#3548</a></li>
  <li>Update sbt-scalafix, scalafix-core, &hellip; from 0.9.21 to 0.9.23 <a href="https://github.com/akka/akka-http/pull/3614">#3614</a></li>
  <li>Update specs2-core from 4.10.3 to 4.10.5 <a href="https://github.com/akka/akka-http/pull/3518">#3518</a>, <a href="https://github.com/akka/akka-http/pull/3550">#3550</a></li>
  <li>Update spray-json from 1.3.5 to 1.3.6 <a href="https://github.com/akka/akka-http/pull/3629">#3629</a></li>
</ul>
<h2><a href="#10-2-1" name="10-2-1" class="anchor"><span class="anchor-link"></span></a>10.2.1</h2>
<p>This release includes:</p>
<ul>
  <li>Improved source-compatibility with Akka HTTP 10.1.x <a href="https://github.com/akka/akka-http/pull/3489">#3489</a></li>
  <li>Re-introduction of the lingerTimeout option <a href="https://github.com/akka/akka-http/pull/3456">#3456</a></li>
</ul>
<h3><a href="#changes-since-10-2-0" name="changes-since-10-2-0" class="anchor"><span class="anchor-link"></span></a>Changes since 10.2.0</h3>
<h4><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h4>
<ul>
  <li>Reenable lingerTimeout <a href="https://github.com/akka/akka-http/pull/3456">#3456</a></li>
  <li>Make entities of HEAD requests discard <a href="https://github.com/akka/akka-http/pull/3440">#3440</a></li>
  <li>Fix HTTPS proxy CONNECT request <a href="https://github.com/akka/akka-http/pull/3434">#3434</a></li>
  <li>Expose the SslSession via an attribute <a href="https://github.com/akka/akka-http/pull/3472">#3472</a></li>
  <li>Add debug logging when Websocket impl closes connections after timeout <a href="https://github.com/akka/akka-http/pull/3431">#3431</a></li>
  <li>Spelling in reference.conf <a href="https://github.com/akka/akka-http/pull/3425">#3425</a></li>
  <li>Remove unused import in Handshake class <a href="https://github.com/akka/akka-http/pull/3464">#3464</a></li>
  <li>Tests: use copy of SocketUtil that does not use 127.x.y.255 addresses <a href="https://github.com/akka/akka-http/pull/3460">#3460</a></li>
</ul>
<h4><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h4>
<ul>
  <li>Provide implicit conversion from route and materializer to flow <a href="https://github.com/akka/akka-http/pull/3489">#3489</a></li>
  <li>Fail storeUploadedFile(s) directive when IO operation fails <a href="https://github.com/akka/akka-http/pull/3437">#3437</a></li>
  <li>Fix Route.handlerFlow deprecation message <a href="https://github.com/akka/akka-http/pull/3465">#3465</a></li>
  <li>Fix a couple of warnings <a href="https://github.com/akka/akka-http/pull/3482">#3482</a></li>
  <li>Clean up some imports <a href="https://github.com/akka/akka-http/pull/3457">#3457</a></li>
</ul>
<h4><a href="#docs" name="docs" class="anchor"><span class="anchor-link"></span></a>docs</h4>
<ul>
  <li>Docs for getting data from a strict entity in a client <a href="https://github.com/akka/akka-http/pull/3446">#3446</a></li>
  <li>Fix links to httpsServer / httpsClient <a href="https://github.com/akka/akka-http/pull/3453">#3453</a></li>
  <li>Fix typo in deprecation message <a href="https://github.com/akka/akka-http/pull/3424">#3424</a></li>
  <li>Update Scala style guide example to match the Java one (remove duplicated &ldquo;customer&rdquo; path) <a href="https://github.com/akka/akka-http/pull/3448">#3448</a></li>
  <li>Document how to disable hostname verification without ssl-config <a href="https://github.com/akka/akka-http/pull/3483">#3483</a></li>
  <li>Fix introduction markup <a href="https://github.com/akka/akka-http/pull/3476">#3476</a></li>
  <li>Update head documentation about default behavior <a href="https://github.com/akka/akka-http/pull/3480">#3480</a></li>
  <li>Document requiring client authentication <a href="https://github.com/akka/akka-http/pull/3492">#3492</a></li>
  <li>Update websocket docs to describe attribute <a href="https://github.com/akka/akka-http/pull/3488">#3488</a></li>
</ul>
<h4><a href="#akka-http2-support" name="akka-http2-support" class="anchor"><span class="anchor-link"></span></a>akka-http2-support</h4>
<ul>
  <li>Ignore unexpected DATA frames in state closed <a href="https://github.com/akka/akka-http/pull/3462">#3462</a></li>
  <li>Improve HTTP2 debug logging <a href="https://github.com/akka/akka-http/pull/3467">#3467</a></li>
</ul>
<h4><a href="#build" name="build" class="anchor"><span class="anchor-link"></span></a>build</h4>
<ul>
  <li>Set up mima for 10.2 <a href="https://github.com/akka/akka-http/pull/3408">#3408</a></li>
  <li>Simplify http-core test against akka master scenario <a href="https://github.com/akka/akka-http/pull/3402">#3402</a></li>
  <li>Increase paradox parsing timeout <a href="https://github.com/akka/akka-http/pull/3430">#3430</a></li>
  <li>Update to Scala 2.12.12 <a href="https://github.com/akka/akka-http/pull/3420">#3420</a></li>
  <li>Update github-api from 1.115 to 1.116 <a href="https://github.com/akka/akka-http/pull/3443">#3443</a></li>
  <li>Update sbt-jmh from 0.3.7 to 0.4.0 <a href="https://github.com/akka/akka-http/pull/3471">#3471</a></li>
  <li>Update sbt-mima-plugin from 0.7.0 to 0.8.0 <a href="https://github.com/akka/akka-http/pull/3475">#3475</a></li>
  <li>Update sbt-scalafix, scalafix-core, &hellip; from 0.9.20 to 0.9.21 <a href="https://github.com/akka/akka-http/pull/3479">#3479</a></li>
  <li>Update scalatest from 3.1.3 to 3.1.4 <a href="https://github.com/akka/akka-http/pull/3454">#3454</a></li>
  <li>Update silencer-lib, silencer-plugin from 1.7.0 to 1.7.1 <a href="https://github.com/akka/akka-http/pull/3397">#3397</a></li>
  <li>Update specs2-core from 4.10.2 to 4.10.3 <a href="https://github.com/akka/akka-http/pull/3445">#3445</a></li>
</ul>
<h2><a href="#10-2-0" name="10-2-0" class="anchor"><span class="anchor-link"></span></a>10.2.0</h2>
<p>Akka Http 10.2 is a modernization release to improve the integration with the latest Akka versions, streamline APIs, and improve performance.</p>
<p>Since the original release of 10.1, the Akka project has introduced a few important features:</p>
<ul>
  <li>Akka 2.6 offers typed actors and ActorSystems</li>
  <li>Akka Stream APIs were improved to work without requiring a <code>Materializer</code> in most cases</li>
  <li>Akka gRPC 1.0 has been released which is built on top of Akka HTTP</li>
</ul>
<p>Akka Http 10.2.0 supports these changes in the following ways:</p>
<ul>
  <li>Http APIs now work the same whether a classic or a typed ActorSystem is provided</li>
  <li>A new concise API for binding servers has been introduced</li>
  <li>A new set of directives <a href="../routing-dsl/directives/route-directives/handle.html">handle</a>, and <a href="../routing-dsl/directives/route-directives/handleSync.html">handleSync</a>  provide more options to seamlessly mix Akka gRPC generated service handlers with Akka Http routes. HTTP/2 support has been improved based on Akka gRPC usage.</li>
  <li>Akka HTTP now supports Akka Coordinated Shutdown for server bindings.</li>
</ul>
<h3><a href="#seamless-integration-with-akka-2-6-and-new-server-api-entrypoints" name="seamless-integration-with-akka-2-6-and-new-server-api-entrypoints" class="anchor"><span class="anchor-link"></span></a>Seamless integration with Akka 2.6 and new server API entrypoints</h3>
<p>Making changes to support Akka 2.6 better, we realized that the existing server API is sometimes awkward to use and to evolve. Therefore, we took the opportunity to come up with a new <a href="../migration-guide/migration-guide-10.2.x.html#new-serverbuilder-api-to-create-server-bindings">ServerBuilder API</a> that provides a way to bind servers more concisely, especially from Java.</p>
<p>Code like:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.2.9/docs/src/test/scala/docs/http/scaladsl/server/AkkaHttp1020MigrationSpec.scala#L19-L26" target="_blank" title="Go to snippet source">source</a><code class="language-scala">// only worked with classic actor system
implicit val system = akka.actor.ActorSystem(&quot;TheSystem&quot;)
implicit val mat: Materializer = ActorMaterializer()
val route: Route =
  get {
    complete(&quot;Hello world&quot;)
  }
Http().bindAndHandle(route, &quot;localhost&quot;, 8080)</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.2.9/docs/src/test/java/docs/http/javadsl/server/AkkaHttp1020MigrationExample.java#L20-L24" target="_blank" title="Go to snippet source">source</a><code class="language-java">// only worked with classic actor system
akka.actor.ActorSystem system = akka.actor.ActorSystem.create(&quot;TheSystem&quot;);
Materializer mat = ActorMaterializer.create(system);
Route route = get(() -&gt; complete(&quot;Hello World!&quot;));
Http.get(system).bindAndHandle(route.flow(system), ConnectHttp.toHost(&quot;localhost&quot;, 8080), mat);</code></pre></dd>
</dl>
<p>can now be written as:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.2.9/docs/src/test/scala/docs/http/scaladsl/server/AkkaHttp1020MigrationSpec.scala#L32-L43" target="_blank" title="Go to snippet source">source</a><code class="language-scala">// works with both classic and typed ActorSystem
implicit val system = akka.actor.typed.ActorSystem(Behaviors.empty, &quot;TheSystem&quot;)
// or
// implicit val system = akka.actor.ActorSystem(&quot;TheSystem&quot;)

// materializer not needed any more

val route: Route =
  get {
    complete(&quot;Hello world&quot;)
  }
Http().newServerAt(&quot;localhost&quot;, 8080).bind(route)</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><button class="snippet-button copy-snippet" title="Copy snippet to clipboard">copy</button><a class="snippet-button go-to-source" href="https://github.com/akka/akka-http/tree/v10.2.9/docs/src/test/java/docs/http/javadsl/server/AkkaHttp1020MigrationExample.java#L30-L38" target="_blank" title="Go to snippet source">source</a><code class="language-java">// works with classic or typed actor system
akka.actor.typed.ActorSystem system = akka.actor.typed.ActorSystem.create(Behaviors.empty(), &quot;TheSystem&quot;);
// or
// akka.actor.ActorSystem system = akka.actor.ActorSystem.create(&quot;TheSystem&quot;);

// materializer not needed any more

Route route = get(() -&gt; complete(&quot;Hello World!&quot;));
Http.get(system).newServerAt(&quot;localhost&quot;, 8080).bind(route);</code></pre></dd>
</dl>
<p>Notably, server written with the routing DSL will now be automatically converted to an asynchronous handler (using the new pendant of <code>bindAndHandleAsync</code>) instead of being provided as a Flow (using <code>bindAndHandle</code> before). This has the benefit that it fits the style of the routing DSL better which really represents an asynchronous handler function and, more importantly, will enable routes to work automatically with HTTP/2 (when enabled).</p>
<p>The old APIs have been deprecated but will be kept for binary and source compatibility at least until 10.3 but maybe even longer (because they have been such a central part).</p>
<p>We made an effort to keep supporting Akka 2.5.x (&gt;= 2.5.31) for this release to ease the migration burden. It required backporting some features from Akka 2.6 so that seamless APIs would work the same with Akka 2.6 and Akka 2.5. The 10.2.x release line will be the last supporting Akka 2.5.</p>
<p>To do the migration you can run the following task in sbt if you have scalafix enabled in your project:</p>
<pre><code>scalafixAll dependency:MigrateToServerBuilder@com.typesafe.akka:akka-http-scalafix-rules:10.2.0
</code></pre>
<p>See the <a href="../migration-guide/migration-guide-10.2.x.html#akka-http-10-1-x-10-2-0">migration notes</a> for more information about how to setup and use scalafix to do the migration.</p>
<h3><a href="#routing-dsl-guidelines" name="routing-dsl-guidelines" class="anchor"><span class="anchor-link"></span></a>Routing DSL guidelines</h3>
<p>Akka HTTP&rsquo;s routing DSL comes with great power once you have mastered it. However, the flexibility it provides can be hard to tame for new users or when projects grow. We acknowledge these difficulties and want to conquer them with giving more guidelines to get started with building routes more easily. For that reason, we created two new documentation pages to give advice about how routes can be organized for scale:</p>
<ul>
  <li>The new <a href="../routing-dsl/style-guide.html">styleguide</a> gives general recommendations about how to structure route source code.</li>
  <li>A <a href="../routing-dsl/play-comparison.html">comparison with Play routes</a> gives a side-by-side overview of how routing features of Play and Akka HTTP compare to  each other.</li>
</ul>
<h3><a href="#attributes-for-httprequest-and-httpresponse" name="attributes-for-httprequest-and-httpresponse" class="anchor"><span class="anchor-link"></span></a>Attributes for HttpRequest and HttpResponse</h3>
<p>In many cases metadata needs to be attached to an HTTP message. Previously, this was accomplished by introducing synthetic headers to add to requests and responses. However, this was more of a workaround that could lead to confusion about which headers should be rendered and where they originated. Akka Http 10.2 introduces attributes to HTTP messages. These allow attaching and querying typed metadata values to messages.</p>
<p>See <a href="../common/http-model.html#attributes">Attributes</a> for more information.</p>
<h3><a href="#default-configuration-improvements" name="default-configuration-improvements" class="anchor"><span class="anchor-link"></span></a>Default configuration improvements</h3>
<p>Seldom used features have now been turned off by default:</p>
<ul>
  <li>Transparent HEAD support was disabled, see <a href="https://github.com/akka/akka-http/issues/2088">#2088</a> and the <a href="../migration-guide/migration-guide-10.2.x.html#transparent-head-requests-now-disabled-by-default">migration notes</a> for information about the rationale.</li>
  <li>Server-side HTTP pipelining was disabled by default. Common HTTP clients do not support it by default or have it disabled, so to reduce complexity in the common code paths  the default <code>akka.http.server.pipelining-limit</code> was changed to <code>1</code>. See the <a href="../migration-guide/migration-guide-10.2.x.html#server-side-http-pipelining-now-disabled-by-default">migration notes</a> for more information.</li>
</ul>
<h3><a href="#better-support-for-upcoming-scala-versions" name="better-support-for-upcoming-scala-versions" class="anchor"><span class="anchor-link"></span></a>Better support for upcoming Scala versions</h3>
<p>Scala 2.13 deprecated &ldquo;adapted arguments&rdquo; which were heavily used in the routing DSL with the magnet pattern. It allowed that a single method with a single argument could take any number of arguments in a typesafe fashion by relying on the Scala compiler to convert those arguments to a tuple of arguments. Since a while we generally try to reduce our usage of implicits and the magnet pattern to avoid complex compile error messages, long compile times, and complexity. With Akka Http 10.2 we made another effort to reduce our dependency on that language feature by providing a set of code-generated overloads for the methods in question to pave our way for upcoming Scala versions.</p>
<p>See the <a href="../migration-guide/migration-guide-10.2.x.html#parameters-formfields-scaladsl-">migration guide</a> for more information.</p>
<h3><a href="#client-configurable-setting-overrides-per-target-host" name="client-configurable-setting-overrides-per-target-host" class="anchor"><span class="anchor-link"></span></a>Client: configurable setting overrides per target host</h3>
<p>It is now possible to set overrides for client settings per target host <a href="../client-side/configuration.html#per-host-overrides">via configuration</a>. For example, if you use Akka HTTP client to access different services, it is now possible to tweak pool and connection parameters like the maximum number of concurrent connections (<code>max-connections</code>) on a per-target-host-basis. Thanks to <a href="https://github.com/Falmarri">David Knapp / @Falmarri</a> for providing an initial implementation of that feature a long time ago.</p>
<h3><a href="#client-custom-client-dns-resolution-transport" name="client-custom-client-dns-resolution-transport" class="anchor"><span class="anchor-link"></span></a>Client: custom client DNS resolution transport</h3>
<p>By default, host name resolution is done in the IO layer when a connection attempt is made. In some cases, it can make sense to be able to customize the resolution, for example if there are multiple ip addresses returned for a DNS query, this could be used to implement custom DNS load balancing schemes. For that purpose, a new <code>ClientTransport.withCustomResolver</code> was introduced that allows providing custom resolution for each connection attempt.</p>
<p>See the section about <a href="../client-side/client-transport.html#custom-host-name-resolution-transport">custom client DNS resolution schemes</a> for more information.</p>
<h3><a href="#performance-improvements" name="performance-improvements" class="anchor"><span class="anchor-link"></span></a>Performance improvements</h3>
<ul>
  <li>Better performance for big client pools: Big client pools with more than 500 connections (<code>max-connections = 500</code> or more) suffered from a bad choice of datastructure with O(nÂ²) access  times, so bigger pools spent too much time just sifting through the internal data structures instead of doing useful work. This has been fixed and a nightly benchmark has been set  up to track performance going forward.</li>
  <li>Cheaper logging in client pools helps pools of all sizes by avoiding logging when DEBUG logging is disabled.</li>
  <li>discardEntityBytes for strict entities is now a no-op while before streams were materialized.</li>
</ul>
<h3><a href="#streamlined-https-configuration" name="streamlined-https-configuration" class="anchor"><span class="anchor-link"></span></a>Streamlined HTTPS configuration</h3>
<p>Akka HTTP no longer uses the HTTPS configuration configured with <code>ssl-config</code> by default. Instead, it will use the JRE defaults for client connections. For server connections you should create a <span class="group-java"><a href="https://doc.akka.io/japi/akka-http/10.2.9/akka/http/javadsl/HttpsConnectionContext.html" title="akka.http.javadsl.HttpsConnectionContext"><code>HttpsConnectionContext</code></a></span><span class="group-scala"><a href="https://doc.akka.io/api/akka-http/10.2.9/akka/http/scaladsl/HttpsConnectionContext.html" title="akka.http.scaladsl.HttpsConnectionContext"><code>HttpsConnectionContext</code></a></span> with the relevant configuration.</p>
<p>See <a href="../migration-guide/migration-guide-10.2.x.html#configuring-https-connections">Configuring HTTPS connections</a> for more information.</p>
<h3><a href="#other-changes" name="other-changes" class="anchor"><span class="anchor-link"></span></a>Other changes</h3>
<ul>
  <li>Various bug fixes, such as around <a href="https://github.com/akka/akka-http/pull/3003">percent-encoding URI queries</a> and <a href="https://github.com/akka/akka-http/issues/1484">parsing headers with unicode characters</a>.</li>
  <li>RouteTest can now run integration tests with <code>~!&gt;</code> through full client/server infrastructure <a href="https://github.com/akka/akka-http/pull/3014">#3014</a></li>
  <li>Various improvements to HTTP/2 support, driven by <a href="https://doc.akka.io/docs/akka-grpc">Akka gRPC</a>.</li>
  <li>Remove legacy host connection pool including settings and tests <a href="https://github.com/akka/akka-http/pull/3188">#3188</a></li>
</ul>
<h3><a href="#migration-notes" name="migration-notes" class="anchor"><span class="anchor-link"></span></a>Migration notes</h3>
<p>Support for Scala 2.11 has been dropped in this release. See the <a href="../migration-guide/migration-guide-10.2.x.html">Migration guide</a> for more information about other changes which might need migration.</p>
<h3><a href="#changes-since-10-1-11" name="changes-since-10-1-11" class="anchor"><span class="anchor-link"></span></a>Changes since 10.1.11</h3>
<h4><a href="#akka-http-core" name="akka-http-core" class="anchor"><span class="anchor-link"></span></a>akka-http-core</h4>
<ul>
  <li>Fix cancellation race conditions on the client-side <a href="https://github.com/akka/akka-http/pull/2965">#2965</a></li>
  <li>Silence outgoing request stream error <a href="https://github.com/akka/akka-http/pull/2905">#2905</a></li>
  <li>Add SameSite attribute to Cookies <a href="https://github.com/akka/akka-http/pull/2928">#2928</a></li>
  <li>Only catch NonFatal Exceptions <a href="https://github.com/akka/akka-http/pull/2853">#2853</a></li>
  <li>Add coordinated shutdown support <a href="https://github.com/akka/akka-http/pull/3142">#3142</a></li>
  <li>Percent-encode illegal chars when creating URI query <a href="https://github.com/akka/akka-http/pull/3003">#3003</a></li>
  <li>Add the remote address in parse errors when possible <a href="https://github.com/akka/akka-http/pull/2899">#2899</a></li>
  <li>Remove <code>UseHttp2</code> <a href="https://github.com/akka/akka-http/pull/2896">#2896</a></li>
  <li>Hide body and headers by default in <code>HttpRequest#toString</code> and <code>HttpResponse#toString</code> <a href="https://github.com/akka/akka-http/pull/2560">#2560</a></li>
  <li>Fix headers javadsl scaladoc <a href="https://github.com/akka/akka-http/pull/2932">#2932</a></li>
  <li>Allow client setting overrides for target hosts in config <a href="https://github.com/akka/akka-http/pull/2574">#2574</a></li>
  <li>Fix EOL detection for body part parsing <a href="https://github.com/akka/akka-http/pull/2581">#2581</a></li>
  <li>Update javadsl bindAndHandle to take a Java function and System <a href="https://github.com/akka/akka-http/pull/3223">#3223</a></li>
  <li>Identify Content-Type <code>charset</code> parameter even if not lower case <a href="https://github.com/akka/akka-http/pull/2926">#2926</a></li>
  <li>Prevent initialization NPE which might fail all retries quickly <a href="https://github.com/akka/akka-http/pull/2958">#2958</a></li>
  <li>Add exclusion for Extension issues when building against Akka 2.6 <a href="https://github.com/akka/akka-http/pull/2945">#2945</a></li>
  <li>Nest correctly in NewHostConnectionPool <a href="https://github.com/akka/akka-http/pull/2964">#2964</a></li>
  <li>Support for request/response message attributes <a href="https://github.com/akka/akka-http/pull/2938">#2938</a></li>
  <li>Don&rsquo;t fail slot after previous connection failed in special condition <a href="https://github.com/akka/akka-http/pull/3021">#3021</a></li>
  <li>Simplify route2HandlerFlow <a href="https://github.com/akka/akka-http/pull/2893">#2893</a></li>
  <li>Better support for the new Actors API <a href="https://github.com/akka/akka-http/pull/3036">#3036</a></li>
  <li>Parse empty query <code>?</code> to <code>Query.empty</code> <a href="https://github.com/akka/akka-http/pull/3042">#3042</a></li>
  <li>Make sure to cancel response entity on failure <a href="https://github.com/akka/akka-http/pull/3046">#3046</a></li>
  <li>Add <code>akka.http.server.remote-address-attribute</code> <a href="https://github.com/akka/akka-http/pull/2924">#2924</a></li>
  <li>Make <code>transparent-head-requests</code> opt-in <a href="https://github.com/akka/akka-http/pull/3063">#3063</a></li>
  <li>Continue more gracefully when encountering multiple Host headers in a response <a href="https://github.com/akka/akka-http/pull/3158">#3158</a></li>
  <li>Allow customizing parsing errors <a href="https://github.com/akka/akka-http/pull/3049">#3049</a></li>
  <li>Don&rsquo;t extend from Char =&gt; Boolean for CharPredicate <a href="https://github.com/akka/akka-http/pull/3107">#3107</a></li>
  <li>Add server-side streamCancellationDelay to mitigate cancellation race conditions <a href="https://github.com/akka/akka-http/pull/2116">#2116</a></li>
  <li>Improve error message about unconsumed entity <a href="https://github.com/akka/akka-http/pull/3109">#3109</a></li>
  <li>Header rendering with less indirection <a href="https://github.com/akka/akka-http/pull/3106">#3106</a></li>
  <li>Remove deprecated methods taking implicit materializers <a href="https://github.com/akka/akka-http/pull/3119">#3119</a></li>
  <li>Simplify <code>superPool</code> and <code>clientFlow</code> <a href="https://github.com/akka/akka-http/pull/3156">#3156</a></li>
  <li>Deprecate Remote-Address header <a href="https://github.com/akka/akka-http/pull/3174">#3174</a></li>
  <li>Move <code>max-content-length</code> definition from top to server/client <a href="https://github.com/akka/akka-http/pull/3098">#3098</a></li>
  <li>Add test for failure propagation into websocket flows <a href="https://github.com/akka/akka-http/pull/3276">#3276</a></li>
  <li>Deprecate UpgradeToWebSocket <a href="https://github.com/akka/akka-http/pull/3278">#3278</a>, <a href="https://github.com/akka/akka-http/pull/3296">#3296</a></li>
  <li>Disable server-side HTTP pipelining by default<a href="https://github.com/akka/akka-http/pull/">#</a></li>
  <li>Make HttpEntity.Strict.discardBytes a no-op <a href="https://github.com/akka/akka-http/pull/3329">#3329</a></li>
  <li>Make sure to reset all UriParser fields before reusing<a href="https://github.com/akka/akka-http/pull/">#</a></li>
  <li>Track idle slots explicitly to avoid O(n^2) work for big pools<a href="https://github.com/akka/akka-http/pull/">#</a></li>
  <li>Keep request/response copy method public <a href="https://github.com/akka/akka-http/pull/3347">#3347</a></li>
  <li>Introduce javadsl discardEntityBytes that takes a ClassicActorSystemProvider<a href="https://github.com/akka/akka-http/pull/">#</a></li>
  <li>Provide toStrict overloads with ClassicActorSystemProvider parameter<a href="https://github.com/akka/akka-http/pull/">#</a></li>
  <li>Introduce custom hostname resolution client transport <a href="https://github.com/akka/akka-http/pull/3202">#3202</a></li>
  <li>Avoid expensive logging in NewHostConnectionPool <a href="https://github.com/akka/akka-http/pull/3356">#3356</a></li>
  <li>Introduce Http().newServerAt server builder API<a href="https://github.com/akka/akka-http/pull/">#</a></li>
  <li>Make HttpRequest/HttpResponse.hashCode depend on attributes <a href="https://github.com/akka/akka-http/pull/3351">#3351</a></li>
  <li>Allow customization of materializer with new ServerBuider API<a href="https://github.com/akka/akka-http/pull/3414">#3414</a></li>
</ul>
<h4><a href="#akka-http" name="akka-http" class="anchor"><span class="anchor-link"></span></a>akka-http</h4>
<ul>
  <li>Names as alternative to symbolic directive combiners <a href="https://github.com/akka/akka-http/pull/3085">#3085</a></li>
  <li>Names for symbolic enhancements <a href="https://github.com/akka/akka-http/pull/3082">#3082</a></li>
  <li>Allow names to match paths <a href="https://github.com/akka/akka-http/pull/3089">#3089</a></li>
  <li>Remove deprecated FormFieldDirectives methods <a href="https://github.com/akka/akka-http/pull/3120">#3120</a></li>
  <li>Remove magnets usage from formField directives <a href="https://github.com/akka/akka-http/pull/3289">#3289</a></li>
  <li>Provide Route.toFunction as alternative to Route.asyncHandler <a href="https://github.com/akka/akka-http/pull/3115">#3115</a></li>
  <li>New <code>handle</code> directive to create Route from function <a href="https://github.com/akka/akka-http/pull/3239">#3239</a></li>
  <li>Allow &lsquo;bindAndHandleAsync&rsquo; to take a &lsquo;Route&rsquo; <a href="https://github.com/akka/akka-http/pull/3237">#3237</a></li>
  <li>Make X-Real-IP take precedence over Remote-Address <a href="https://github.com/akka/akka-http/pull/3173">#3173</a></li>
  <li>Allow passing a companion object to headerValueByType <a href="https://github.com/akka/akka-http/pull/3279">#3279</a></li>
  <li>Replace magnetic parameter overloads by boilerplate-generated overloads <a href="https://github.com/akka/akka-http/pull/2971">#2971</a></li>
  <li>Deprecate directives taking <code>Symbol</code> as argument <a href="https://github.com/akka/akka-http/pull/3291">#3291</a></li>
  <li>Remove uploadedFile (deprecated in 10.0.11) <a href="https://github.com/akka/akka-http/pull/3118">#3118</a></li>
  <li>Deprecate internal parts of coding infrastructure <a href="https://github.com/akka/akka-http/pull/3262">#3262</a></li>
  <li>Deprecate HttpApp <a href="https://github.com/akka/akka-http/pull/3162">#3162</a></li>
  <li>Allow &lsquo;complete&rsquo; directive with status without adapted arguments <a href="https://github.com/akka/akka-http/pull/3307">#3307</a></li>
  <li>Fix remaining internal adapted arguments warnings <a href="https://github.com/akka/akka-http/pull/3337">#3337</a></li>
  <li>Create Unmarshaller.unmarshal overloads taking in ClassActorSystemProvider<a href="https://github.com/akka/akka-http/pull/">#</a></li>
  <li>Add directives for extracting attributes <a href="https://github.com/akka/akka-http/pull/3355">#3355</a></li>
  <li>Document and dogfood using the attribute for websockets <a href="https://github.com/akka/akka-http/pull/3358">#3358</a></li>
  <li>Add handlePF directive <a href="https://github.com/akka/akka-http/pull/3367">#3367</a></li>
</ul>
<h4><a href="#akka-http-marshallers" name="akka-http-marshallers" class="anchor"><span class="anchor-link"></span></a>akka-http-marshallers</h4>
<ul>
  <li>Only show unmarshalling error details when &lsquo;verbose-error-messages&rsquo; is on <a href="https://github.com/akka/akka-http/pull/3265">#3265</a></li>
  <li>Jackson: Better JSON validation error when unmarshalling <a href="https://github.com/akka/akka-http/pull/2901">#2901</a></li>
</ul>
<h4><a href="#akka-http-testkit" name="akka-http-testkit" class="anchor"><span class="anchor-link"></span></a>akka-http-testkit</h4>
<ul>
  <li>Allow <code>RouteTest</code> to run integration tests via <code>~!&gt;</code> operator <a href="https://github.com/akka/akka-http/pull/3014">#3014</a></li>
  <li>Update to Scalatest 3.1.0 <a href="https://github.com/akka/akka-http/pull/2851">#2851</a></li>
  <li>Handle test exceptions separately from regular exceptions <a href="https://github.com/akka/akka-http/pull/2949">#2949</a></li>
  <li>Simplify implicits for RouteTest <a href="https://github.com/akka/akka-http/pull/3060">#3060</a></li>
  <li>Fix more Scala 2.13 warnings <a href="https://github.com/akka/akka-http/pull/3130">#3130</a></li>
</ul>
<h4><a href="#docs" name="docs" class="anchor"><span class="anchor-link"></span></a>docs</h4>
<ul>
  <li>Use typed ActorSystem in examples <a href="https://github.com/akka/akka-http/pull/3242">#3242</a></li>
  <li>Routing DSL style guide <a href="https://github.com/akka/akka-http/pull/3099">#3099</a></li>
  <li>Routing DSL compared with Play routes <a href="https://github.com/akka/akka-http/pull/3979">#3079</a></li>
  <li>Small typo in docs/src/main/paradox/common/marshalling.md <a href="https://github.com/akka/akka-http/pull/2864">#2864</a></li>
  <li>Add warning on usage on extractClientIP <a href="https://github.com/akka/akka-http/pull/2922">#2922</a></li>
  <li>Show <code>RequestBuilding</code> in client examples <a href="https://github.com/akka/akka-http/pull/2968">#2968</a></li>
  <li>Don&rsquo;t claim that SNI is a security feature <a href="https://github.com/akka/akka-http/pull/3257">#3257</a></li>
  <li>Update documentation and examples to Akka 2.6 <a href="https://github.com/akka/akka-http/pull/2996">#2996</a></li>
  <li>Link to major/minor Akka docs <a href="https://github.com/akka/akka-http/pull/3048">#3048</a></li>
  <li>Actor interop Java example <a href="https://github.com/akka/akka-http/pull/3078">#3078</a></li>
  <li>Make Case class extraction example work with 2.13 <a href="https://github.com/akka/akka-http/pull/3092">#3092</a></li>
  <li>Fix more Scala 2.13 warnings <a href="https://github.com/akka/akka-http/pull/3130">#3130</a></li>
  <li>Update extractClientIP.md wrt <code>remote-address-attribute</code> <a href="https://github.com/akka/akka-http/pull/3083">#3083</a></li>
  <li>Make <code>HttpServerWithActorsSample</code> more 2.6-style <a href="https://github.com/akka/akka-http/pull/3077">#3077</a></li>
  <li>Show symbolic Akka version for dependencies <a href="https://github.com/akka/akka-http/pull/3121">#3121</a></li>
  <li>Support native ALPN in JDK &gt;=8u251 <a href="https://github.com/akka/akka-http/pull/3117">#3117</a></li>
  <li>Use automatic root dir resolution for snip and signature <a href="https://github.com/akka/akka-http/pull/3339">#3339</a></li>
  <li>Page about client-side configuration + per-host-overrides <a href="https://github.com/akka/akka-http/pull/3338">#3338</a></li>
  <li>Document and dogfood using the attribute for websockets <a href="https://github.com/akka/akka-http/pull/3358">#3358</a></li>
  <li>Add &lsquo;troubleshooting&rsquo; page, populate with &lsquo;PRI&rsquo; error message <a href="https://github.com/akka/akka-http/pull/3384">#3384</a></li>
</ul>
<h4><a href="#akka-http2-support" name="akka-http2-support" class="anchor"><span class="anchor-link"></span></a>akka-http2-support</h4>
<ul>
  <li>Initial HTTP/2 client implementation bits <a href="https://github.com/akka/akka-http/pull/3166">#3166</a></li>
  <li>Potential fix for idle timeouts in HTTP/2 <a href="https://github.com/akka/akka-http/pull/2776">#2776</a></li>
  <li>Frame parsing: improve handling of unknown values <a href="https://github.com/akka/akka-http/pull/3101">#3101</a></li>
  <li>Support native ALPN in JDK &gt;=8u251 <a href="https://github.com/akka/akka-http/pull/3117">#3117</a></li>
  <li>Fix HeaderCompression updating table size without giving notice to peer <a href="https://github.com/akka/akka-http/pull/2891">#2891</a></li>
  <li>Reduce HTTP/2 buffer debug logging <a href="https://github.com/akka/akka-http/pull/3025">#3025</a></li>
  <li>Accept RST on an already-half-closed HTTP/2 stream <a href="https://github.com/akka/akka-http/pull/2976">#2976</a></li>
  <li>Gracefully discard unsupported h2 SETTINGS <a href="https://github.com/akka/akka-http/pull/3053">#3053</a></li>
  <li>Make the HTTP/2 Stream ID an attribute <a href="https://github.com/akka/akka-http/pull/3224">#3224</a></li>
</ul>
<h4><a href="#akka-http-caching" name="akka-http-caching" class="anchor"><span class="anchor-link"></span></a>akka-http-caching</h4>
<ul>
  <li>Harden ExpiringLfuCacheSpec <a href="https://github.com/akka/akka-http/pull/2960">#2960</a></li>
</ul>
<h4><a href="#build" name="build" class="anchor"><span class="anchor-link"></span></a>build</h4>
<ul>
  <li>Fix project-info links to API docs <a href="https://github.com/akka/akka-http/pull/2857">#2857</a></li>
  <li>Drop Scala 2.11 <a href="https://github.com/akka/akka-http/pull/2589">#2589</a></li>
  <li>Build with Scala 2.13 by default <a href="https://github.com/akka/akka-http/pull/3126">#3126</a></li>
  <li>Better diagnostics when validatePullRequest fails weirdly <a href="https://github.com/akka/akka-http/pull/2904">#2904</a></li>
  <li>Test against published snapshots instead of source deps <a href="https://github.com/akka/akka-http/pull/3055">#3055</a></li>
  <li>Enable some fatal warnings for docs <a href="https://github.com/akka/akka-http/pull/3114">#3114</a></li>
  <li>Add sbt-reproducible-builds <a href="https://github.com/akka/akka-http/pull/3165">#3165</a></li>
  <li>Publish docs from travis <a href="https://github.com/akka/akka-http/pull/3328">#3328</a></li>
  <li>Scalafix rules to rewrite to new ServerBuilder API automatically <a href="https://github.com/akka/akka-http/pull/3407">#3407</a></li>
</ul>
</div>
</article>
<div class="row">
<div class="small-12 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="../release-notes/index.html"><i class="icon-prev"></i> <span class="link-prev">0. Release Notes</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="../release-notes/10.1.x.html">10.1.x Release Notes <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>
<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/akka/akka-http/tree/v10.2.9/docs/src/main/paradox/release-notes/10.2.x.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>

<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="../images/akka-icon.svg" />
<section class="copyright">
<div>Akka HTTP is Open Source and available under the Apache 2 License.</div>
<p class="legal">
&copy; 2011-2022 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> |
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> |
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> |
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> |
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> |
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>

</footer>
</section>
</main>
</div>

<script type="text/javascript" src="../js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/snippets.js"></script>
<script type="text/javascript" src="../js/magellan.js"></script>
<script type="text/javascript" src="../js/metadata-toggle.js"></script>
<script type="text/javascript" src="../js/lbHeader.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(){window.prettyPrint && prettyPrint()});
//]]></script>
<!-- Algolia docs search -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<style>.algolia-autocomplete { display: block !important }</style>
<script type="text/javascript">
docsearch({
apiKey: '0ccbb8bf5148554a406fbf07df0a93b9',
indexName: 'akka-http',
inputSelector: '#search',
algoliaOptions: {
hitsPerPage: 5
}
});

docsearch({
apiKey: '0ccbb8bf5148554a406fbf07df0a93b9',
indexName: 'akka-http',
inputSelector: '#overlay-search',
algoliaOptions: {
hitsPerPage: 5
}
});

// set up "/" as global shortcut for focusing on search
jQuery(document).keypress(function (event) {
if (event.keyCode == 47) {
jQuery("#search").focus();
return false; // swallow key event, otherwise the / char would be input into the search box
}
});
</script>

<script type="text/javascript" src="../assets/js/warnOldDocs.js"></script>
<script type="text/javascript" src="../assets/js/scrollToFragment.js"></script>


</body>
</html>
