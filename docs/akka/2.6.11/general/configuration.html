<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Configuration &bull; Akka Documentation</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Akka is a toolkit for building highly concurrent, distributed, and resilient message-driven applications for Java and Scala."/>
<link rel="canonical" href="https://doc.akka.io/docs/akka/current/general/configuration.html"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="../css/icons.css"/>
<link rel="stylesheet" type="text/css" href="../css/page-7.css"/>
<link rel="stylesheet" type="text/css" href="../css/banner-1.css"/>
<link rel="shortcut icon" href="../images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png"/>
<link rel="manifest" href="../images/manifest.json"/>
<meta name="msapplication-TileImage" content="../images/mstile-150x150.png"/>
<meta name="msapplication-TileColor" content="#15a9ce"/>
<meta name="theme-color" content="#15a9ce"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://optanon.blob.core.windows.net/consent/159bb13d-6748-4399-806e-ac28db879785.js" type="text/javascript" charset="UTF-8"></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-21117439-1']);
_gaq.push(['_setDomainName', 'akka.io']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-2">
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KBJGH35');
</script>
<!--Marketo-->
<script type="text/plain" class="optanon-category-3">
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702', { 'asyncOnly': true, 'disableClickDelay': true });
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '//munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
</head>

<body id="underlay" data-toggler="nav-open">
<div id="lightbend-banner" class="lightbend-banner akka full-width" data-category="OSS Lightbend Banner Impression" data-label="Akka Banner Impression">
<div class="wrapper">
<div class="brand">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Lightbend Logo - Akka Banner" href="https://www.lightbend.com?r=oss-banner-akka" target="_blank">
<img class="lightbend-logo" src="../images/banner-logos/lightbend-reverse.svg" alt="Lightbend" title="Lightbend">
</a>
</div>
<div class="nav">
<a class="banner-btn oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Enhance your Akka systems with Akka Platform [Button] - Akka Banner" href="https://www.lightbend.com/akka-platform?r=oss-banner-akka" target="_blank">
<span>Enhance your Akka systems with</span>
<img class="akka-platform-reverse-logo" src="../images/banner-logos/akka-platform-reverse.svg" alt="Akka Platform" title="Akka Platform">
</a>
<div class="drop-down">
<svg class="svg-chevon-circle-down" version="1.1" id="Chevron_circled_down" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<path fill="#ffffff" d="M12.505,8.698L10,11L7.494,8.698c-0.198-0.196-0.518-0.196-0.718,0c-0.197,0.196-0.197,0.515,0,0.71l2.864,2.807
c0.199,0.196,0.52,0.196,0.717,0l2.864-2.807c0.199-0.195,0.198-0.514,0-0.71C13.024,8.502,12.704,8.502,12.505,8.698z M10,0.4
c-5.302,0-9.6,4.298-9.6,9.6c0,5.303,4.298,9.6,9.6,9.6s9.6-4.297,9.6-9.6C19.6,4.698,15.302,0.4,10,0.4z M10,18.354
c-4.615,0-8.354-3.74-8.354-8.354c0-4.614,3.739-8.354,8.354-8.354c4.613,0,8.354,3.74,8.354,8.354
C18.354,14.614,14.613,18.354,10,18.354z" />
</svg>
<div class="drop-down-content">
<div class="lightbend-family">
<a href="https://cloudflow.io" class="cloudflow oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Cloudflow - Logo Tag Line - Akka Banner">
<img class="cloudflow-full-color-logo" src="../images/banner-logos/cloudflow-full-color.svg" alt="Cloudflow by Lightbend" title="Cloudflow by Lightbend">
</a>
<a href="https://cloudstate.io" class="cloudstate oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Cloudstate - Logo Tag Line - Akka Banner">
<img class="cloudstate-full-color-logo" src="../images/banner-logos/cloudstate-full-color.svg" alt="Cloudstate by Lightbend" title="Cloudstate by Lightbend">
</a>
<a href="https://www.lagomframework.com" class="lagom oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Lagom - Logo Tag Line - Akka Banner">
<img class="lagom-full-color-logo" src="../images/banner-logos/lagom-full-color.svg" alt="Lagom Framework by Lightbend" title="Lagom Framework by Lightbend">
</a>
<a href="https://www.playframework.com" class="play oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Play - Logo Tag Line - Akka Banner">
<img class="play-full-color-logo" src="../images/banner-logos/play-full-color.svg" alt="Play Framework by Lightbend" title="Play Framework by Lightbend">
</a>
<a href="https://www.scala-lang.org" class="scala oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Scala - Logo Tag Line - Akka Banner">
<img class="scala-full-color-logo" src="../images/banner-logos/scala-full-color.svg" alt="Scala by Lightbend" title="Scala by Lightbend">
</a>
<div class="akka current">
<img class="akka-full-color-logo" src="../images/banner-logos/akka-full-color.svg" alt="Akka by Lightbend" title="Akka by Lightbend">
<span>From the creators of <strong>Akka</strong>, get technology enhancements, monitoring, and expert support with Akka Platform from Lightbend.</span>
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Learn More [Button] - Akka Banner" href="https://www.lightbend.com/akka-platform?r=oss-banner-akka" target="_blank">Learn More</a>
</div>
</div>
<div class="title">The Lightbend Family</div>
</div>      
</div>
</div>
</div>
</div>

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="https://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka Documentation</a></h1>
</div>
<div class="nav-header-version">
Version 2.6.11
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div id="overlay-search-container" class="nav-header-search">
<input id="overlay-search" type="search" class="search" placeholder="Search" />
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="../security/index.html" class="page">Security Announcements</a></li>
  <li><a href="../typed/guide/index.html" class="page">Getting Started Guide</a></li>
  <li><a href="../general/index.html" class="page">General Concepts</a>
  <ul>
    <li><a href="../general/terminology.html" class="page">Terminology, Concepts</a></li>
    <li><a href="../general/actor-systems.html" class="page">Actor Systems</a></li>
    <li><a href="../general/actors.html" class="page">What is an Actor?</a></li>
    <li><a href="../general/supervision.html" class="page">Supervision and Monitoring</a></li>
    <li><a href="../general/addressing.html" class="page">Actor References, Paths and Addresses</a></li>
    <li><a href="../general/remoting.html" class="page">Location Transparency</a></li>
    <li><a href="../general/jmm.html" class="page">Akka and the Java Memory Model</a></li>
    <li><a href="../general/message-delivery-reliability.html" class="page">Message Delivery Reliability</a></li>
    <li><a href="../general/configuration.html#configuration" class="active page">Configuration</a>
    <ul>
      <li><a href="../general/configuration.html#where-configuration-is-read-from" class="header">Where configuration is read from</a></li>
      <li><a href="../general/configuration.html#when-using-jarjar-onejar-assembly-or-any-jar-bundler" class="header">When using JarJar, OneJar, Assembly or any jar-bundler</a></li>
      <li><a href="../general/configuration.html#custom-application-conf" class="header">Custom application.conf</a></li>
      <li><a href="../general/configuration.html#including-files" class="header">Including files</a></li>
      <li><a href="../general/configuration.html#logging-of-configuration" class="header">Logging of Configuration</a></li>
      <li><a href="../general/configuration.html#a-word-about-classloaders" class="header">A Word About ClassLoaders</a></li>
      <li><a href="../general/configuration.html#application-specific-settings" class="header">Application specific settings</a></li>
      <li><a href="../general/configuration.html#configuring-multiple-actorsystem" class="header">Configuring multiple ActorSystem</a></li>
      <li><a href="../general/configuration.html#reading-configuration-from-a-custom-location" class="header">Reading configuration from a custom location</a></li>
      <li><a href="../general/configuration.html#listing-of-the-reference-configuration" class="header">Listing of the Reference Configuration</a></li>
    </ul></li>
    <li><a href="../general/configuration-reference.html" class="page">Default configuration</a></li>
  </ul></li>
  <li><a href="../typed/index.html" class="page">Actors</a></li>
  <li><a href="../typed/index-cluster.html" class="page">Cluster</a></li>
  <li><a href="../typed/index-persistence.html" class="page">Persistence</a></li>
  <li><a href="../stream/index.html" class="page">Streams</a></li>
  <li><a href="../discovery/index.html" class="page">Discovery</a></li>
  <li><a href="../index-utilities.html" class="page">Utilities</a></li>
  <li><a href="../common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="../additional/deploy.html" class="page">Package, Deploy and Run</a></li>
  <li><a href="../project/index.html" class="page">Project Information</a></li>
  <li><a href="../index-classic.html" class="page">Akka Classic</a></li>
</ul>
</nav>
</div>
</header>
<div class="site-content-wrapper">
<aside class="sticky-sidebar show-for-large">
<header class="nav-header sticky-sidebar-header">
<div class="nav-header-title">
<h1><a href="../index.html">Akka Documentation</a></h1>
</div>
<div class="nav-header-version">
Version 2.6.11
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div class="nav-header-search">
<input id="search" type="search" class="search" placeholder="Search" />
</div>
</header>
<nav class="site-nav sticky-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="../security/index.html" class="page">Security Announcements</a></li>
  <li><a href="../typed/guide/index.html" class="page">Getting Started Guide</a></li>
  <li><a href="../general/index.html" class="page">General Concepts</a>
  <ul>
    <li><a href="../general/terminology.html" class="page">Terminology, Concepts</a></li>
    <li><a href="../general/actor-systems.html" class="page">Actor Systems</a></li>
    <li><a href="../general/actors.html" class="page">What is an Actor?</a></li>
    <li><a href="../general/supervision.html" class="page">Supervision and Monitoring</a></li>
    <li><a href="../general/addressing.html" class="page">Actor References, Paths and Addresses</a></li>
    <li><a href="../general/remoting.html" class="page">Location Transparency</a></li>
    <li><a href="../general/jmm.html" class="page">Akka and the Java Memory Model</a></li>
    <li><a href="../general/message-delivery-reliability.html" class="page">Message Delivery Reliability</a></li>
    <li><a href="../general/configuration.html#configuration" class="active page">Configuration</a>
    <ul>
      <li><a href="../general/configuration.html#where-configuration-is-read-from" class="header">Where configuration is read from</a></li>
      <li><a href="../general/configuration.html#when-using-jarjar-onejar-assembly-or-any-jar-bundler" class="header">When using JarJar, OneJar, Assembly or any jar-bundler</a></li>
      <li><a href="../general/configuration.html#custom-application-conf" class="header">Custom application.conf</a></li>
      <li><a href="../general/configuration.html#including-files" class="header">Including files</a></li>
      <li><a href="../general/configuration.html#logging-of-configuration" class="header">Logging of Configuration</a></li>
      <li><a href="../general/configuration.html#a-word-about-classloaders" class="header">A Word About ClassLoaders</a></li>
      <li><a href="../general/configuration.html#application-specific-settings" class="header">Application specific settings</a></li>
      <li><a href="../general/configuration.html#configuring-multiple-actorsystem" class="header">Configuring multiple ActorSystem</a></li>
      <li><a href="../general/configuration.html#reading-configuration-from-a-custom-location" class="header">Reading configuration from a custom location</a></li>
      <li><a href="../general/configuration.html#listing-of-the-reference-configuration" class="header">Listing of the Reference Configuration</a></li>
    </ul></li>
    <li><a href="../general/configuration-reference.html" class="page">Default configuration</a></li>
  </ul></li>
  <li><a href="../typed/index.html" class="page">Actors</a></li>
  <li><a href="../typed/index-cluster.html" class="page">Cluster</a></li>
  <li><a href="../typed/index-persistence.html" class="page">Persistence</a></li>
  <li><a href="../stream/index.html" class="page">Streams</a></li>
  <li><a href="../discovery/index.html" class="page">Discovery</a></li>
  <li><a href="../index-utilities.html" class="page">Utilities</a></li>
  <li><a href="../common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="../additional/deploy.html" class="page">Package, Deploy and Run</a></li>
  <li><a href="../project/index.html" class="page">Project Information</a></li>
  <li><a href="../index-classic.html" class="page">Akka Classic</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer sticky-sidebar-footer">
<a href="https://akka.io"><img class="logo" src="../images/akka-logo-reverse.svg"/></a>

</footer>
</aside>
<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">
<article class="page-content row">
<div class="small-12 column" id="docs">
<h1><a href="#configuration" name="configuration" class="anchor"><span class="anchor-link"></span></a>Configuration</h1>
<p>You can start using Akka without defining any configuration, since sensible default values are provided. Later on you might need to amend the settings to change the default behavior or adapt for specific runtime environments. Typical examples of settings that you might amend:</p>
<ul>
  <li><a href="../typed/logging.html">log level and logger backend</a></li>
  <li><a href="../typed/cluster.html">enable Cluster</a></li>
  <li><a href="../serialization.html">message serializers</a></li>
  <li><a href="../typed/dispatchers.html">tuning of dispatchers</a></li>
</ul>
<p>Akka uses the <a href="https://github.com/lightbend/config">Typesafe Config Library</a>, which might also be a good choice for the configuration of your own application or library built with or without Akka. This library is implemented in Java with no external dependencies; This is only a summary of the most important parts for more details see <a href="https://github.com/lightbend/config/blob/master/README.md">the config library docs</a>.</p>
<h2><a href="#where-configuration-is-read-from" name="where-configuration-is-read-from" class="anchor"><span class="anchor-link"></span></a>Where configuration is read from</h2>
<p>All configuration for Akka is held within instances of <code>ActorSystem</code>, or put differently, as viewed from the outside, <code>ActorSystem</code> is the only consumer of configuration information. While constructing an actor system, you can either pass in a <code>Config</code> object or not, where the second case is equivalent to passing <code>ConfigFactory.load()</code> (with the right class loader). This means roughly that the default is to parse all <code>application.conf</code>, <code>application.json</code> and <code>application.properties</code> found at the root of the class path—please refer to the aforementioned documentation for details. The actor system then merges in all <code>reference.conf</code> resources found at the root of the class path to form the fallback configuration, i.e. it internally uses</p>
<pre class="prettyprint"><code class="language-scala">appConfig.withFallback(ConfigFactory.defaultReference(classLoader))
</code></pre>
<p>The philosophy is that code never contains default values, but instead relies upon their presence in the <code>reference.conf</code> supplied with the library in question.</p>
<p>Highest precedence is given to overrides given as system properties, see <a href="https://github.com/typesafehub/config/blob/master/HOCON.md">the HOCON specification</a> (near the bottom). Also noteworthy is that the application configuration—which defaults to <code>application</code>—may be overridden using the <code>config.resource</code> property (there are more, please refer to the <a href="https://github.com/typesafehub/config/blob/master/README.md">Config docs</a>).</p><div class="callout note "><div class="callout-title">Note</div>
<p>If you are writing an Akka application, keep your configuration in <code>application.conf</code> at the root of the class path. If you are writing an Akka-based library, keep its configuration in <code>reference.conf</code> at the root of the JAR file. It&rsquo;s not supported to override a config property owned by one library in a <code>reference.conf</code> of another library.</p></div>
<h2><a href="#when-using-jarjar-onejar-assembly-or-any-jar-bundler" name="when-using-jarjar-onejar-assembly-or-any-jar-bundler" class="anchor"><span class="anchor-link"></span></a>When using JarJar, OneJar, Assembly or any jar-bundler</h2><div class="callout warning "><div class="callout-title">Warning</div>
<p>Akka&rsquo;s configuration approach relies heavily on the notion of every module/jar having its own <code>reference.conf</code> file. All of these will be discovered by the configuration and loaded. Unfortunately this also means that if you put/merge multiple jars into the same jar, you need to merge all the <code>reference.conf</code> files as well: otherwise all defaults will be lost.</p></div>
<p>See the <a href="../additional/deploy.html">deployment documentation</a> for information on how to merge the <code>reference.conf</code> resources while bundling.</p>
<h2><a href="#custom-application-conf" name="custom-application-conf" class="anchor"><span class="anchor-link"></span></a>Custom application.conf</h2>
<p>A custom <code>application.conf</code> might look like this:</p>
<pre><code># In this file you can override any option defined in the reference files.
# Copy in parts of the reference files and modify as you please.

akka {

  # Logger config for Akka internals and classic actors, the new API relies
  # directly on SLF4J and your config for the logger backend.

  # Loggers to register at boot time (akka.event.Logging$DefaultLogger logs
  # to STDOUT)
  loggers = [&quot;akka.event.slf4j.Slf4jLogger&quot;]

  # Log level used by the configured loggers (see &quot;loggers&quot;) as soon
  # as they have been started; before that, see &quot;stdout-loglevel&quot;
  # Options: OFF, ERROR, WARNING, INFO, DEBUG
  loglevel = &quot;DEBUG&quot;

  # Log level for the very basic logger activated during ActorSystem startup.
  # This logger prints the log messages to stdout (System.out).
  # Options: OFF, ERROR, WARNING, INFO, DEBUG
  stdout-loglevel = &quot;DEBUG&quot;

  # Filter of log events that is used by the LoggingAdapter before
  # publishing log events to the eventStream.
  logging-filter = &quot;akka.event.slf4j.Slf4jLoggingFilter&quot;

  actor {
    provider = &quot;cluster&quot;

    default-dispatcher {
      # Throughput for default Dispatcher, set to 1 for as fair as possible
      throughput = 10
    }
  }

  remote.artery {
    # The port clients should connect to.
    canonical.port = 4711
  }
}
</code></pre>
<h2><a href="#including-files" name="including-files" class="anchor"><span class="anchor-link"></span></a>Including files</h2>
<p>Sometimes it can be useful to include another configuration file, for example if you have one <code>application.conf</code> with all environment independent settings and then override some settings for specific environments.</p>
<p>Specifying system property with <code>-Dconfig.resource=/dev.conf</code> will load the <code>dev.conf</code> file, which includes the <code>application.conf</code></p>
<h3><a href="#dev-conf" name="dev-conf" class="anchor"><span class="anchor-link"></span></a>dev.conf</h3>
<pre><code>include &quot;application&quot;

akka {
  loglevel = &quot;DEBUG&quot;
}
</code></pre>
<p>More advanced include and substitution mechanisms are explained in the <a href="https://github.com/typesafehub/config/blob/master/HOCON.md">HOCON</a> specification.</p>
<a id="dakka-log-config-on-start"></a>
<h2><a href="#logging-of-configuration" name="logging-of-configuration" class="anchor"><span class="anchor-link"></span></a>Logging of Configuration</h2>
<p>If the system or config property <code>akka.log-config-on-start</code> is set to <code>on</code>, then the complete configuration is logged at INFO level when the actor system is started. This is useful when you are uncertain of what configuration is used.</p><div class="group-scala">
<p>If in doubt, you can inspect your configuration objects before or after using them to construct an actor system:</p>
<pre><code>Welcome to Scala 2.12 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0).
Type in expressions to have them evaluated.
Type :help for more information.

scala&gt; import com.typesafe.config._
import com.typesafe.config._

scala&gt; ConfigFactory.parseString(&quot;a.b=12&quot;)
res0: com.typesafe.config.Config = Config(SimpleConfigObject({&quot;a&quot; : {&quot;b&quot; : 12}}))

scala&gt; res0.root.render
res1: java.lang.String =
{
    # String: 1
    &quot;a&quot; : {
        # String: 1
        &quot;b&quot; : 12
    }
}
</code></pre></div>
<p>The comments preceding every item give detailed information about the origin of the setting (file &amp; line number) plus possible comments which were present, e.g. in the reference configuration. The settings as merged with the reference and parsed by the actor system can be displayed like this:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka/tree/v2.6.11/akka-docs/src/test/scala/docs/config/ConfigDocSpec.scala#L33-L34" target="_blank" title="Go to snippet source"></a><code class="language-scala">val system = ActorSystem(rootBehavior, &quot;MySystem&quot;)
system.logConfiguration()</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka/tree/v2.6.11/akka-docs/src/test/java/jdocs/config/ConfigDocTest.java#L35-L36" target="_blank" title="Go to snippet source"></a><code class="language-java">ActorSystem&lt;Void&gt; system = ActorSystem.create(rootBehavior, &quot;MySystem&quot;);
system.logConfiguration();</code></pre></dd>
</dl>
<h2><a href="#a-word-about-classloaders" name="a-word-about-classloaders" class="anchor"><span class="anchor-link"></span></a>A Word About ClassLoaders</h2>
<p>In several places of the configuration file it is possible to specify the fully-qualified class name of something to be instantiated by Akka. This is done using Java reflection, which in turn uses a <code>ClassLoader</code>. Getting the right one in challenging environments like application containers or OSGi bundles is not always trivial, the current approach of Akka is that each <code>ActorSystem</code> implementation stores the current thread’s context class loader (if available, otherwise just its own loader as in <code>this.getClass.getClassLoader</code>) and uses that for all reflective accesses. This implies that putting Akka on the boot class path will yield <code>NullPointerException</code> from strange places: this is not supported.</p>
<h2><a href="#application-specific-settings" name="application-specific-settings" class="anchor"><span class="anchor-link"></span></a>Application specific settings</h2>
<p>The configuration can also be used for application specific settings. A good practice is to place those settings in an <a href="../extending-akka.html#extending-akka-settings">Extension</a>. </p>
<h2><a href="#configuring-multiple-actorsystem" name="configuring-multiple-actorsystem" class="anchor"><span class="anchor-link"></span></a>Configuring multiple ActorSystem</h2>
<p>If you have more than one <code>ActorSystem</code> (or you&rsquo;re writing a library and have an <code>ActorSystem</code> that may be separate from the application&rsquo;s) you may want to separate the configuration for each system.</p>
<p>Given that <code>ConfigFactory.load()</code> merges all resources with matching name from the whole class path, it is easiest to utilize that functionality and differentiate actor systems within the hierarchy of the configuration:</p>
<pre><code>myapp1 {
  akka.loglevel = &quot;WARNING&quot;
  my.own.setting = 43
}
myapp2 {
  akka.loglevel = &quot;ERROR&quot;
  app2.setting = &quot;appname&quot;
}
my.own.setting = 42
my.other.setting = &quot;hello&quot;
</code></pre>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka/tree/v2.6.11/akka-docs/src/test/scala/docs/config/ConfigDocSpec.scala#L40-L42" target="_blank" title="Go to snippet source"></a><code class="language-scala">val config = ConfigFactory.load()
val app1 = ActorSystem(rootBehavior, &quot;MyApp1&quot;, config.getConfig(&quot;myapp1&quot;).withFallback(config))
val app2 = ActorSystem(rootBehavior, &quot;MyApp2&quot;, config.getConfig(&quot;myapp2&quot;).withOnlyPath(&quot;akka&quot;).withFallback(config))</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka/tree/v2.6.11/akka-docs/src/test/java/jdocs/config/ConfigDocTest.java#L42-L49" target="_blank" title="Go to snippet source"></a><code class="language-java">Config config = ConfigFactory.load();
ActorSystem&lt;Void&gt; app1 =
    ActorSystem.create(rootBehavior, &quot;MyApp1&quot;, config.getConfig(&quot;myapp1&quot;).withFallback(config));
ActorSystem&lt;Void&gt; app2 =
    ActorSystem.create(
        rootBehavior,
        &quot;MyApp2&quot;,
        config.getConfig(&quot;myapp2&quot;).withOnlyPath(&quot;akka&quot;).withFallback(config));</code></pre></dd>
</dl>
<p>These two samples demonstrate different variations of the “lift-a-subtree” trick: in the first case, the configuration accessible from within the actor system is this</p>
<pre class="prettyprint"><code class="language-ruby">akka.loglevel = &quot;WARNING&quot;
my.own.setting = 43
my.other.setting = &quot;hello&quot;
// plus myapp1 and myapp2 subtrees
</code></pre>
<p>while in the second one, only the “akka” subtree is lifted, with the following result</p>
<pre class="prettyprint"><code class="language-ruby">akka.loglevel = &quot;ERROR&quot;
my.own.setting = 42
my.other.setting = &quot;hello&quot;
// plus myapp1 and myapp2 subtrees
</code></pre><div class="callout note "><div class="callout-title">Note</div>
<p>The configuration library is really powerful, explaining all features exceeds the scope affordable here. In particular not covered are how to include other configuration files within other files (see a small example at <a href="#including-files">Including files</a>) and copying parts of the configuration tree by way of path substitutions.</p></div>
<p>You may also specify and parse the configuration programmatically in other ways when instantiating the <code>ActorSystem</code>.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka/tree/v2.6.11/akka-docs/src/test/scala/docs/config/ConfigDocSpec.scala#L13-L14" target="_blank" title="Go to snippet source"></a><code class="language-scala">import akka.actor.typed.ActorSystem
import com.typesafe.config.ConfigFactory
val customConf = ConfigFactory.parseString(&quot;&quot;&quot;
  akka.log-config-on-start = on
&quot;&quot;&quot;)
// ConfigFactory.load sandwiches customConfig between default reference
// config and default overrides, and then resolves it.
val system = ActorSystem(rootBehavior, &quot;MySystem&quot;, ConfigFactory.load(customConf))</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka/tree/v2.6.11/akka-docs/src/test/java/jdocs/config/ConfigDocTest.java#L8-L13" target="_blank" title="Go to snippet source"></a><code class="language-java">import akka.actor.typed.ActorSystem;
import akka.actor.typed.Behavior;
import akka.actor.typed.javadsl.Behaviors;
import com.typesafe.config.Config;
import com.typesafe.config.ConfigFactory;

Config customConf = ConfigFactory.parseString(&quot;akka.log-config-on-start = on&quot;);
// ConfigFactory.load sandwiches customConfig between default reference
// config and default overrides, and then resolves it.
ActorSystem&lt;Void&gt; system =
    ActorSystem.create(rootBehavior, &quot;MySystem&quot;, ConfigFactory.load(customConf));</code></pre></dd>
</dl>
<h2><a href="#reading-configuration-from-a-custom-location" name="reading-configuration-from-a-custom-location" class="anchor"><span class="anchor-link"></span></a>Reading configuration from a custom location</h2>
<p>You can replace or supplement <code>application.conf</code> either in code or using system properties.</p>
<p>If you&rsquo;re using <code>ConfigFactory.load()</code> (which Akka does by default) you can replace <code>application.conf</code> by defining <code>-Dconfig.resource=whatever</code>, <code>-Dconfig.file=whatever</code>, or <code>-Dconfig.url=whatever</code>.</p>
<p>From inside your replacement file specified with <code>-Dconfig.resource</code> and friends, you can <code>include
&quot;application&quot;</code> if you still want to use <code>application.{conf,json,properties}</code> as well. Settings specified before <code>include &quot;application&quot;</code> would be overridden by the included file, while those after would override the included file.</p>
<p>In code, there are many customization options.</p>
<p>There are several overloads of <code>ConfigFactory.load()</code>; these allow you to specify something to be sandwiched between system properties (which override) and the defaults (from <code>reference.conf</code>), replacing the usual <code>application.{conf,json,properties}</code> and replacing <code>-Dconfig.file</code> and friends.</p>
<p>The simplest variant of <code>ConfigFactory.load()</code> takes a resource basename (instead of <code>application</code>); <code>myname.conf</code>, <code>myname.json</code>, and <code>myname.properties</code> would then be used instead of <code>application.{conf,json,properties}</code>.</p>
<p>The most flexible variant takes a <code>Config</code> object, which you can load using any method in <code>ConfigFactory</code>. For example you could put a config string in code using <code>ConfigFactory.parseString()</code> or you could make a map and <code>ConfigFactory.parseMap()</code>, or you could load a file.</p>
<p>You can also combine your custom config with the usual config, that might look like:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka/tree/v2.6.11/akka-docs/src/test/scala/docs/config/ConfigDocSpec.scala#L48-L59" target="_blank" title="Go to snippet source"></a><code class="language-scala">// make a Config with just your special setting
val myConfig = ConfigFactory.parseString(&quot;something=somethingElse&quot;);
// load the normal config stack (system props,
// then application.conf, then reference.conf)
val regularConfig = ConfigFactory.load();
// override regular stack with myConfig
val combined = myConfig.withFallback(regularConfig);
// put the result in between the overrides
// (system props) and defaults again
val complete = ConfigFactory.load(combined);
// create ActorSystem
val system = ActorSystem(rootBehavior, &quot;myname&quot;, complete);</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka/tree/v2.6.11/akka-docs/src/test/java/jdocs/config/ConfigDocTest.java#L55-L66" target="_blank" title="Go to snippet source"></a><code class="language-java">// make a Config with just your special setting
Config myConfig = ConfigFactory.parseString(&quot;something=somethingElse&quot;);
// load the normal config stack (system props,
// then application.conf, then reference.conf)
Config regularConfig = ConfigFactory.load();
// override regular stack with myConfig
Config combined = myConfig.withFallback(regularConfig);
// put the result in between the overrides
// (system props) and defaults again
Config complete = ConfigFactory.load(combined);
// create ActorSystem
ActorSystem system = ActorSystem.create(rootBehavior, &quot;myname&quot;, complete);</code></pre></dd>
</dl>
<p>When working with <code>Config</code> objects, keep in mind that there are three &ldquo;layers&rdquo; in the cake:</p>
<ul>
  <li><code>ConfigFactory.defaultOverrides()</code> (system properties)</li>
  <li>the app&rsquo;s settings</li>
  <li><code>ConfigFactory.defaultReference()</code> (reference.conf)</li>
</ul>
<p>The normal goal is to customize the middle layer while leaving the other two alone.</p>
<ul>
  <li><code>ConfigFactory.load()</code> loads the whole stack</li>
  <li>the overloads of <code>ConfigFactory.load()</code> let you specify a different middle layer</li>
  <li>the <code>ConfigFactory.parse()</code> variations load single files or resources</li>
</ul>
<p>To stack two layers, use <code>override.withFallback(fallback)</code>; try to keep system props (<code>defaultOverrides()</code>) on top and <code>reference.conf</code> (<code>defaultReference()</code>) on the bottom.</p>
<p>Do keep in mind, you can often just add another <code>include</code> statement in <code>application.conf</code> rather than writing code. Includes at the top of <code>application.conf</code> will be overridden by the rest of <code>application.conf</code>, while those at the bottom will override the earlier stuff.</p>
<h2><a href="#listing-of-the-reference-configuration" name="listing-of-the-reference-configuration" class="anchor"><span class="anchor-link"></span></a>Listing of the Reference Configuration</h2>
<p>Each Akka module has a reference configuration file with the default values. Those <code>reference.conf</code> files are listed in <a href="configuration-reference.html">Default configuration</a></p>
</div>
</article>
<div class="row">
<div class="small-12 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="../general/message-delivery-reliability.html"><i class="icon-prev"></i> <span class="link-prev">Message Delivery Reliability</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="../general/configuration-reference.html">Default configuration <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>
<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/akka/akka/tree/v2.6.11/akka-docs/src/main/paradox/general/configuration.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>

<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="../images/akka-icon.svg" />
<section class="copyright">
<div>Akka is Open Source and available under the Apache 2 License.</div>
<p class="legal">
&copy; 2011-2021 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> |
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> |
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> |
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> |
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> |
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>

</footer>
</section>
</main>
</div>

<script type="text/javascript" src="../js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/groups.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/magellan.js"></script>
<script type="text/javascript" src="../js/metadata-toggle.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(){window.prettyPrint && prettyPrint()});
//]]></script>
<!-- Algolia docs search -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<style>.algolia-autocomplete { display: block !important }</style>
<script type="text/javascript">
docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#search',
algoliaOptions: {
hitsPerPage: 5
}
});

docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#overlay-search',
algoliaOptions: {
hitsPerPage: 5
}
});

// set up "/" as global shortcut for focusing on search
jQuery(document).keypress(function (event) {
if (event.keyCode == 47) {
jQuery("#search").focus();
return false; // swallow key event, otherwise the / char would be input into the search box
}
});
</script>

<script type="text/javascript" src="../assets/js/warnOldDocs.js"></script>
<script type="text/javascript" src="../assets/js/scalafiddle.js"></script>


</body>
</html>
