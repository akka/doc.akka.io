<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Testing &bull; Akka Documentation</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Akka is a toolkit for building highly concurrent, distributed, and resilient message-driven applications for Java and Scala."/>
<link rel="canonical" href="https://doc.akka.io/docs/akka/current/testing-typed.html"/>
<script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="css/icons.css"/>
<link rel="stylesheet" type="text/css" href="css/page.css"/>
<link rel="shortcut icon" href="images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
<link rel="manifest" href="images/manifest.json">
<meta name="msapplication-TileImage" content="images/mstile-150x150.png">
<meta name="msapplication-TileColor" content="#15a9ce">
<meta name="theme-color" content="#15a9ce">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!--Google Analytics-->
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-21117439-1']);
_gaq.push(['_setDomainName', 'akka.io']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<!--Google Analytics & Marketo-->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-23127719-1', 'lightbend.com', {'allowLinker': true, 'name': 'tsTracker'});
ga('tsTracker.require', 'linker');
ga('tsTracker.linker:autoLink', ['lightbend.com','playframework.com','scala-lang.org','scaladays.org','spray.io','akka.io','scala-sbt.org','scala-ide.org']);
ga('tsTracker.send', 'pageview');
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702');
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '//munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>

</head>

<body id="underlay" data-toggler="nav-open">

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="https://akka.io"><img class="logo" src="images/akka-logo-reverse.svg"></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="index.html">Akka Documentation</a></h1>
</div>
<div class="nav-header-version">
Version 2.5.9
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div id="overlay-search-container" class="nav-header-search">
<input id="overlay-search" type="search" class="search" placeholder="Search"/>
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="security/index.html" class="page">Security Announcements</a></li>
  <li><a href="guide/index.html" class="page">Getting Started Guide</a></li>
  <li><a href="general/index.html" class="page">General Concepts</a></li>
  <li><a href="index-actors.html" class="page">Actors</a></li>
  <li><a href="index-typed.html" class="page">Akka Typed</a>
  <ul>
    <li><a href="actors-typed.html" class="page">Actors</a></li>
    <li><a href="coexisting.html" class="page">Coexistence</a></li>
    <li><a href="fault-tolerance-typed.html" class="page">Fault Tolerance</a></li>
    <li><a href="actor-discovery-typed.html" class="page">Actor discovery</a></li>
    <li><a href="cluster-typed.html" class="page">Cluster</a></li>
    <li><a href="cluster-sharding-typed.html" class="page">Sharding</a></li>
    <li><a href="persistence-typed.html" class="page">Persistence</a></li>
    <li><a href="testing-typed.html#testing" class="active page">Testing</a>
    <ul>
      <li><a href="testing-typed.html#synchronous-behaviour-testing" class="header">Synchronous behaviour testing</a></li>
      <li><a href="testing-typed.html#asynchronous-testing" class="header">Asynchronous testing</a></li>
    </ul></li>
  </ul></li>
  <li><a href="index-cluster.html" class="page">Clustering</a></li>
  <li><a href="stream/index.html" class="page">Streams</a></li>
  <li><a href="index-network.html" class="page">Networking</a></li>
  <li><a href="index-futures.html" class="page">Futures and Agents</a></li>
  <li><a href="index-utilities.html" class="page">Utilities</a></li>
  <li><a href="common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="howto.html" class="page">HowTo: Common Patterns</a></li>
  <li><a href="project/index.html" class="page">Project Information</a></li>
  <li><a href="additional/index.html" class="page">Additional Information</a></li>
</ul>
</nav>
</div>
</header>

<aside class="show-for-large">
<header class="nav-header fixed-sidebar-header">
<div class="nav-header-title">
<h1><a href="index.html">Akka Documentation</a></h1>
</div>
<div class="nav-header-version">
Version 2.5.9
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div class="nav-header-search">
<input id="search" type="search" class="search" placeholder="Search"/>
</div>
</header>
<nav class="site-nav fixed-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="security/index.html" class="page">Security Announcements</a></li>
  <li><a href="guide/index.html" class="page">Getting Started Guide</a></li>
  <li><a href="general/index.html" class="page">General Concepts</a></li>
  <li><a href="index-actors.html" class="page">Actors</a></li>
  <li><a href="index-typed.html" class="page">Akka Typed</a>
  <ul>
    <li><a href="actors-typed.html" class="page">Actors</a></li>
    <li><a href="coexisting.html" class="page">Coexistence</a></li>
    <li><a href="fault-tolerance-typed.html" class="page">Fault Tolerance</a></li>
    <li><a href="actor-discovery-typed.html" class="page">Actor discovery</a></li>
    <li><a href="cluster-typed.html" class="page">Cluster</a></li>
    <li><a href="cluster-sharding-typed.html" class="page">Sharding</a></li>
    <li><a href="persistence-typed.html" class="page">Persistence</a></li>
    <li><a href="testing-typed.html#testing" class="active page">Testing</a>
    <ul>
      <li><a href="testing-typed.html#synchronous-behaviour-testing" class="header">Synchronous behaviour testing</a></li>
      <li><a href="testing-typed.html#asynchronous-testing" class="header">Asynchronous testing</a></li>
    </ul></li>
  </ul></li>
  <li><a href="index-cluster.html" class="page">Clustering</a></li>
  <li><a href="stream/index.html" class="page">Streams</a></li>
  <li><a href="index-network.html" class="page">Networking</a></li>
  <li><a href="index-futures.html" class="page">Futures and Agents</a></li>
  <li><a href="index-utilities.html" class="page">Utilities</a></li>
  <li><a href="common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="howto.html" class="page">HowTo: Common Patterns</a></li>
  <li><a href="project/index.html" class="page">Project Information</a></li>
  <li><a href="additional/index.html" class="page">Additional Information</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer fixed-sidebar-footer">
<a href="https://akka.io"><img class="logo" src="images/akka-logo-reverse.svg"></a>

</footer>
</aside>

<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">

<article class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#testing" name="testing" class="anchor"><span class="anchor-link"></span></a>Testing</h1><div class="callout warning "><div class="callout-title">Warning</div>
<p>This module is currently marked as <a href="common/may-change.html">may change</a> in the sense  of being the subject of active research. This means that API or semantics can  change without warning or deprecation period and it is not recommended to use  this module in production just yetâ€”you have been warned.</p></div>
<p>To use the testkit add the following dependency:</p><dl class="dependency"><dt>sbt</dt><dd><pre class="prettyprint"><code class="language-scala">libraryDependencies += "com.typesafe.akka" %% "akka-testkit-typed" % "2.5.9" % Test</code></pre></dd><dt>Maven</dt><dd><pre class="prettyprint"><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;
  &lt;artifactId&gt;akka-testkit-typed_2.12&lt;/artifactId&gt;
  &lt;version&gt;2.5.9&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre></dd><dt>Gradle</dt><dd><pre class="prettyprint"><code class="language-gradle">dependencies {
  test group: 'com.typesafe.akka', name: 'akka-testkit-typed_2.12', version: '2.5.9'
}</code></pre></dd></dl>
<p>Testing can either be done asynchronously using a real <code>ActorSystem</code> or synchronously on the testing thread using the <code>BehaviousTestKit</code>. </p>
<p>For testing logic in a <code>Behavior</code> in isolation synchronous testing is preferred. For testing interactions between multiple actors a more realistic asynchronous test is preferred. </p>
<p>Certain <code>Behavior</code>s will be hard to test synchronously e.g. if they spawn Future&rsquo;s and you rely on a callback to complete before observing the effect you want to test. Further support for controlling the scheduler and execution context used will be added.</p>
<h2><a href="#synchronous-behaviour-testing" name="synchronous-behaviour-testing" class="anchor"><span class="anchor-link"></span></a>Synchronous behaviour testing</h2>
<p>The following demonstrates how to test:</p>
<ul>
  <li>Spawning child actors</li>
  <li>Spawning child actors anonymously</li>
  <li>Sending a message either as a reply or to another actor</li>
  <li>Sending a message to a child actor</li>
</ul>
<p>The examples below require the following imports:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">import akka.actor.typed._
import akka.actor.typed.scaladsl._
import akka.testkit.typed._
import akka.testkit.typed.Effect._</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">import akka.actor.typed.*;
import akka.actor.typed.javadsl.*;
import akka.testkit.typed.*;</code></pre></dd>
</dl>
<p>Each of the tests are testing an actor that based on the message executes a different effect to be tested:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">sealed trait Cmd
case object CreateAnonymousChild extends Cmd
case class CreateChild(childName: String) extends Cmd
case class SayHelloToChild(childName: String) extends Cmd
case object SayHelloToAnonymousChild extends Cmd
case class SayHello(who: ActorRef[String]) extends Cmd

val myBehaviour = Actor.immutablePartial[Cmd] {
  case (ctx, CreateChild(name)) â‡’
    ctx.spawn(childActor, name)
    Actor.same
  case (ctx, CreateAnonymousChild) â‡’
    ctx.spawnAnonymous(childActor)
    Actor.same
  case (ctx, SayHelloToChild(childName)) â‡’
    val child: ActorRef[String] = ctx.spawn(childActor, childName)
    child ! &quot;hello&quot;
    Actor.same
  case (ctx, SayHelloToAnonymousChild) â‡’
    val child: ActorRef[String] = ctx.spawnAnonymous(childActor)
    child ! &quot;hello stranger&quot;
    Actor.same
  case (_, SayHello(who)) â‡’
    who ! &quot;hello&quot;
    Actor.same</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">interface Command { }
public static class CreateAChild implements Command {
  private final String childName;
  public CreateAChild(String childName) {
    this.childName = childName;
  }
}
public static class CreateAnAnonymousChild implements Command { }
public static class SayHelloToChild implements Command {
  private final String childName;
  public SayHelloToChild(String childName) {
    this.childName = childName;
  }
}
public static class SayHelloToAnonymousChild implements Command { }
public static class SayHello implements Command {
  private final ActorRef&lt;String&gt; who;

  public SayHello(ActorRef&lt;String&gt; who) {
    this.who = who;
  }
}

public static Behavior&lt;Command&gt; myBehaviour = Actor.immutable(Command.class)
  .onMessage(CreateAChild.class, (ctx, msg) -&gt; {
    ctx.spawn(childActor, msg.childName);
    return Actor.same();
  })
  .onMessage(CreateAnAnonymousChild.class, (ctx, msg) -&gt; {
    ctx.spawnAnonymous(childActor);
    return Actor.same();
  })
  .onMessage(SayHelloToChild.class, (ctx, msg) -&gt; {
    ActorRef&lt;String&gt; child = ctx.spawn(childActor, msg.childName);
    child.tell(&quot;hello&quot;);
    return Actor.same();
  })
  .onMessage(SayHelloToAnonymousChild.class, (ctx, msg) -&gt; {
    ActorRef&lt;String&gt; child = ctx.spawnAnonymous(childActor);
    child.tell(&quot;hello stranger&quot;);
    return Actor.same();
  }).onMessage(SayHello.class, (ctx, msg) -&gt; {
    msg.who.tell(&quot;hello&quot;);
    return Actor.same();
  }).build();</code></pre></dd>
</dl>
<p>For creating a child actor a noop actor is created:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">val childActor = Actor.immutable[String] { (_, _) â‡’
  Actor.same[String]
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">public static Behavior&lt;String&gt; childActor = Actor.immutable((ctx, msg) -&gt; Actor.same());</code></pre></dd>
</dl>
<p>All of the tests make use of the <code>BehaviorTestkit</code> to avoid the need for a real <code>ActorContext</code>. Some of the tests make use of the <code>TestInbox</code> which allows the creation of an <code>ActorRef</code> that can be used for synchronous testing, similar to the <code>TestProbe</code> used for asynchronous testing.</p>
<h3><a href="#spawning-children" name="spawning-children" class="anchor"><span class="anchor-link"></span></a>Spawning children</h3>
<p>With a name: </p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">val testKit = BehaviorTestkit(myBehaviour)
testKit.run(CreateChild(&quot;child&quot;))
testKit.expectEffect(Spawned(childActor, &quot;child&quot;))</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">BehaviorTestkit&lt;Command&gt; test = BehaviorTestkit.create(myBehaviour);
test.run(new CreateAChild(&quot;child&quot;));
test.expectEffect(new Effect.Spawned(childActor, &quot;child&quot;, Props.empty()));</code></pre></dd>
</dl>
<p>Anonymously:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">val testKit = BehaviorTestkit(myBehaviour)
testKit.run(CreateAnonymousChild)
testKit.expectEffect(SpawnedAnonymous(childActor))</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">BehaviorTestkit&lt;Command&gt; test = BehaviorTestkit.create(myBehaviour);
test.run(new CreateAnAnonymousChild());
test.expectEffect(new Effect.SpawnedAnonymous(childActor, Props.empty()));</code></pre></dd>
</dl>
<h3><a href="#sending-messages" name="sending-messages" class="anchor"><span class="anchor-link"></span></a>Sending messages</h3>
<p>For testing sending a message a <code>TestInbox</code> is created that provides an <code>ActorRef</code> and methods to assert against the messages that have been sent to it.</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">val testKit = BehaviorTestkit(myBehaviour)
val inbox = TestInbox[String]()
testKit.run(SayHello(inbox.ref))
inbox.expectMsg(&quot;hello&quot;)</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">BehaviorTestkit&lt;Command&gt; test = BehaviorTestkit.create(myBehaviour);
TestInbox&lt;String&gt; inbox = new TestInbox&lt;String&gt;();
test.run(new SayHello(inbox.ref()));
inbox.expectMsg(&quot;hello&quot;);</code></pre></dd>
</dl>
<p>Another use case is sending a message to a child actor you can do this by looking up the &lsquo;TestInbox&rsquo; for a child actor from the &lsquo;BehaviorTestKit&rsquo;:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">val testKit = BehaviorTestkit(myBehaviour)
testKit.run(SayHelloToChild(&quot;child&quot;))
val childInbox = testKit.childInbox[String](&quot;child&quot;)
childInbox.expectMsg(&quot;hello&quot;)</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">BehaviorTestkit&lt;Command&gt; testKit = BehaviorTestkit.create(myBehaviour);
testKit.run(new SayHelloToChild(&quot;child&quot;));
TestInbox&lt;String&gt; childInbox = testKit.childInbox(&quot;child&quot;);
childInbox.expectMsg(&quot;hello&quot;);</code></pre></dd>
</dl>
<p>For anonymous children the actor names are generated in a deterministic way:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">val testKit = BehaviorTestkit(myBehaviour)
testKit.run(SayHelloToAnonymousChild)
// Anonymous actors are created as: $a $b etc
val childInbox = testKit.childInbox[String](&quot;$a&quot;)
childInbox.expectMsg(&quot;hello stranger&quot;)</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">BehaviorTestkit&lt;Command&gt; testKit = BehaviorTestkit.create(myBehaviour);
testKit.run(new SayHelloToAnonymousChild());
// Anonymous actors are created as: $a $b etc
TestInbox&lt;String&gt; childInbox = testKit.childInbox(&quot;$a&quot;);
childInbox.expectMsg(&quot;hello stranger&quot;);</code></pre></dd>
</dl>
<h3><a href="#testing-other-effects" name="testing-other-effects" class="anchor"><span class="anchor-link"></span></a>Testing other effects</h3>
<p>The <code>BehaviorTestkit</code> keeps track other effects you can verify, look at the sub-classes of <code>akka.testkit.typed.Effect</code></p>
<ul>
  <li>SpawnedAdapter</li>
  <li>Stopped</li>
  <li>Watched</li>
  <li>Unwatched</li>
  <li>Scheduled</li>
</ul>
<p>See the other public methods and API documentation on <code>BehaviorTestkit</code> for other types of verification.</p>
<h2><a href="#asynchronous-testing" name="asynchronous-testing" class="anchor"><span class="anchor-link"></span></a>Asynchronous testing</h2>
<p>Asynchronous testing uses a real <code>ActorSystem</code> that allows you to test your Actors in a more realistic environment. </p>
<p>The minimal setup consists of the test procedure, which provides the desired stimuli, the actor under test, and an actor receiving replies. Bigger systems replace the actor under test with a network of actors, apply stimuli at varying injection points and arrange results to be sent from different emission points, but the basic principle stays the same in that a single procedure drives the test.</p>
<h3><a href="#basic-example" name="basic-example" class="anchor"><span class="anchor-link"></span></a>Basic example</h3>
<p>Actor under test:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">case class Ping(msg: String, response: ActorRef[Pong])
case class Pong(msg: String)

val echoActor = Actor.immutable[Ping] { (_, msg) â‡’
  msg match {
    case Ping(m, replyTo) â‡’
      replyTo ! Pong(m)
      Actor.same
  }
}</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">public static class Ping {
  private String msg;
  private ActorRef&lt;Pong&gt; replyTo;

  public Ping(String msg, ActorRef&lt;Pong&gt; replyTo) {
    this.msg = msg;
    this.replyTo = replyTo;
  }
}
public static class Pong {
  private String msg;

  public Pong(String msg) {
    this.msg = msg;
  }
}

Behavior&lt;Ping&gt; echoActor = Actor.immutable((ctx, ping) -&gt; {
  ping.replyTo.tell(new Pong(ping.msg));
  return Actor.same();
});</code></pre></dd>
</dl>
<p>Tests extend <code>TestKit</code> or include the <code>TestKitBase</code>. This provides access to * An ActorSystem * Methods for spawning Actors. These are created under the root guardian * Methods for creating system actors</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">class BasicAsyncTestingSpec extends TestKit(&quot;BasicTestingSpec&quot;)
  with WordSpecLike with BeforeAndAfterAll {</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">public class BasicAsyncTestingTest extends TestKit {</code></pre></dd>
</dl>
<p>Your test is responsible for shutting down the <code>ActorSystem</code> e.g. using <code>BeforeAndAfterAll</code> when using ScalaTest</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">override def afterAll(): Unit = shutdown()</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">@AfterClass
public void cleanup() {
  this.shutdown();
}</code></pre></dd>
</dl>
<p>The following demonstrates:</p>
<ul>
  <li>Creating a typed actor from the <code>TestKit</code>&rsquo;s system using <code>spawn</code></li>
  <li>Creating a typed <code>TestProbe</code></li>
  <li>Verifying that the actor under test responds via the <code>TestProbe</code></li>
</ul>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">val probe = TestProbe[Pong]()
val pinger = spawn(echoActor, &quot;ping&quot;)
pinger ! Ping(&quot;hello&quot;, probe.ref)
probe.expectMsg(Pong(&quot;hello&quot;))</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">TestProbe&lt;Pong&gt; probe = new TestProbe&lt;&gt;(system());
ActorRef&lt;Ping&gt; pinger = spawn(echoActor, &quot;ping&quot;);
pinger.tell(new Ping(&quot;hello&quot;, probe.ref()));
probe.expectMsg(new Pong(&quot;hello&quot;));</code></pre></dd>
</dl>
<p>Actors can also be spawned anonymously:</p>
<dl>
  <dt>Scala</dt>
  <dd>
  <pre class="prettyprint"><code class="language-scala">val probe = TestProbe[Pong]()
val pinger = spawn(echoActor)
pinger ! Ping(&quot;hello&quot;, probe.ref)
probe.expectMsg(Pong(&quot;hello&quot;))</code></pre></dd>
  <dt>Java</dt>
  <dd>
  <pre class="prettyprint"><code class="language-java">TestProbe&lt;Pong&gt; probe = new TestProbe&lt;&gt;(system());
ActorRef&lt;Ping&gt; pinger = spawn(echoActor);
pinger.tell(new Ping(&quot;hello&quot;, probe.ref()));
probe.expectMsg(new Pong(&quot;hello&quot;));</code></pre></dd>
</dl>
</div>
</article>

<div class="row">
<div class="small-12 large-9 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="persistence-typed.html"><i class="icon-prev"></i> <span class="link-prev">Persistence</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="index-cluster.html">Clustering <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>

<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/akka/akka/tree/master/akka-docs/src/main/paradox/testing-typed.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>


<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="images/akka-icon.svg">
<section class="copyright">
<div>&copy; 2011-2018 <a href="https://www.lightbend.com">Lightbend</a></div>
<div>Akka is Open Source and available under the Apache 2 License.</div>
</section>
</footer>

</section>
</main>

<script type="text/javascript" src="js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="js/groups.js"></script>
<script type="text/javascript" src="js/page.js"></script>
<script type="text/javascript" src="js/magellan.js"></script>

<style type="text/css">@import "lib/prettify/prettify.css";</style>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>

<!-- Algolia docs search -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<style>.algolia-autocomplete { display: block !important }</style>
<script type="text/javascript">
var lang = "scala";
var path = window.location.pathname;
if (path.includes("/java/") || path.includes("java.html")) {
lang = "java";
}

docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#search',
algoliaOptions: {
hitsPerPage: 5,
facetFilters: ["language:" + lang]
}
});

docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#overlay-search',
algoliaOptions: {
hitsPerPage: 5,
facetFilters: ["language:" + lang]
}
});

// set up "/" as global shortcut for focusing on search
jQuery(document).keypress(function (event) {
if (event.keyCode == 47) {
jQuery("#search").focus();
return false; // swallow key event, otherwise the / char would be input into the search box
}
});
</script>


</body>
</html>
