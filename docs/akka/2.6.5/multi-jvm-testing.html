<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Multi JVM Testing &bull; Akka Documentation</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="Multi JVM testing of distributed systems built with Akka."/>
<link rel="canonical" href="https://doc.akka.io/docs/akka/current/multi-jvm-testing.html"/>
<script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="css/icons.css"/>
<link rel="stylesheet" type="text/css" href="css/page-7.css"/>
<link rel="stylesheet" type="text/css" href="css/banner-1.css"/>
<link rel="shortcut icon" href="images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png"/>
<link rel="manifest" href="images/manifest.json"/>
<meta name="msapplication-TileImage" content="images/mstile-150x150.png"/>
<meta name="msapplication-TileColor" content="#15a9ce"/>
<meta name="theme-color" content="#15a9ce"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://optanon.blob.core.windows.net/consent/159bb13d-6748-4399-806e-ac28db879785.js" type="text/javascript" charset="UTF-8"></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-21117439-1']);
_gaq.push(['_setDomainName', 'akka.io']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-2">
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KBJGH35');
</script>
<!--Marketo-->
<script type="text/plain" class="optanon-category-3">
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702', { 'asyncOnly': true, 'disableClickDelay': true });
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '//munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
</head>

<body id="underlay" data-toggler="nav-open">
<div id="lightbend-banner" class="lightbend-banner akka full-width" data-category="OSS Lightbend Banner Impression" data-label="Akka Banner Impression">
<div class="wrapper">
<div class="brand">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Lightbend Logo - Akka Banner" href="https://www.lightbend.com?r=oss-banner-akka" target="_blank">
<img class="lightbend-logo" src="images/banner-logos/lightbend-reverse.svg" alt="Lightbend" title="Lightbend">
</a>
</div>
<div class="nav">
<a class="banner-btn oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Enhance your Akka systems with Akka Platform [Button] - Akka Banner" href="https://www.lightbend.com/akka-core-of-lightbend?r=oss-banner-akka" target="_blank">
<span>Enhance your Akka systems with</span>
<img class="akka-platform-reverse-logo" src="images/banner-logos/akka-platform-reverse.svg" alt="Akka Platform" title="Akka Platform">
</a>
<div class="drop-down">
<svg class="svg-chevon-circle-down" version="1.1" id="Chevron_circled_down" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<path fill="#ffffff" d="M12.505,8.698L10,11L7.494,8.698c-0.198-0.196-0.518-0.196-0.718,0c-0.197,0.196-0.197,0.515,0,0.71l2.864,2.807
c0.199,0.196,0.52,0.196,0.717,0l2.864-2.807c0.199-0.195,0.198-0.514,0-0.71C13.024,8.502,12.704,8.502,12.505,8.698z M10,0.4
c-5.302,0-9.6,4.298-9.6,9.6c0,5.303,4.298,9.6,9.6,9.6s9.6-4.297,9.6-9.6C19.6,4.698,15.302,0.4,10,0.4z M10,18.354
c-4.615,0-8.354-3.74-8.354-8.354c0-4.614,3.739-8.354,8.354-8.354c4.613,0,8.354,3.74,8.354,8.354
C18.354,14.614,14.613,18.354,10,18.354z" />
</svg>
<div class="drop-down-content">
<div class="lightbend-family">
<a href="https://cloudflow.io" class="cloudflow oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Cloudflow - Logo Tag Line - Akka Banner">
<img class="cloudflow-full-color-logo" src="images/banner-logos/cloudflow-full-color.svg" alt="Cloudflow by Lightbend" title="Cloudflow by Lightbend">
</a>
<a href="https://cloudstate.io" class="cloudstate oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Cloudstate - Logo Tag Line - Akka Banner">
<img class="cloudstate-full-color-logo" src="images/banner-logos/cloudstate-full-color.svg" alt="Cloudstate by Lightbend" title="Cloudstate by Lightbend">
</a>
<a href="https://www.lagomframework.com" class="lagom oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Lagom - Logo Tag Line - Akka Banner">
<img class="lagom-full-color-logo" src="images/banner-logos/lagom-full-color.svg" alt="Lagom Framework by Lightbend" title="Lagom Framework by Lightbend">
</a>
<a href="https://www.playframework.com" class="play oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Play - Logo Tag Line - Akka Banner">
<img class="play-full-color-logo" src="images/banner-logos/play-full-color.svg" alt="Play Framework by Lightbend" title="Play Framework by Lightbend">
</a>
<a href="https://www.scala-lang.org" class="scala oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Scala - Logo Tag Line - Akka Banner">
<img class="scala-full-color-logo" src="images/banner-logos/scala-full-color.svg" alt="Scala by Lightbend" title="Scala by Lightbend">
</a>
<div class="akka current">
<img class="akka-full-color-logo" src="images/banner-logos/akka-full-color.svg" alt="Akka by Lightbend" title="Akka by Lightbend">
<span>From the creators of <strong>Akka</strong>, get technology enhancements, monitoring, and expert support with Akka Platform from Lightbend.</span>
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Learn More [Button] - Akka Banner" href="https://www.lightbend.com/akka-core-of-lightbend?r=oss-banner-akka" target="_blank">Learn More</a>
</div>
</div>
<div class="title">The Lightbend Family</div>
</div>      
</div>
</div>
</div>
</div>
<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="https://akka.io"><img class="logo" src="images/akka-logo-reverse.svg"/></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="index.html">Akka Documentation</a></h1>
</div>
<div class="nav-header-version">
Version 2.6.5
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div id="overlay-search-container" class="nav-header-search">
<input id="overlay-search" type="search" class="search" placeholder="Search" />
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="security/index.html" class="page">Security Announcements</a></li>
  <li><a href="typed/guide/index.html" class="page">Getting Started Guide</a></li>
  <li><a href="general/index.html" class="page">General Concepts</a></li>
  <li><a href="typed/index.html" class="page">Actors</a></li>
  <li><a href="typed/index-cluster.html" class="page">Cluster</a>
  <ul>
    <li><a href="typed/cluster.html" class="page">Cluster Usage</a></li>
    <li><a href="typed/cluster-concepts.html" class="page">Cluster Specification</a></li>
    <li><a href="typed/cluster-membership.html" class="page">Cluster Membership Service</a></li>
    <li><a href="typed/failure-detector.html" class="page">Phi Accrual Failure Detector</a></li>
    <li><a href="typed/distributed-data.html" class="page">Distributed Data</a></li>
    <li><a href="typed/cluster-singleton.html" class="page">Cluster Singleton</a></li>
    <li><a href="typed/cluster-sharding.html" class="page">Cluster Sharding</a></li>
    <li><a href="typed/cluster-sharding-concepts.html" class="page">Cluster Sharding concepts</a></li>
    <li><a href="typed/cluster-sharded-daemon-process.html" class="page">Sharded Daemon Process</a></li>
    <li><a href="typed/cluster-dc.html" class="page">Multi-DC Cluster</a></li>
    <li><a href="typed/distributed-pub-sub.html" class="page">Distributed Publish Subscribe in Cluster</a></li>
    <li><a href="typed/reliable-delivery.html" class="page">Reliable delivery</a></li>
    <li><a href="serialization.html" class="page">Serialization</a></li>
    <li><a href="serialization-jackson.html" class="page">Serialization with Jackson</a></li>
    <li><a href="multi-jvm-testing.html#multi-jvm-testing" class="active page">Multi JVM Testing</a>
    <ul>
      <li><a href="multi-jvm-testing.html#setup" class="header">Setup</a></li>
      <li><a href="multi-jvm-testing.html#running-tests" class="header">Running tests</a></li>
      <li><a href="multi-jvm-testing.html#creating-application-tests" class="header">Creating application tests</a></li>
      <li><a href="multi-jvm-testing.html#changing-defaults" class="header">Changing Defaults</a></li>
      <li><a href="multi-jvm-testing.html#configuration-of-the-jvm-instances" class="header">Configuration of the JVM instances</a></li>
      <li><a href="multi-jvm-testing.html#scalatest" class="header">ScalaTest</a></li>
      <li><a href="multi-jvm-testing.html#multi-node-additions" class="header">Multi Node Additions</a></li>
      <li><a href="multi-jvm-testing.html#example-project" class="header">Example project</a></li>
    </ul></li>
    <li><a href="multi-node-testing.html" class="page">Multi Node Testing</a></li>
    <li><a href="remoting-artery.html" class="page">Artery Remoting</a></li>
    <li><a href="remoting.html" class="page">Classic Remoting (Deprecated)</a></li>
    <li><a href="coordination.html" class="page">Coordination</a></li>
    <li><a href="typed/choosing-cluster.html" class="page">Choosing Akka Cluster</a></li>
  </ul></li>
  <li><a href="typed/index-persistence.html" class="page">Persistence</a></li>
  <li><a href="stream/index.html" class="page">Streams</a></li>
  <li><a href="discovery/index.html" class="page">Discovery</a></li>
  <li><a href="index-utilities.html" class="page">Utilities</a></li>
  <li><a href="common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="additional/deploy.html" class="page">Package, Deploy and Run</a></li>
  <li><a href="project/index.html" class="page">Project Information</a></li>
  <li><a href="index-classic.html" class="page">Akka Classic</a></li>
</ul>
</nav>
</div>
</header>
<div class="site-content-wrapper">
<aside class="sticky-sidebar show-for-large">
<header class="nav-header sticky-sidebar-header">
<div class="nav-header-title">
<h1><a href="index.html">Akka Documentation</a></h1>
</div>
<div class="nav-header-version">
Version 2.6.5
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-scala">Scala</option><option class="group" value="group-java">Java</option></select>
</div>
<div class="nav-header-search">
<input id="search" type="search" class="search" placeholder="Search" />
</div>
</header>
<nav class="site-nav sticky-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="security/index.html" class="page">Security Announcements</a></li>
  <li><a href="typed/guide/index.html" class="page">Getting Started Guide</a></li>
  <li><a href="general/index.html" class="page">General Concepts</a></li>
  <li><a href="typed/index.html" class="page">Actors</a></li>
  <li><a href="typed/index-cluster.html" class="page">Cluster</a>
  <ul>
    <li><a href="typed/cluster.html" class="page">Cluster Usage</a></li>
    <li><a href="typed/cluster-concepts.html" class="page">Cluster Specification</a></li>
    <li><a href="typed/cluster-membership.html" class="page">Cluster Membership Service</a></li>
    <li><a href="typed/failure-detector.html" class="page">Phi Accrual Failure Detector</a></li>
    <li><a href="typed/distributed-data.html" class="page">Distributed Data</a></li>
    <li><a href="typed/cluster-singleton.html" class="page">Cluster Singleton</a></li>
    <li><a href="typed/cluster-sharding.html" class="page">Cluster Sharding</a></li>
    <li><a href="typed/cluster-sharding-concepts.html" class="page">Cluster Sharding concepts</a></li>
    <li><a href="typed/cluster-sharded-daemon-process.html" class="page">Sharded Daemon Process</a></li>
    <li><a href="typed/cluster-dc.html" class="page">Multi-DC Cluster</a></li>
    <li><a href="typed/distributed-pub-sub.html" class="page">Distributed Publish Subscribe in Cluster</a></li>
    <li><a href="typed/reliable-delivery.html" class="page">Reliable delivery</a></li>
    <li><a href="serialization.html" class="page">Serialization</a></li>
    <li><a href="serialization-jackson.html" class="page">Serialization with Jackson</a></li>
    <li><a href="multi-jvm-testing.html#multi-jvm-testing" class="active page">Multi JVM Testing</a>
    <ul>
      <li><a href="multi-jvm-testing.html#setup" class="header">Setup</a></li>
      <li><a href="multi-jvm-testing.html#running-tests" class="header">Running tests</a></li>
      <li><a href="multi-jvm-testing.html#creating-application-tests" class="header">Creating application tests</a></li>
      <li><a href="multi-jvm-testing.html#changing-defaults" class="header">Changing Defaults</a></li>
      <li><a href="multi-jvm-testing.html#configuration-of-the-jvm-instances" class="header">Configuration of the JVM instances</a></li>
      <li><a href="multi-jvm-testing.html#scalatest" class="header">ScalaTest</a></li>
      <li><a href="multi-jvm-testing.html#multi-node-additions" class="header">Multi Node Additions</a></li>
      <li><a href="multi-jvm-testing.html#example-project" class="header">Example project</a></li>
    </ul></li>
    <li><a href="multi-node-testing.html" class="page">Multi Node Testing</a></li>
    <li><a href="remoting-artery.html" class="page">Artery Remoting</a></li>
    <li><a href="remoting.html" class="page">Classic Remoting (Deprecated)</a></li>
    <li><a href="coordination.html" class="page">Coordination</a></li>
    <li><a href="typed/choosing-cluster.html" class="page">Choosing Akka Cluster</a></li>
  </ul></li>
  <li><a href="typed/index-persistence.html" class="page">Persistence</a></li>
  <li><a href="stream/index.html" class="page">Streams</a></li>
  <li><a href="discovery/index.html" class="page">Discovery</a></li>
  <li><a href="index-utilities.html" class="page">Utilities</a></li>
  <li><a href="common/other-modules.html" class="page">Other Akka modules</a></li>
  <li><a href="additional/deploy.html" class="page">Package, Deploy and Run</a></li>
  <li><a href="project/index.html" class="page">Project Information</a></li>
  <li><a href="index-classic.html" class="page">Akka Classic</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer sticky-sidebar-footer">
<a href="https://akka.io"><img class="logo" src="images/akka-logo-reverse.svg"/></a>

</footer>
</aside>
<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">
<article class="page-content row">
<div class="small-12 column" id="docs">
<h1><a href="#multi-jvm-testing" name="multi-jvm-testing" class="anchor"><span class="anchor-link"></span></a>Multi JVM Testing</h1>
<p>Supports running applications (objects with main methods) and ScalaTest tests in multiple JVMs at the same time. Useful for integration testing where multiple systems communicate with each other.</p>
<h2><a href="#setup" name="setup" class="anchor"><span class="anchor-link"></span></a>Setup</h2>
<p>The multi-JVM testing is an sbt plugin that you can find at <a href="https://github.com/sbt/sbt-multi-jvm">https://github.com/sbt/sbt-multi-jvm</a>. To configure it in your project you should do the following steps:</p>
<ol>
  <li>
    <p>Add it as a plugin by adding the following to your project/plugins.sbt:</p>
    <pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka/tree/v2.6.5/project/plugins.sbt#L8" target="_blank" title="Go to snippet source"></a><code class="language-sbt">addSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-multi-jvm&quot; % &quot;0.4.0&quot;)</code></pre>
  </li>
  <li>
    <p>Add multi-JVM testing to <code>build.sbt</code> or <code>project/Build.scala</code> by enabling <code>MultiJvmPlugin</code> and setting the <code>MultiJvm</code> config.</p>
    <pre class="prettyprint"><code class="language-none">lazy val root = (project in file(&quot;.&quot;))
  .enablePlugins(MultiJvmPlugin)
  .configs(MultiJvm)
</code></pre>
  </li>
</ol>
<p><strong>Please note</strong> that by default MultiJvm test sources are located in <code>src/multi-jvm/...</code>, and not in <code>src/test/...</code>.</p>
<h2><a href="#running-tests" name="running-tests" class="anchor"><span class="anchor-link"></span></a>Running tests</h2>
<p>The multi-JVM tasks are similar to the normal tasks: <code>test</code>, <code>testOnly</code>, and <code>run</code>, but are under the <code>multi-jvm</code> configuration.</p>
<p>So in Akka, to run all the multi-JVM tests in the akka-remote project use (at the sbt prompt):</p>
<pre class="prettyprint"><code class="language-none">akka-remote-tests/multi-jvm:test
</code></pre>
<p>Or one can change to the <code>akka-remote-tests</code> project first, and then run the tests:</p>
<pre class="prettyprint"><code class="language-none">project akka-remote-tests
multi-jvm:test
</code></pre>
<p>To run individual tests use <code>testOnly</code>:</p>
<pre class="prettyprint"><code class="language-none">multi-jvm:testOnly akka.remote.RandomRoutedRemoteActor
</code></pre>
<p>More than one test name can be listed to run multiple specific tests. Tab-completion in sbt makes it easy to complete the test names.</p>
<p>It&rsquo;s also possible to specify JVM options with <code>testOnly</code> by including those options after the test names and <code>--</code>. For example:</p>
<pre class="prettyprint"><code class="language-none">multi-jvm:testOnly akka.remote.RandomRoutedRemoteActor -- -Dsome.option=something
</code></pre>
<h2><a href="#creating-application-tests" name="creating-application-tests" class="anchor"><span class="anchor-link"></span></a>Creating application tests</h2>
<p>The tests are discovered, and combined, through a naming convention. MultiJvm test sources are located in <code>src/multi-jvm/...</code>. A test is named with the following pattern:</p>
<pre class="prettyprint"><code class="language-none">{TestName}MultiJvm{NodeName}
</code></pre>
<p>That is, each test has <code>MultiJvm</code> in the middle of its name. The part before it groups together tests/applications under a single <code>TestName</code> that will run together. The part after, the <code>NodeName</code>, is a distinguishing name for each forked JVM.</p>
<p>So to create a 3-node test called <code>Sample</code>, you can create three applications like the following:</p>
<pre class="prettyprint"><code class="language-scala">package sample

object SampleMultiJvmNode1 {
  def main(args: Array[String]) {
    println(&quot;Hello from node 1&quot;)
  }
}

object SampleMultiJvmNode2 {
  def main(args: Array[String]) {
    println(&quot;Hello from node 2&quot;)
  }
}

object SampleMultiJvmNode3 {
  def main(args: Array[String]) {
    println(&quot;Hello from node 3&quot;)
  }
}
</code></pre>
<p>When you call <code>multi-jvm:run sample.Sample</code> at the sbt prompt, three JVMs will be spawned, one for each node. It will look like this:</p>
<pre class="prettyprint"><code class="language-none">&gt; multi-jvm:run sample.Sample
...
[info] * sample.Sample
[JVM-1] Hello from node 1
[JVM-2] Hello from node 2
[JVM-3] Hello from node 3
[success] Total time: ...
</code></pre>
<h2><a href="#changing-defaults" name="changing-defaults" class="anchor"><span class="anchor-link"></span></a>Changing Defaults</h2>
<p>You can specify JVM options for the forked JVMs:</p>
<pre><code>jvmOptions in MultiJvm := Seq(&quot;-Xmx256M&quot;)
</code></pre>
<p>You can change the name of the multi-JVM test source directory by adding the following configuration to your project:</p>
<pre class="prettyprint"><code class="language-none">unmanagedSourceDirectories in MultiJvm :=
   Seq(baseDirectory(_ / &quot;src/some_directory_here&quot;)).join.value
</code></pre>
<p>You can change what the <code>MultiJvm</code> identifier is. For example, to change it to <code>ClusterTest</code> use the <code>multiJvmMarker</code> setting:</p>
<pre class="prettyprint"><code class="language-none">multiJvmMarker in MultiJvm := &quot;ClusterTest&quot;
</code></pre>
<p>Your tests should now be named <code>{TestName}ClusterTest{NodeName}</code>.</p>
<h2><a href="#configuration-of-the-jvm-instances" name="configuration-of-the-jvm-instances" class="anchor"><span class="anchor-link"></span></a>Configuration of the JVM instances</h2>
<p>You can define specific JVM options for each of the spawned JVMs. You do that by creating a file named after the node in the test with suffix <code>.opts</code> and put them in the same directory as the test.</p>
<p>For example, to feed the JVM options <code>-Dakka.remote.port=9991</code> and <code>-Xmx256m</code> to the <code>SampleMultiJvmNode1</code> let&rsquo;s create three <code>*.opts</code> files and add the options to them. Separate multiple options with space. </p>
<p><code>SampleMultiJvmNode1.opts</code>:</p>
<pre><code>-Dakka.remote.port=9991 -Xmx256m
</code></pre>
<p><code>SampleMultiJvmNode2.opts</code>:</p>
<pre><code>-Dakka.remote.port=9992 -Xmx256m
</code></pre>
<p><code>SampleMultiJvmNode3.opts</code>:</p>
<pre><code>-Dakka.remote.port=9993 -Xmx256m
</code></pre>
<h2><a href="#scalatest" name="scalatest" class="anchor"><span class="anchor-link"></span></a>ScalaTest</h2>
<p>There is also support for creating ScalaTest tests rather than applications. To do this use the same naming convention as above, but create ScalaTest suites rather than objects with main methods. You need to have ScalaTest on the classpath. Here is a similar example to the one above but using ScalaTest:</p>
<pre class="prettyprint"><code class="language-scala">package sample

import org.scalatest.wordspec.AnyWordSpec
import org.scalatest.matchers.must.Matchers

class SpecMultiJvmNode1 extends AnyWordSpec with Matchers {
  &quot;A node&quot; should {
    &quot;be able to say hello&quot; in {
      val message = &quot;Hello from node 1&quot;
      message must be(&quot;Hello from node 1&quot;)
    }
  }
}

class SpecMultiJvmNode2 extends AnyWordSpec with Matchers {
  &quot;A node&quot; should {
    &quot;be able to say hello&quot; in {
      val message = &quot;Hello from node 2&quot;
      message must be(&quot;Hello from node 2&quot;)
    }
  }
}
</code></pre>
<p>To run just these tests you would call <code>multi-jvm:testOnly sample.Spec</code> at the sbt prompt.</p>
<h2><a href="#multi-node-additions" name="multi-node-additions" class="anchor"><span class="anchor-link"></span></a>Multi Node Additions</h2>
<p>There has also been some additions made to the <code>SbtMultiJvm</code> plugin to accommodate the <a href="common/may-change.html">may change</a> module <a href="multi-node-testing.html">multi node testing</a>, described in that section.</p>
<h2><a href="#example-project" name="example-project" class="anchor"><span class="anchor-link"></span></a>Example project</h2>
<p><a href="https://developer.lightbend.com/start/?group=akka&amp;project=akka-samples-cluster-scala">Cluster example project</a> is an example project that can be downloaded, and with instructions of how to run.</p>
<p>This project illustrates Cluster features and also includes Multi JVM Testing with the <code>sbt-multi-jvm</code> plugin.</p>
</div>
</article>
<div class="row">
<div class="small-12 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="serialization-jackson.html"><i class="icon-prev"></i> <span class="link-prev">Serialization with Jackson</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="multi-node-testing.html">Multi Node Testing <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>
<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/akka/akka/tree/v2.6.5/akka-docs/src/main/paradox/multi-jvm-testing.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>

<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="images/akka-icon.svg" />
<section class="copyright">
<div>Akka is Open Source and available under the Apache 2 License.</div>
<p class="legal">
&copy; 2011-2020 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> |
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> |
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> |
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> |
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> |
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>

</footer>
</section>
</main>
</div>

<script type="text/javascript" src="js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="js/groups.js"></script>
<script type="text/javascript" src="js/page.js"></script>
<script type="text/javascript" src="js/magellan.js"></script>
<script type="text/javascript" src="js/metadata-toggle.js"></script>

<style type="text/css">@import "lib/prettify/prettify.css";</style>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(){window.prettyPrint && prettyPrint()});
//]]></script>
<!-- Algolia docs search -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<style>.algolia-autocomplete { display: block !important }</style>
<script type="text/javascript">
docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#search',
algoliaOptions: {
hitsPerPage: 5
}
});

docsearch({
apiKey: '543bad5ad786495d9ccd445ed34ed082',
indexName: 'akka_io',
inputSelector: '#overlay-search',
algoliaOptions: {
hitsPerPage: 5
}
});

// set up "/" as global shortcut for focusing on search
jQuery(document).keypress(function (event) {
if (event.keyCode == 47) {
jQuery("#search").focus();
return false; // swallow key event, otherwise the / char would be input into the search box
}
});
</script>

<script type="text/javascript" src="assets/js/warnOldDocs.js"></script>
<script type="text/javascript" src="assets/js/scalafiddle.js"></script>


</body>
</html>
