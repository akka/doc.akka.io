<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>Journal &bull; Akka Persistence Cassandra</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="A Cassandra plugin for Akka Persistence."/>
<link rel="canonical" href="https://doc.akka.io/docs/akka-persistence-cassandra/current/journal.html"/>
<script type="text/javascript" src="lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="lib/foundation/dist/js/foundation.min.js"></script>
<link rel="stylesheet" type="text/css" href="lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="lib/foundation/dist/css/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<link rel="stylesheet" type="text/css" href="css/icons.css"/>
<link rel="stylesheet" type="text/css" href="css/page-8.css"/>
<link rel="stylesheet" type="text/css" href="css/banner-1.css"/>
<link rel="shortcut icon" href="images/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png"/>
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png"/>
<link rel="manifest" href="images/manifest.json"/>
<meta name="msapplication-TileImage" content="images/mstile-150x150.png"/>
<meta name="msapplication-TileColor" content="#15a9ce"/>
<meta name="theme-color" content="#15a9ce"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) start -->
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="28b912e7-09e9-43d5-91e4-3d1897044004" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice (Production Standard, akka.io, en-GB) end -->
<!--Google Analytics-->
<script type="text/plain" class="optanon-category-2">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', '']);
_gaq.push(['_setDomainName', '']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})()
</script>
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-2">
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KBJGH35');
</script>
<!--Marketo-->
<script type="text/plain" class="optanon-category-3">
(function() {
var didInit = false;
function initMunchkin() {
if(didInit === false) {
didInit = true;
Munchkin.init('558-NCX-702', { 'asyncOnly': true, 'disableClickDelay': true });
}
}
var s = document.createElement('script');
s.type = 'text/javascript';
s.async = true;
s.src = '//munchkin.marketo.net/munchkin.js';
s.onreadystatechange = function() {
if (this.readyState == 'complete' || this.readyState == 'loaded') {
initMunchkin();
}
};
s.onload = initMunchkin;
document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
</head>

<body id="underlay" data-toggler="nav-open">
<div id="lightbend-banner" class="lightbend-banner akka full-width" data-category="OSS Lightbend Banner Impression" data-label="Akka Banner Impression">
<div class="wrapper">
<div class="brand">
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Lightbend Logo - Akka Banner" href="https://www.lightbend.com?r=oss-banner-akka" target="_blank">
<img class="lightbend-logo" src="images/banner-logos/lightbend-reverse.svg" alt="Lightbend" title="Lightbend">
</a>
</div>
<div class="nav">
<a class="banner-btn oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Enhance your Akka systems with Akka Platform [Button] - Akka Banner" href="https://www.lightbend.com/akka-platform?r=oss-banner-akka" target="_blank">
<span>Enhance your Akka systems with</span>
<img class="akka-platform-reverse-logo" src="images/banner-logos/akka-platform-reverse.svg" alt="Akka Platform" title="Akka Platform">
</a>
<div class="drop-down">
<svg class="svg-chevon-circle-down" version="1.1" id="Chevron_circled_down" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
<path fill="#ffffff" d="M12.505,8.698L10,11L7.494,8.698c-0.198-0.196-0.518-0.196-0.718,0c-0.197,0.196-0.197,0.515,0,0.71l2.864,2.807
c0.199,0.196,0.52,0.196,0.717,0l2.864-2.807c0.199-0.195,0.198-0.514,0-0.71C13.024,8.502,12.704,8.502,12.505,8.698z M10,0.4
c-5.302,0-9.6,4.298-9.6,9.6c0,5.303,4.298,9.6,9.6,9.6s9.6-4.297,9.6-9.6C19.6,4.698,15.302,0.4,10,0.4z M10,18.354
c-4.615,0-8.354-3.74-8.354-8.354c0-4.614,3.739-8.354,8.354-8.354c4.613,0,8.354,3.74,8.354,8.354
C18.354,14.614,14.613,18.354,10,18.354z" />
</svg>
<div class="drop-down-content">
<div class="lightbend-family">
<a href="https://cloudflow.io" class="cloudflow oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Cloudflow - Logo Tag Line - Akka Banner">
<img class="cloudflow-full-color-logo" src="images/banner-logos/cloudflow-full-color.svg" alt="Cloudflow by Lightbend" title="Cloudflow by Lightbend">
</a>
<a href="https://cloudstate.io" class="cloudstate oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Cloudstate - Logo Tag Line - Akka Banner">
<img class="cloudstate-full-color-logo" src="images/banner-logos/cloudstate-full-color.svg" alt="Cloudstate by Lightbend" title="Cloudstate by Lightbend">
</a>
<a href="https://www.lagomframework.com" class="lagom oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Lagom - Logo Tag Line - Akka Banner">
<img class="lagom-full-color-logo" src="images/banner-logos/lagom-full-color.svg" alt="Lagom Framework by Lightbend" title="Lagom Framework by Lightbend">
</a>
<a href="https://www.playframework.com" class="play oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Play - Logo Tag Line - Akka Banner">
<img class="play-full-color-logo" src="images/banner-logos/play-full-color.svg" alt="Play Framework by Lightbend" title="Play Framework by Lightbend">
</a>
<a href="https://www.scala-lang.org" class="scala oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Scala - Logo Tag Line - Akka Banner">
<img class="scala-full-color-logo" src="images/banner-logos/scala-full-color.svg" alt="Scala by Lightbend" title="Scala by Lightbend">
</a>
<div class="akka current">
<img class="akka-full-color-logo" src="images/banner-logos/akka-full-color.svg" alt="Akka by Lightbend" title="Akka by Lightbend">
<span>From the creators of <strong>Akka</strong>, get technology enhancements, monitoring, and expert support with Akka Platform from Lightbend.</span>
<a class="oss-track-link-label" data-category="OSS Lightbend Banner Clicks" data-label="Learn More [Button] - Akka Banner" href="https://www.lightbend.com/akka-platform?r=oss-banner-akka" target="_blank">Learn More</a>
</div>
</div>
<div class="title">The Lightbend Family</div>
</div>      
</div>
</div>
</div>
</div>

<header class="site-header hide-for-large">
<div class="sticky-header clearfix">
<a href="https://akka.io"><img class="logo" src="images/akka-logo-reverse.svg"/></a>

<button class="menu-icon float-right" type="button" data-toggle="underlay overlay"></button>
</div>
<div id="overlay" class="overlay-nav" data-toggler="nav-open">
<header class="nav-header">
<div class="nav-header-title">
<h1><a href="index.html">Akka Persistence Cassandra</a></h1>
</div>
<div class="nav-header-version">
Version 1.0.5
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-java">Java</option><option class="group" value="group-scala">Scala</option></select>
</div>
</header>
<nav class="nav-toc">
<ul>
  <li><a href="overview.html" class="page">Overview</a></li>
  <li><a href="journal.html#journal" class="active page">Journal</a>
  <ul>
    <li><a href="journal.html#features" class="header">Features</a></li>
    <li><a href="journal.html#schema" class="header">Schema</a></li>
    <li><a href="journal.html#configuration" class="header">Configuration</a></li>
    <li><a href="journal.html#delete-all-events" class="header">Delete all events</a></li>
  </ul></li>
  <li><a href="read-journal.html" class="page">Query Plugin</a></li>
  <li><a href="events-by-tag.html" class="page">Events by tag</a></li>
  <li><a href="snapshots.html" class="page">Snapshots</a></li>
  <li><a href="serialization.html" class="page">Serialization</a></li>
  <li><a href="testing.html" class="page">Testing</a></li>
  <li><a href="cqrs.html" class="page">Event sourcing and CQRS</a></li>
  <li><a href="healthcheck.html" class="page">Health check</a></li>
  <li><a href="configuration.html" class="page">Configuration</a></li>
  <li><a href="server.html" class="page">Cassandra server support</a></li>
  <li><a href="migrations.html" class="page">Migration</a></li>
  <li><a href="cleanup.html" class="page">Database Cleanup</a></li>
</ul>
</nav>
</div>
</header>
<div class="site-content-wrapper">
<aside class="sticky-sidebar show-for-large">
<header class="nav-header sticky-sidebar-header">
<div class="nav-header-title">
<h1><a href="index.html">Akka Persistence Cassandra</a></h1>
</div>
<div class="nav-header-version">
Version 1.0.5
</div>
<div class="nav-header-groups">
<select class="supergroup" name="Language"><option class="group" value="group-java">Java</option><option class="group" value="group-scala">Scala</option></select>
</div>
</header>
<nav class="site-nav sticky-sidebar-contents">
<div class="nav-toc">
<ul>
  <li><a href="overview.html" class="page">Overview</a></li>
  <li><a href="journal.html#journal" class="active page">Journal</a>
  <ul>
    <li><a href="journal.html#features" class="header">Features</a></li>
    <li><a href="journal.html#schema" class="header">Schema</a></li>
    <li><a href="journal.html#configuration" class="header">Configuration</a></li>
    <li><a href="journal.html#delete-all-events" class="header">Delete all events</a></li>
  </ul></li>
  <li><a href="read-journal.html" class="page">Query Plugin</a></li>
  <li><a href="events-by-tag.html" class="page">Events by tag</a></li>
  <li><a href="snapshots.html" class="page">Snapshots</a></li>
  <li><a href="serialization.html" class="page">Serialization</a></li>
  <li><a href="testing.html" class="page">Testing</a></li>
  <li><a href="cqrs.html" class="page">Event sourcing and CQRS</a></li>
  <li><a href="healthcheck.html" class="page">Health check</a></li>
  <li><a href="configuration.html" class="page">Configuration</a></li>
  <li><a href="server.html" class="page">Cassandra server support</a></li>
  <li><a href="migrations.html" class="page">Migration</a></li>
  <li><a href="cleanup.html" class="page">Database Cleanup</a></li>
</ul>
</div>
</nav>
<footer class="nav-footer sticky-sidebar-footer">
<a href="https://akka.io"><img class="logo" src="images/akka-logo-reverse.svg"/></a>

</footer>
</aside>
<main class="fixed-shift-for-large expanded row">
<section class="site-content small-12 column">
<article class="page-content row">
<div class="small-12 column" id="docs">
<h1><a href="#journal" name="journal" class="anchor"><span class="anchor-link"></span></a>Journal</h1>
<h2><a href="#features" name="features" class="anchor"><span class="anchor-link"></span></a>Features</h2>
<ul>
  <li>All operations required by the Akka Persistence <a href="https://doc.akka.io/docs/akka/2.6/persistence-journals.html#journal-plugin-api">journal plugin API</a> are fully supported.</li>
  <li>The plugin uses Cassandra in a pure log-oriented way i.e. data is only ever inserted but never updated (deletions are made on user request only).</li>
  <li>Writes of messages are batched to optimize throughput for <code>persistAsync</code>. See <a href="https://doc.akka.io/docs/akka/2.6/persistence.html#batch-writes">batch writes</a> for details how to configure batch sizes. The plugin was tested to work properly under high load.</li>
  <li>Messages written by a single persistent actor are partitioned across the cluster to achieve scalability with data volume by adding nodes.</li>
  <li><a href="https://doc.akka.io/docs/akka/2.6/persistence-query.html">Persistence Query</a> support by <code>CassandraReadJournal</code></li>
</ul>
<h2><a href="#schema" name="schema" class="anchor"><span class="anchor-link"></span></a>Schema</h2>
<p>The keyspace and tables needs to be created before using the plugin. </p><div class="callout warning "><div class="callout-title">Warning</div>
<p>Auto creation of the keyspace and tables is included as a development convenience and should never be used in production. Cassandra does not handle concurrent schema migrations well and if every Akka node tries to create the schema at the same time you&rsquo;ll get column id mismatch errors in Cassandra.</p></div>
<p>The default keyspace used by the plugin is <code>akka</code>, it should be created with the NetworkTopology replication strategy with a replication factor of at least 3:</p>
<pre><code>CREATE KEYSPACE IF NOT EXISTS akka WITH replication = {&#39;class&#39;: &#39;NetworkTopologyStrategy&#39;, &#39;&lt;your_dc_name&gt;&#39; : 3 }; 
</code></pre>
<p>For local testing, and the default if you enable <code>akka.persistence.cassandra.journal.keyspace-autocreate</code> you can use the following:</p>
<pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka-persistence-cassandra/tree/v1.0.5/target/journal-keyspace.txt#L2-L3" target="_blank" title="Go to snippet source"></a><code class="language-txt">CREATE KEYSPACE IF NOT EXISTS akka
WITH REPLICATION = { &#39;class&#39; : &#39;SimpleStrategy&#39;,&#39;replication_factor&#39;:1 };</code></pre>
<p>There are multiple tables required. These need to be created before starting your application. For local testing you can enable <code>akka.persistence.cassandra.journal.tables-autocreate</code>. The default table definitions look like this:</p>
<pre class="prettyprint"><a class="icon go-to-source" href="https://github.com/akka/akka-persistence-cassandra/tree/v1.0.5/target/journal-tables.txt#L2-L81" target="_blank" title="Go to snippet source"></a><code class="language-txt">CREATE TABLE IF NOT EXISTS akka.messages (
  persistence_id text,
  partition_nr bigint,
  sequence_nr bigint,
  timestamp timeuuid,
  timebucket text,
  writer_uuid text,
  ser_id int,
  ser_manifest text,
  event_manifest text,
  event blob,
  meta_ser_id int,
  meta_ser_manifest text,
  meta blob,
  tags set&lt;text&gt;,
  PRIMARY KEY ((persistence_id, partition_nr), sequence_nr, timestamp))
  WITH gc_grace_seconds =864000
  AND compaction = {
    &#39;class&#39; : &#39;SizeTieredCompactionStrategy&#39;,
    &#39;enabled&#39; : true,
    &#39;tombstone_compaction_interval&#39; : 86400,
    &#39;tombstone_threshold&#39; : 0.2,
    &#39;unchecked_tombstone_compaction&#39; : false,
    &#39;bucket_high&#39; : 1.5,
    &#39;bucket_low&#39; : 0.5,
    &#39;max_threshold&#39; : 32,
    &#39;min_threshold&#39; : 4,
    &#39;min_sstable_size&#39; : 50
    };

CREATE TABLE IF NOT EXISTS akka.tag_views (
  tag_name text,
  persistence_id text,
  sequence_nr bigint,
  timebucket bigint,
  timestamp timeuuid,
  tag_pid_sequence_nr bigint,
  writer_uuid text,
  ser_id int,
  ser_manifest text,
  event_manifest text,
  event blob,
  meta_ser_id int,
  meta_ser_manifest text,
  meta blob,
  PRIMARY KEY ((tag_name, timebucket), timestamp, persistence_id, tag_pid_sequence_nr))
  WITH gc_grace_seconds =864000
  AND compaction = {
    &#39;class&#39; : &#39;SizeTieredCompactionStrategy&#39;,
    &#39;enabled&#39; : true,
    &#39;tombstone_compaction_interval&#39; : 86400,
    &#39;tombstone_threshold&#39; : 0.2,
    &#39;unchecked_tombstone_compaction&#39; : false,
    &#39;bucket_high&#39; : 1.5,
    &#39;bucket_low&#39; : 0.5,
    &#39;max_threshold&#39; : 32,
    &#39;min_threshold&#39; : 4,
    &#39;min_sstable_size&#39; : 50
    };

CREATE TABLE IF NOT EXISTS akka.tag_write_progress(
  persistence_id text,
  tag text,
  sequence_nr bigint,
  tag_pid_sequence_nr bigint,
  offset timeuuid,
  PRIMARY KEY (persistence_id, tag));

CREATE TABLE IF NOT EXISTS akka.tag_scanning(
  persistence_id text,
  sequence_nr bigint,
  PRIMARY KEY (persistence_id));

CREATE TABLE IF NOT EXISTS akka.metadata(
  persistence_id text PRIMARY KEY,
  deleted_to bigint,
  properties map&lt;text,text&gt;);

CREATE TABLE IF NOT EXISTS akka.all_persistence_ids(
  persistence_id text PRIMARY KEY);</code></pre>
<h3><a href="#messages-table" name="messages-table" class="anchor"><span class="anchor-link"></span></a>Messages table</h3>
<p>Descriptions of the important columns in the messages table:</p>
<table>
  <thead>
    <tr>
      <th>Column </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>persistence_id </td>
      <td>The persistence id </td>
    </tr>
    <tr>
      <td>partition_nr </td>
      <td>Artificial partition key to ensure partitions do not grow too large </td>
    </tr>
    <tr>
      <td>sequence_nr </td>
      <td>Sequence number of the event </td>
    </tr>
    <tr>
      <td>timestamp </td>
      <td>A <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">type 2 UUID a.k.a TimeUUID</a> for ordering events in the events by tag query </td>
    </tr>
    <tr>
      <td>timebucket </td>
      <td>The time bucket to partition the events by tag query. Only in this table as events by tag used to use a materialized view </td>
    </tr>
    <tr>
      <td>writer_uuid </td>
      <td>A UUID for the actor system that wrote the event. Used to detect multiple writers for the same persistence id </td>
    </tr>
    <tr>
      <td>ser_id </td>
      <td>The serialization id of the user payload </td>
    </tr>
    <tr>
      <td>ser_manifest </td>
      <td>The serialization manifest of the user payload </td>
    </tr>
    <tr>
      <td>event_manifest </td>
      <td>The manifest used by event adapters </td>
    </tr>
    <tr>
      <td>event </td>
      <td>The serialized user payload </td>
    </tr>
  </tbody>
</table>
<p>Old columns, no longer needed but may be in your schema if you have used older versions of the plugin and migrated. See <a href="migrations.html">the migration guide</a> for when these have been removed.</p>
<table>
  <thead>
    <tr>
      <th>Column </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>used </td>
      <td>A static column to record that the artificial partition has been used to detected that all events in a partition have been deleted </td>
    </tr>
    <tr>
      <td>message </td>
      <td>Pre 0.6 serialized the PersistentRepr (an internal Akka type) into this column. Newer versions use event and serialize the user payload </td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>
<h2><a href="#configuration" name="configuration" class="anchor"><span class="anchor-link"></span></a>Configuration</h2>
<p>To activate the journal plugin, add the following line to your Akka <code>application.conf</code>:</p>
<pre><code>akka.persistence.journal.plugin = &quot;akka.persistence.cassandra.journal&quot;
</code></pre>
<p>This will run the journal with its default settings. The default settings can be changed with the configuration properties defined in <a href="configuration.html#default-configuration">reference.conf</a>. Journal configuration is under <code>akka.persistence.cassandra.journal</code>.</p>
<p>All Cassandra driver settings are via its <a href="https://docs.datastax.com/en/developer/java-driver/4.6/manual/core/configuration/">standard profile mechanism</a>.</p>
<p>One important setting is to configure the database driver to retry the initial connection:</p>
<p><code>datastax-java-driver.advanced.reconnect-on-init = true</code></p>
<p>It is not enabled automatically as it is in the driver&rsquo;s reference.conf and is not overridable in a profile.</p>
<h3><a href="#target-partition-size" name="target-partition-size" class="anchor"><span class="anchor-link"></span></a>Target partition size</h3>
<p>The messages table that stores the events is partitioned by <code>(persistence_id, partition_nr)</code>. The <code>partition_nr</code> is an artificial partition key to ensure that the Cassandra partition does not get too large if there are a lot of events for a single <code>persistence_id</code>.</p>
<p><code>akka.persistence.cassandra.journal.target-partition-size</code> controls the number of events that the journal tries to put in each Cassandra partition. It is a target as <code>persistAll</code> calls will have all the events in the same partition even if it will exceed the target partition size to ensure atomicity.</p>
<p>It is not possible to change the value once you have data so consider if the default of 500000 is right for your application before deploying to production. Multiply the value by your expected serialized event size to roughly work out how large the Cassandra partition will grow to. See <a href="https://thelastpickle.com/blog/2019/01/11/wide-partitions-cassandra-3-11.html">wide partitions in Cassandra</a> for a summary of how large a partition should be depending on the version of Cassandra you are using. </p>
<h3><a href="#consistency" name="consistency" class="anchor"><span class="anchor-link"></span></a>Consistency</h3>
<p>By default the journal uses <code>QUORUM</code> for all reads and writes. For setups with multiple datacenters this can set to <code>LOCAL_QUORUM</code> to avoid cross DC latency for writes and reads.</p>
<p>The risk of using <code>LOCAL_QUORUM</code> is that in the event of a datacenter outage events that have been confirmed and any side effects run may not have be replicated to the other datacenters. If a persistent actor for which this has happened is started in another datacenter it may not see the latest event if it wasn&rsquo;t replicated. If the Cassandra data in the datacenter with the outage is recovered then the event that was not replicated will eventually be replicated to all datacenters resulting in a duplicate sequence number. With the default <a href="https://doc.akka.io/docs/akka/current/typed/persistence.html#replay-filter"><code>replay-filter</code></a> the duplicate event from the original datacenter will is discarded in subsequent replays of the persistent actor.</p>
<p>Using <code>QUORUM</code> for multi datacenter setups increases latency and decreased availability as to reach <code>QUORUM</code> nodes in other datacenters need to respond. During a datacenter outage or a cross datacenter network partition this won&rsquo;t be possible resulting in failed reads and writes.</p>
<p>Using a consistency level other than <code>QUORUM</code> or <code>LOCAL_QUORUM</code> is highly discouraged.</p>
<pre><code>datastax-java-driver.profiles {
  akka-persistence-cassandra-profile {
    basic.request.consistency = QUORUM
  }
}
</code></pre>
<h2><a href="#delete-all-events" name="delete-all-events" class="anchor"><span class="anchor-link"></span></a>Delete all events</h2>
<p>The <span class="group-scala"><a href="/api/akka-persistence-cassandra/1.0.5/akka/persistence/cassandra/cleanup/Cleanup.html" title="akka.persistence.cassandra.cleanup.Cleanup"><code>Cleanup</code></a></span><span class="group-java"><a href="/api/akka-persistence-cassandra/1.0.5/akka/persistence/cassandra/cleanup/Cleanup.html" title="akka.persistence.cassandra.cleanup.Cleanup"><code>Cleanup</code></a></span> tool can be used for deleting all events and/or snapshots given list of <code>persistenceIds</code> without using persistent actors. It&rsquo;s important that the actors with corresponding <code>persistenceId</code> are not running at the same time as using the tool. See <a href="cleanup.html">Database Cleanup</a> for more details.</p>
</div>
</article>
<div class="row">
<div class="small-12 column">
<section class="nav-prev-next row">
<div class="nav-prev small-6 column">
<a href="overview.html"><i class="icon-prev"></i> <span class="link-prev">Overview</span></a>
</div>
<div class="nav-next small-6 column clearfix">
<a class="float-right" href="read-journal.html">Query Plugin <i class="icon-next"></i></a>
</div>
</section>
</div>
</div>
<div class="source-github row">
Found an error in this documentation? The source code for this page can be found <a href="https://github.com/akka/akka-persistence-cassandra/tree/v1.0.5/docs/src/main/paradox/journal.md">here</a>.
Please feel free to edit and contribute a pull request.
</div>

<footer class="page-footer row clearfix">
<img class="akka-icon float-left show-for-medium" src="images/akka-icon.svg" />
<section class="copyright">
<div>Akka Persistence Cassandra is Open Source and available under the Apache 2 License.</div>
<p class="legal">
&copy; 2011-2021 <a href="https://www.lightbend.com" target="_blank">Lightbend, Inc.</a> |
<a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> |
<a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> |
<a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a> |
<a href="https://akka.io/cookie/" target="_blank">Cookie Listing</a> |
<a class="optanon-toggle-display">Cookie Settings</a>
</p>
</section>

</footer>
</section>
</main>
</div>

<script type="text/javascript" src="js/scrollsneak.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="js/groups.js"></script>
<script type="text/javascript" src="js/page.js"></script>
<script type="text/javascript" src="js/magellan.js"></script>
<script type="text/javascript" src="js/metadata-toggle.js"></script>

<style type="text/css">@import "lib/prettify/prettify.css";</style>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(){window.prettyPrint && prettyPrint()});
//]]></script>
<script type="text/javascript" src="assets/js/warnOldVersion.js"></script>
<script type="text/javascript">//<![CDATA[
jQuery(function(jq){initOldVersionWarnings(jq, '1.0.5', 'https://doc.akka.io/docs/akka-persistence-cassandra/current/')});
//]]></script>


</body>
</html>
