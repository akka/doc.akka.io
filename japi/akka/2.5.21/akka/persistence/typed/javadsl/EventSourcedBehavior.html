<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.1) on Thu Feb 14 11:00:02 GMT 2019 -->
<title>EventSourcedBehavior</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-02-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EventSourcedBehavior";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":6,"i2":10,"i3":6,"i4":10,"i5":6,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?akka/persistence/typed/javadsl/EventSourcedBehavior.html" target="_top">Frames</a></li>
<li><a href="EventSourcedBehavior.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">akka.persistence.typed.javadsl</a></div>
<h2 title="Class EventSourcedBehavior" class="title">Class EventSourcedBehavior&lt;Command,&#8203;Event,&#8203;State&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../actor/typed/Behavior.html" title="class in akka.actor.typed">akka.actor.typed.Behavior</a>&lt;T&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../actor/typed/Behavior.DeferredBehavior.html" title="class in akka.actor.typed">akka.actor.typed.Behavior.DeferredBehavior</a>&lt;Command&gt;</li>
<li>
<ul class="inheritance">
<li>akka.persistence.typed.javadsl.EventSourcedBehavior&lt;Command,&#8203;Event,&#8203;State&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="EventSourcedBehaviorWithEnforcedReplies.html" title="class in akka.persistence.typed.javadsl">EventSourcedBehaviorWithEnforcedReplies</a></code>, <code><a href="../../../cluster/sharding/typed/javadsl/EventSourcedEntity.html" title="class in akka.cluster.sharding.typed.javadsl">EventSourcedEntity</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">EventSourcedBehavior&lt;Command,&#8203;Event,&#8203;State&gt;</span>
extends <a href="../../../actor/typed/Behavior.DeferredBehavior.html" title="class in akka.actor.typed">Behavior.DeferredBehavior</a>&lt;Command&gt;</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.akka.actor.typed.Behavior">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;akka.actor.typed.<a href="../../../actor/typed/Behavior.html" title="class in akka.actor.typed">Behavior</a></h3>
<code><a href="../../../actor/typed/Behavior.BehaviorDecorators.html" title="class in akka.actor.typed">Behavior.BehaviorDecorators</a>&lt;<a href="../../../actor/typed/Behavior.BehaviorDecorators.html" title="type parameter in Behavior.BehaviorDecorators">T</a>&gt;, <a href="../../../actor/typed/Behavior.BehaviorDecorators$.html" title="class in akka.actor.typed">Behavior.BehaviorDecorators$</a>, <a href="../../../actor/typed/Behavior.DeferredBehavior.html" title="class in akka.actor.typed">Behavior.DeferredBehavior</a>&lt;<a href="../../../actor/typed/Behavior.DeferredBehavior.html" title="type parameter in Behavior.DeferredBehavior">T</a>&gt;, <a href="../../../actor/typed/Behavior.DeferredBehavior$.html" title="class in akka.actor.typed">Behavior.DeferredBehavior$</a>, <a href="../../../actor/typed/Behavior.EmptyBehavior$.html" title="class in akka.actor.typed">Behavior.EmptyBehavior$</a>, <a href="../../../actor/typed/Behavior.FailedBehavior.html" title="class in akka.actor.typed">Behavior.FailedBehavior</a>, <a href="../../../actor/typed/Behavior.IgnoreBehavior$.html" title="class in akka.actor.typed">Behavior.IgnoreBehavior$</a>, <a href="../../../actor/typed/Behavior.SameBehavior$.html" title="class in akka.actor.typed">Behavior.SameBehavior$</a>, <a href="../../../actor/typed/Behavior.StoppedBehavior.html" title="class in akka.actor.typed">Behavior.StoppedBehavior</a>&lt;<a href="../../../actor/typed/Behavior.StoppedBehavior.html" title="type parameter in Behavior.StoppedBehavior">T</a>&gt;, <a href="../../../actor/typed/Behavior.StoppedBehavior$.html" title="class in akka.actor.typed">Behavior.StoppedBehavior$</a>, <a href="../../../actor/typed/Behavior.UnhandledBehavior$.html" title="class in akka.actor.typed">Behavior.UnhandledBehavior$</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(akka.persistence.typed.PersistenceId)">EventSourcedBehavior</a></span>&#8203;(<a href="../PersistenceId.html" title="class in akka.persistence.typed">PersistenceId</a>&nbsp;persistenceId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(akka.persistence.typed.PersistenceId,akka.actor.typed.BackoffSupervisorStrategy)">EventSourcedBehavior</a></span>&#8203;(<a href="../PersistenceId.html" title="class in akka.persistence.typed">PersistenceId</a>&nbsp;persistenceId,
                    <a href="../../../actor/typed/BackoffSupervisorStrategy.html" title="class in akka.actor.typed">BackoffSupervisorStrategy</a>&nbsp;onPersistFailure)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(akka.persistence.typed.PersistenceId,java.util.Optional)">EventSourcedBehavior</a></span>&#8203;(<a href="../PersistenceId.html" title="class in akka.persistence.typed">PersistenceId</a>&nbsp;persistenceId,
                    java.util.Optional&lt;<a href="../../../actor/typed/BackoffSupervisorStrategy.html" title="class in akka.actor.typed">BackoffSupervisorStrategy</a>&gt;&nbsp;onPersistFailure)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../actor/typed/Behavior.html" title="class in akka.actor.typed">Behavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#apply(akka.actor.typed.TypedActorContext)">apply</a></span>&#8203;(<a href="../../../actor/typed/TypedActorContext.html" title="interface in akka.actor.typed">TypedActorContext</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>&gt;&nbsp;context)</code></th>
<td class="colLast">
<div class="block">INTERNAL API: DeferredBehavior init</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected abstract <a href="CommandHandler.html" title="interface in akka.persistence.typed.javadsl">CommandHandler</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#commandHandler()">commandHandler</a></span>()</code></th>
<td class="colLast">
<div class="block">Implement by handling incoming commands and return an <code>Effect()</code> to persist or signal other effects
 of the command handling such as stopping the behavior or others.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="EffectFactories.html" title="class in akka.persistence.typed.javadsl">EffectFactories</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#Effect()">Effect</a></span>()</code></th>
<td class="colLast">
<div class="block">Factory of effects.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected abstract <a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#emptyState()">emptyState</a></span>()</code></th>
<td class="colLast">
<div class="block">Implement by returning the initial empty state object.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../EventAdapter.html" title="class in akka.persistence.typed">EventAdapter</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#eventAdapter()">eventAdapter</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected abstract <a href="EventHandler.html" title="interface in akka.persistence.typed.javadsl">EventHandler</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#eventHandler()">eventHandler</a></span>()</code></th>
<td class="colLast">
<div class="block">Implement by applying the event to the current state in order to return a new state.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected <a href="CommandHandlerBuilder.html" title="class in akka.persistence.typed.javadsl">CommandHandlerBuilder</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newCommandHandlerBuilder()">newCommandHandlerBuilder</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected <a href="EventHandlerBuilder.html" title="class in akka.persistence.typed.javadsl">EventHandlerBuilder</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newEventHandlerBuilder()">newEventHandlerBuilder</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onRecoveryCompleted(State)">onRecoveryCompleted</a></span>&#8203;(<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&nbsp;state)</code></th>
<td class="colLast">
<div class="block">The <code>callback</code> function is called to notify the actor that the recovery process
 is finished.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onRecoveryFailure(java.lang.Throwable)">onRecoveryFailure</a></span>&#8203;(java.lang.Throwable&nbsp;failure)</code></th>
<td class="colLast">
<div class="block">The <code>callback</code> function is called to notify the actor that the recovery process
 has failed</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onSnapshot(akka.persistence.SnapshotMetadata,java.util.Optional)">onSnapshot</a></span>&#8203;(<a href="../../SnapshotMetadata.html" title="class in akka.persistence">SnapshotMetadata</a>&nbsp;meta,
          java.util.Optional&lt;java.lang.Throwable&gt;&nbsp;result)</code></th>
<td class="colLast">
<div class="block">Override to get notified when a snapshot is finished.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../PersistenceId.html" title="class in akka.persistence.typed">PersistenceId</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#persistenceId()">persistenceId</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#shouldSnapshot(State,Event,long)">shouldSnapshot</a></span>&#8203;(<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&nbsp;state,
              <a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>&nbsp;event,
              long&nbsp;sequenceNr)</code></th>
<td class="colLast">
<div class="block">Initiates a snapshot if the given function returns true.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#snapshotEvery()">snapshotEvery</a></span>()</code></th>
<td class="colLast">
<div class="block">Override and define that snapshot should be saved every N events.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tagsFor(Event)">tagsFor</a></span>&#8203;(<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>&nbsp;event)</code></th>
<td class="colLast">
<div class="block">The <code>tagger</code> function should give event tags, which will be used in persistence query</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.akka.actor.typed.Behavior">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;akka.actor.typed.<a href="../../../actor/typed/Behavior.html" title="class in akka.actor.typed">Behavior</a></h3>
<code><a href="../../../actor/typed/Behavior.html#BehaviorDecorators(akka.actor.typed.Behavior)">BehaviorDecorators</a>, <a href="../../../actor/typed/Behavior.html#canonicalize(akka.actor.typed.Behavior,akka.actor.typed.Behavior,akka.actor.typed.TypedActorContext)">canonicalize</a>, <a href="../../../actor/typed/Behavior.html#empty()">empty</a>, <a href="../../../actor/typed/Behavior.html#existsInStack(akka.actor.typed.Behavior,scala.Function1)">existsInStack</a>, <a href="../../../actor/typed/Behavior.html#failed(java.lang.Throwable)">failed</a>, <a href="../../../actor/typed/Behavior.html#ignore()">ignore</a>, <a href="../../../actor/typed/Behavior.html#interpretMessage(akka.actor.typed.Behavior,akka.actor.typed.TypedActorContext,T)">interpretMessage</a>, <a href="../../../actor/typed/Behavior.html#interpretMessages(akka.actor.typed.Behavior,akka.actor.typed.TypedActorContext,scala.collection.Iterator)">interpretMessages</a>, <a href="../../../actor/typed/Behavior.html#interpretSignal(akka.actor.typed.Behavior,akka.actor.typed.TypedActorContext,akka.actor.typed.Signal)">interpretSignal</a>, <a href="../../../actor/typed/Behavior.html#isAlive(akka.actor.typed.Behavior)">isAlive</a>, <a href="../../../actor/typed/Behavior.html#isDeferred(akka.actor.typed.Behavior)">isDeferred</a>, <a href="../../../actor/typed/Behavior.html#isUnhandled(akka.actor.typed.Behavior)">isUnhandled</a>, <a href="../../../actor/typed/Behavior.html#narrow()">narrow</a>, <a href="../../../actor/typed/Behavior.html#orElse(akka.actor.typed.Behavior)">orElse</a>, <a href="../../../actor/typed/Behavior.html#same()">same</a>, <a href="../../../actor/typed/Behavior.html#start(akka.actor.typed.Behavior,akka.actor.typed.TypedActorContext)">start</a>, <a href="../../../actor/typed/Behavior.html#stopped()">stopped</a>, <a href="../../../actor/typed/Behavior.html#stopped(akka.actor.typed.Behavior)">stopped</a>, <a href="../../../actor/typed/Behavior.html#unhandled()">unhandled</a>, <a href="../../../actor/typed/Behavior.html#unhandledSignal()">unhandledSignal</a>, <a href="../../../actor/typed/Behavior.html#unsafeCast()">unsafeCast</a>, <a href="../../../actor/typed/Behavior.html#validateAsInitial(akka.actor.typed.Behavior)">validateAsInitial</a>, <a href="../../../actor/typed/Behavior.html#wrap(akka.actor.typed.Behavior,akka.actor.typed.Behavior,akka.actor.typed.TypedActorContext,scala.Function1)">wrap</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(akka.persistence.typed.PersistenceId,java.util.Optional)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EventSourcedBehavior</h4>
<pre>public&nbsp;EventSourcedBehavior&#8203;(<a href="../PersistenceId.html" title="class in akka.persistence.typed">PersistenceId</a>&nbsp;persistenceId,
                            java.util.Optional&lt;<a href="../../../actor/typed/BackoffSupervisorStrategy.html" title="class in akka.actor.typed">BackoffSupervisorStrategy</a>&gt;&nbsp;onPersistFailure)</pre>
</li>
</ul>
<a id="&lt;init&gt;(akka.persistence.typed.PersistenceId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EventSourcedBehavior</h4>
<pre>public&nbsp;EventSourcedBehavior&#8203;(<a href="../PersistenceId.html" title="class in akka.persistence.typed">PersistenceId</a>&nbsp;persistenceId)</pre>
</li>
</ul>
<a id="&lt;init&gt;(akka.persistence.typed.PersistenceId,akka.actor.typed.BackoffSupervisorStrategy)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EventSourcedBehavior</h4>
<pre>public&nbsp;EventSourcedBehavior&#8203;(<a href="../PersistenceId.html" title="class in akka.persistence.typed">PersistenceId</a>&nbsp;persistenceId,
                            <a href="../../../actor/typed/BackoffSupervisorStrategy.html" title="class in akka.actor.typed">BackoffSupervisorStrategy</a>&nbsp;onPersistFailure)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="Effect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Effect</h4>
<pre class="methodSignature">protected final&nbsp;<a href="EffectFactories.html" title="class in akka.persistence.typed.javadsl">EffectFactories</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;Effect()</pre>
<div class="block">Factory of effects.
 <p>
 Return effects from your handlers in order to instruct persistence on how to act on the incoming message (i.e. persist events).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a id="apply(akka.actor.typed.TypedActorContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apply</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../actor/typed/Behavior.html" title="class in akka.actor.typed">Behavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>&gt;&nbsp;apply&#8203;(<a href="../../../actor/typed/TypedActorContext.html" title="interface in akka.actor.typed">TypedActorContext</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>&gt;&nbsp;context)</pre>
<div class="block">INTERNAL API: DeferredBehavior init</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../actor/typed/Behavior.DeferredBehavior.html#apply(akka.actor.typed.TypedActorContext)">apply</a></code>&nbsp;in class&nbsp;<code><a href="../../../actor/typed/Behavior.DeferredBehavior.html" title="class in akka.actor.typed">Behavior.DeferredBehavior</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - (undocumented)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a id="commandHandler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commandHandler</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="CommandHandler.html" title="interface in akka.persistence.typed.javadsl">CommandHandler</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;commandHandler()</pre>
<div class="block">Implement by handling incoming commands and return an <code>Effect()</code> to persist or signal other effects
 of the command handling such as stopping the behavior or others.
 <p>
 The command handlers are only invoked when the actor is running (i.e. not replaying).
 While the actor is persisting events, the incoming messages are stashed and only
 delivered to the handler once persisting them has completed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a id="emptyState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>emptyState</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&nbsp;emptyState()</pre>
<div class="block">Implement by returning the initial empty state object.
 This object will be passed into this behaviors handlers, until a new state replaces it.
 <p>
 Also known as "zero state" or "neutral state".</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a id="eventAdapter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eventAdapter</h4>
<pre class="methodSignature">public&nbsp;<a href="../EventAdapter.html" title="class in akka.persistence.typed">EventAdapter</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;?&gt;&nbsp;eventAdapter()</pre>
</li>
</ul>
<a id="eventHandler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eventHandler</h4>
<pre class="methodSignature">protected abstract&nbsp;<a href="EventHandler.html" title="interface in akka.persistence.typed.javadsl">EventHandler</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>&gt;&nbsp;eventHandler()</pre>
<div class="block">Implement by applying the event to the current state in order to return a new state.
 <p>
 The event handlers are invoked during recovery as well as running operation of this behavior,
 in order to keep updating the state state.
 <p>
 For that reason it is strongly discouraged to perform side-effects in this handler;
 Side effects should be executed in <code>andThen</code> or <code>recoveryCompleted</code> blocks.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a id="newCommandHandlerBuilder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newCommandHandlerBuilder</h4>
<pre class="methodSignature">protected final&nbsp;<a href="CommandHandlerBuilder.html" title="class in akka.persistence.typed.javadsl">CommandHandlerBuilder</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Command</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&gt;&nbsp;newCommandHandlerBuilder()</pre>
</li>
</ul>
<a id="newEventHandlerBuilder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEventHandlerBuilder</h4>
<pre class="methodSignature">protected final&nbsp;<a href="EventHandlerBuilder.html" title="class in akka.persistence.typed.javadsl">EventHandlerBuilder</a>&lt;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>,&#8203;<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>&gt;&nbsp;newEventHandlerBuilder()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new, mutable, event handler builder</dd>
</dl>
</li>
</ul>
<a id="onRecoveryCompleted(java.lang.Object)">
<!--   -->
</a><a id="onRecoveryCompleted(State)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRecoveryCompleted</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onRecoveryCompleted&#8203;(<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&nbsp;state)</pre>
<div class="block">The <code>callback</code> function is called to notify the actor that the recovery process
 is finished.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - (undocumented)</dd>
</dl>
</li>
</ul>
<a id="onRecoveryFailure(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onRecoveryFailure</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onRecoveryFailure&#8203;(java.lang.Throwable&nbsp;failure)</pre>
<div class="block">The <code>callback</code> function is called to notify the actor that the recovery process
 has failed</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>failure</code> - (undocumented)</dd>
</dl>
</li>
</ul>
<a id="onSnapshot(akka.persistence.SnapshotMetadata,java.util.Optional)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onSnapshot</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;onSnapshot&#8203;(<a href="../../SnapshotMetadata.html" title="class in akka.persistence">SnapshotMetadata</a>&nbsp;meta,
                       java.util.Optional&lt;java.lang.Throwable&gt;&nbsp;result)</pre>
<div class="block">Override to get notified when a snapshot is finished.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>result</code> - None if successful otherwise contains the exception thrown when snapshotting</dd>
<dd><code>meta</code> - (undocumented)</dd>
</dl>
</li>
</ul>
<a id="persistenceId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persistenceId</h4>
<pre class="methodSignature">public&nbsp;<a href="../PersistenceId.html" title="class in akka.persistence.typed">PersistenceId</a>&nbsp;persistenceId()</pre>
</li>
</ul>
<a id="shouldSnapshot(java.lang.Object,java.lang.Object,long)">
<!--   -->
</a><a id="shouldSnapshot(State,Event,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldSnapshot</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;shouldSnapshot&#8203;(<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">State</a>&nbsp;state,
                              <a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>&nbsp;event,
                              long&nbsp;sequenceNr)</pre>
<div class="block">Initiates a snapshot if the given function returns true.
 When persisting multiple events at once the snapshot is triggered after all the events have
 been persisted.
 <p>
 receives the State, Event and the sequenceNr used for the Event
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - (undocumented)</dd>
<dd><code>event</code> - (undocumented)</dd>
<dd><code>sequenceNr</code> - (undocumented)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if snapshot should be saved for the given event</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#snapshotEvery()"><code>snapshotEvery()</code></a></dd>
</dl>
</li>
</ul>
<a id="snapshotEvery()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshotEvery</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;snapshotEvery()</pre>
<div class="block">Override and define that snapshot should be saved every N events.
 <p>
 If this is overridden <code>shouldSnapshot</code> is not used.
 <p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>number of events between snapshots, should be greater than 0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#shouldSnapshot(State,Event,long)"><code>shouldSnapshot(State, Event, long)</code></a></dd>
</dl>
</li>
</ul>
<a id="tagsFor(java.lang.Object)">
<!--   -->
</a><a id="tagsFor(Event)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>tagsFor</h4>
<pre class="methodSignature">public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;tagsFor&#8203;(<a href="EventSourcedBehavior.html" title="type parameter in EventSourcedBehavior">Event</a>&nbsp;event)</pre>
<div class="block">The <code>tagger</code> function should give event tags, which will be used in persistence query</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - (undocumented)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?akka/persistence/typed/javadsl/EventSourcedBehavior.html" target="_top">Frames</a></li>
<li><a href="EventSourcedBehavior.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
