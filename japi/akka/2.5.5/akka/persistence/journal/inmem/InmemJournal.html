<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_141) on Fri Sep 29 11:58:09 CEST 2017 -->
<title>InmemJournal</title>
<meta name="date" content="2017-09-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InmemJournal";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../akka/persistence/journal/inmem/InmemMessages.html" title="interface in akka.persistence.journal.inmem"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?akka/persistence/journal/inmem/InmemJournal.html" target="_top">Frames</a></li>
<li><a href="InmemJournal.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">akka.persistence.journal.inmem</div>
<h2 title="Class InmemJournal" class="title">Class InmemJournal</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>akka.persistence.journal.inmem.InmemJournal</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../akka/actor/Actor.html" title="interface in akka.actor">Actor</a>, <a href="../../../../akka/persistence/journal/AsyncRecovery.html" title="interface in akka.persistence.journal">AsyncRecovery</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html" title="interface in akka.persistence.journal">AsyncWriteJournal</a>, <a href="../../../../akka/persistence/journal/inmem/InmemMessages.html" title="interface in akka.persistence.journal.inmem">InmemMessages</a>, <a href="../../../../akka/persistence/journal/WriteJournalBase.html" title="interface in akka.persistence.journal">WriteJournalBase</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">InmemJournal</span>
extends java.lang.Object
implements <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html" title="interface in akka.persistence.journal">AsyncWriteJournal</a>, <a href="../../../../akka/persistence/journal/inmem/InmemMessages.html" title="interface in akka.persistence.journal.inmem">InmemMessages</a></pre>
<div class="block">INTERNAL API.
 <p>
 In-memory journal for testing purposes only.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.akka.persistence.journal.AsyncWriteJournal">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;akka.persistence.journal.<a href="../../../../akka/persistence/journal/AsyncWriteJournal.html" title="interface in akka.persistence.journal">AsyncWriteJournal</a></h3>
<code><a href="../../../../akka/persistence/journal/AsyncWriteJournal.Desequenced.html" title="class in akka.persistence.journal">AsyncWriteJournal.Desequenced</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.Desequenced$.html" title="class in akka.persistence.journal">AsyncWriteJournal.Desequenced$</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.Resequencer.html" title="class in akka.persistence.journal">AsyncWriteJournal.Resequencer</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.akka.actor.Actor">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;akka.actor.<a href="../../../../akka/actor/Actor.html" title="interface in akka.actor">Actor</a></h3>
<code><a href="../../../../akka/actor/Actor.emptyBehavior$.html" title="class in akka.actor">Actor.emptyBehavior$</a>, <a href="../../../../akka/actor/Actor.ignoringBehavior$.html" title="class in akka.actor">Actor.ignoringBehavior$</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../akka/persistence/journal/inmem/InmemJournal.html#InmemJournal--">InmemJournal</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>scala.concurrent.Future&lt;scala.runtime.BoxedUnit&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../akka/persistence/journal/inmem/InmemJournal.html#asyncDeleteMessagesTo-java.lang.String-long-">asyncDeleteMessagesTo</a></span>(java.lang.String&nbsp;persistenceId,
                     long&nbsp;toSequenceNr)</code>
<div class="block">Plugin API: asynchronously deletes all persistent messages up to <code>toSequenceNr</code>
 (inclusive).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>scala.concurrent.Future&lt;java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../akka/persistence/journal/inmem/InmemJournal.html#asyncReadHighestSequenceNr-java.lang.String-long-">asyncReadHighestSequenceNr</a></span>(java.lang.String&nbsp;persistenceId,
                          long&nbsp;fromSequenceNr)</code>
<div class="block">Plugin API: asynchronously reads the highest stored sequence number for the
 given <code>persistenceId</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>scala.concurrent.Future&lt;scala.runtime.BoxedUnit&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../akka/persistence/journal/inmem/InmemJournal.html#asyncReplayMessages-java.lang.String-long-long-long-scala.Function1-">asyncReplayMessages</a></span>(java.lang.String&nbsp;persistenceId,
                   long&nbsp;fromSequenceNr,
                   long&nbsp;toSequenceNr,
                   long&nbsp;max,
                   scala.Function1&lt;<a href="../../../../akka/persistence/PersistentRepr.html" title="interface in akka.persistence">PersistentRepr</a>,scala.runtime.BoxedUnit&gt;&nbsp;recoveryCallback)</code>
<div class="block">Plugin API: asynchronously replays persistent messages.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>scala.concurrent.Future&lt;scala.collection.immutable.Seq&lt;scala.util.Try&lt;scala.runtime.BoxedUnit&gt;&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../akka/persistence/journal/inmem/InmemJournal.html#asyncWriteMessages-scala.collection.immutable.Seq-">asyncWriteMessages</a></span>(scala.collection.immutable.Seq&lt;<a href="../../../../akka/persistence/AtomicWrite.html" title="class in akka.persistence">AtomicWrite</a>&gt;&nbsp;messages)</code>
<div class="block">Plugin API: asynchronously writes a batch (<code>Seq</code>) of persistent messages to the
 journal.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.akka.persistence.journal.AsyncWriteJournal">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;akka.persistence.journal.<a href="../../../../akka/persistence/journal/AsyncWriteJournal.html" title="interface in akka.persistence.journal">AsyncWriteJournal</a></h3>
<code><a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#breaker--">breaker</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#config--">config</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#extension--">extension</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#isReplayFilterEnabled--">isReplayFilterEnabled</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#publish--">publish</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#receive--">receive</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#receivePluginInternal--">receivePluginInternal</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#receiveWriteJournal--">receiveWriteJournal</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#replayFilterMaxOldWriters--">replayFilterMaxOldWriters</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#replayFilterMode--">replayFilterMode</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#replayFilterWindowSize--">replayFilterWindowSize</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#resequencer--">resequencer</a>, <a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#resequencerCounter--">resequencerCounter</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.akka.actor.Actor">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;akka.actor.<a href="../../../../akka/actor/Actor.html" title="interface in akka.actor">Actor</a></h3>
<code><a href="../../../../akka/actor/Actor.html#aroundPostRestart-java.lang.Throwable-">aroundPostRestart</a>, <a href="../../../../akka/actor/Actor.html#aroundPostStop--">aroundPostStop</a>, <a href="../../../../akka/actor/Actor.html#aroundPreRestart-java.lang.Throwable-scala.Option-">aroundPreRestart</a>, <a href="../../../../akka/actor/Actor.html#aroundPreStart--">aroundPreStart</a>, <a href="../../../../akka/actor/Actor.html#aroundReceive-scala.PartialFunction-java.lang.Object-">aroundReceive</a>, <a href="../../../../akka/actor/Actor.html#context--">context</a>, <a href="../../../../akka/actor/Actor.html#postRestart-java.lang.Throwable-">postRestart</a>, <a href="../../../../akka/actor/Actor.html#postStop--">postStop</a>, <a href="../../../../akka/actor/Actor.html#preRestart-java.lang.Throwable-scala.Option-">preRestart</a>, <a href="../../../../akka/actor/Actor.html#preStart--">preStart</a>, <a href="../../../../akka/actor/Actor.html#self--">self</a>, <a href="../../../../akka/actor/Actor.html#sender--">sender</a>, <a href="../../../../akka/actor/Actor.html#supervisorStrategy--">supervisorStrategy</a>, <a href="../../../../akka/actor/Actor.html#unhandled-java.lang.Object-">unhandled</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.akka.persistence.journal.WriteJournalBase">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;akka.persistence.journal.<a href="../../../../akka/persistence/journal/WriteJournalBase.html" title="interface in akka.persistence.journal">WriteJournalBase</a></h3>
<code><a href="../../../../akka/persistence/journal/WriteJournalBase.html#adaptFromJournal-akka.persistence.PersistentRepr-">adaptFromJournal</a>, <a href="../../../../akka/persistence/journal/WriteJournalBase.html#adaptToJournal-akka.persistence.PersistentRepr-">adaptToJournal</a>, <a href="../../../../akka/persistence/journal/WriteJournalBase.html#eventAdapters--">eventAdapters</a>, <a href="../../../../akka/persistence/journal/WriteJournalBase.html#persistence--">persistence</a>, <a href="../../../../akka/persistence/journal/WriteJournalBase.html#preparePersistentBatch-scala.collection.immutable.Seq-">preparePersistentBatch</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.akka.persistence.journal.inmem.InmemMessages">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;akka.persistence.journal.inmem.<a href="../../../../akka/persistence/journal/inmem/InmemMessages.html" title="interface in akka.persistence.journal.inmem">InmemMessages</a></h3>
<code><a href="../../../../akka/persistence/journal/inmem/InmemMessages.html#add-akka.persistence.PersistentRepr-">add</a>, <a href="../../../../akka/persistence/journal/inmem/InmemMessages.html#delete-java.lang.String-long-">delete</a>, <a href="../../../../akka/persistence/journal/inmem/InmemMessages.html#highestSequenceNr-java.lang.String-">highestSequenceNr</a>, <a href="../../../../akka/persistence/journal/inmem/InmemMessages.html#messages--">messages</a>, <a href="../../../../akka/persistence/journal/inmem/InmemMessages.html#read-java.lang.String-long-long-long-">read</a>, <a href="../../../../akka/persistence/journal/inmem/InmemMessages.html#safeLongToInt-long-">safeLongToInt</a>, <a href="../../../../akka/persistence/journal/inmem/InmemMessages.html#update-java.lang.String-long-scala.Function1-">update</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="InmemJournal--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InmemJournal</h4>
<pre>public&nbsp;InmemJournal()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="asyncWriteMessages-scala.collection.immutable.Seq-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncWriteMessages</h4>
<pre>public&nbsp;scala.concurrent.Future&lt;scala.collection.immutable.Seq&lt;scala.util.Try&lt;scala.runtime.BoxedUnit&gt;&gt;&gt;&nbsp;asyncWriteMessages(scala.collection.immutable.Seq&lt;<a href="../../../../akka/persistence/AtomicWrite.html" title="class in akka.persistence">AtomicWrite</a>&gt;&nbsp;messages)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#asyncWriteMessages-scala.collection.immutable.Seq-">AsyncWriteJournal</a></code></span></div>
<div class="block">Plugin API: asynchronously writes a batch (<code>Seq</code>) of persistent messages to the
 journal.
 <p>
 The batch is only for performance reasons, i.e. all messages don't have to be written
 atomically. Higher throughput can typically be achieved by using batch inserts of many
 records compared to inserting records one-by-one, but this aspect depends on the
 underlying data store and a journal implementation can implement it as efficient as
 possible. Journals should aim to persist events in-order for a given <code>persistenceId</code>
 as otherwise in case of a failure, the persistent state may be end up being inconsistent.
 <p>
 Each <code>AtomicWrite</code> message contains the single <code>PersistentRepr</code> that corresponds to
 the event that was passed to the <code>persist</code> method of the <code>PersistentActor</code>, or it
 contains several <code>PersistentRepr</code> that corresponds to the events that were passed
 to the <code>persistAll</code> method of the <code>PersistentActor</code>. All <code>PersistentRepr</code> of the
 <code>AtomicWrite</code> must be written to the data store atomically, i.e. all or none must
 be stored. If the journal (data store) cannot support atomic writes of multiple
 events it should reject such writes with a <code>Try</code> <code>Failure</code> with an
 <code>UnsupportedOperationException</code> describing the issue. This limitation should
 also be documented by the journal plugin.
 <p>
 If there are failures when storing any of the messages in the batch the returned
 <code>Future</code> must be completed with failure. The <code>Future</code> must only be completed with
 success when all messages in the batch have been confirmed to be stored successfully,
 i.e. they will be readable, and visible, in a subsequent replay. If there is
 uncertainty about if the messages were stored or not the <code>Future</code> must be completed
 with failure.
 <p>
 Data store connection problems must be signaled by completing the <code>Future</code> with
 failure.
 <p>
 The journal can also signal that it rejects individual messages (<code>AtomicWrite</code>) by
 the returned <code>immutable.Seq[Try[Unit}</code>. It is possible but not mandatory to reduce
 number of allocations by returning <code>Future.successful(Nil)</code> for the happy path,
 i.e. when no messages are rejected. Otherwise the returned <code>Seq</code> must have as many elements
 as the input <code>messages</code> <code>Seq</code>. Each <code>Try</code> element signals if the corresponding
 <code>AtomicWrite</code> is rejected or not, with an exception describing the problem. Rejecting
 a message means it was not stored, i.e. it must not be included in a later replay.
 Rejecting a message is typically done before attempting to store it, e.g. because of
 serialization error.
 <p>
 Data store connection problems must not be signaled as rejections.
 <p>
 It is possible but not mandatory to reduce number of allocations by returning
 <code>Future.successful(Nil)</code> for the happy path, i.e. when no messages are rejected.
 <p>
 Calls to this method are serialized by the enclosing journal actor. If you spawn
 work in asynchronous tasks it is alright that they complete the futures in any order,
 but the actual writes for a specific persistenceId should be serialized to avoid
 issues such as events of a later write are visible to consumers (query side, or replay)
 before the events of an earlier write are visible.
 A PersistentActor will not send a new WriteMessages request before the previous one
 has been completed.
 <p>
 Please note that the <code>sender</code> field of the contained PersistentRepr objects has been
 nulled out (i.e. set to <code>ActorRef.noSender</code>) in order to not use space in the journal
 for a sender reference that will likely be obsolete during replay.
 <p>
 Please also note that requests for the highest sequence number may be made concurrently
 to this call executing for the same <code>persistenceId</code>, in particular it is possible that
 a restarting actor tries to recover before its outstanding writes have completed. In
 the latter case it is highly desirable to defer reading the highest sequence number
 until all outstanding writes have completed, otherwise the PersistentActor may reuse
 sequence numbers.
 <p>
 This call is protected with a circuit-breaker.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#asyncWriteMessages-scala.collection.immutable.Seq-">asyncWriteMessages</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../akka/persistence/journal/AsyncWriteJournal.html" title="interface in akka.persistence.journal">AsyncWriteJournal</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messages</code> - (undocumented)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a name="asyncReadHighestSequenceNr-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncReadHighestSequenceNr</h4>
<pre>public&nbsp;scala.concurrent.Future&lt;java.lang.Object&gt;&nbsp;asyncReadHighestSequenceNr(java.lang.String&nbsp;persistenceId,
                                                                            long&nbsp;fromSequenceNr)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../akka/persistence/journal/AsyncRecovery.html#asyncReadHighestSequenceNr-java.lang.String-long-">AsyncRecovery</a></code></span></div>
<div class="block">Plugin API: asynchronously reads the highest stored sequence number for the
 given <code>persistenceId</code>. The persistent actor will use the highest sequence
 number after recovery as the starting point when persisting new events.
 This sequence number is also used as <code>toSequenceNr</code> in subsequent call
 to <a href="../../../../akka/persistence/journal/AsyncRecovery.html#asyncReplayMessages-java.lang.String-long-long-long-scala.Function1-"><code>AsyncRecovery.asyncReplayMessages(java.lang.String, long, long, long, scala.Function1&lt;akka.persistence.PersistentRepr, scala.runtime.BoxedUnit&gt;)</code></a> unless the user has specified a lower <code>toSequenceNr</code>.
 Journal must maintain the highest sequence number and never decrease it.
 <p>
 This call is protected with a circuit-breaker.
 <p>
 Please also note that requests for the highest sequence number may be made concurrently
 to writes executing for the same <code>persistenceId</code>, in particular it is possible that
 a restarting actor tries to recover before its outstanding writes have completed.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../akka/persistence/journal/AsyncRecovery.html#asyncReadHighestSequenceNr-java.lang.String-long-">asyncReadHighestSequenceNr</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../akka/persistence/journal/AsyncRecovery.html" title="interface in akka.persistence.journal">AsyncRecovery</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>persistenceId</code> - persistent actor id.</dd>
<dd><code>fromSequenceNr</code> - hint where to start searching for the highest sequence
                       number. When a persistent actor is recovering this
                       <code>fromSequenceNr</code> will be the sequence number of the used
                       snapshot or <code>0L</code> if no snapshot is used.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
<a name="asyncReplayMessages-java.lang.String-long-long-long-scala.Function1-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncReplayMessages</h4>
<pre>public&nbsp;scala.concurrent.Future&lt;scala.runtime.BoxedUnit&gt;&nbsp;asyncReplayMessages(java.lang.String&nbsp;persistenceId,
                                                                            long&nbsp;fromSequenceNr,
                                                                            long&nbsp;toSequenceNr,
                                                                            long&nbsp;max,
                                                                            scala.Function1&lt;<a href="../../../../akka/persistence/PersistentRepr.html" title="interface in akka.persistence">PersistentRepr</a>,scala.runtime.BoxedUnit&gt;&nbsp;recoveryCallback)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../akka/persistence/journal/AsyncRecovery.html#asyncReplayMessages-java.lang.String-long-long-long-scala.Function1-">AsyncRecovery</a></code></span></div>
<div class="block">Plugin API: asynchronously replays persistent messages. Implementations replay
 a message by calling <code>replayCallback</code>. The returned future must be completed
 when all messages (matching the sequence number bounds) have been replayed.
 The future must be completed with a failure if any of the persistent messages
 could not be replayed.
 <p>
 The <code>replayCallback</code> must also be called with messages that have been marked
 as deleted. In this case a replayed message's <code>deleted</code> method must return
 <code>true</code>.
 <p>
 The <code>toSequenceNr</code> is the lowest of what was returned by <a href="../../../../akka/persistence/journal/AsyncRecovery.html#asyncReadHighestSequenceNr-java.lang.String-long-"><code>AsyncRecovery.asyncReadHighestSequenceNr(java.lang.String, long)</code></a>
 and what the user specified as recovery <a href="../../../../akka/persistence/Recovery.html" title="class in akka.persistence"><code>Recovery</code></a> parameter.
 This does imply that this call is always preceded by reading the highest sequence
 number for the given <code>persistenceId</code>.
 <p>
 This call is NOT protected with a circuit-breaker because it may take long time
 to replay all events. The plugin implementation itself must protect against
 an unresponsive backend store and make sure that the returned Future is
 completed with success or failure within reasonable time. It is not allowed
 to ignore completing the future.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../akka/persistence/journal/AsyncRecovery.html#asyncReplayMessages-java.lang.String-long-long-long-scala.Function1-">asyncReplayMessages</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../akka/persistence/journal/AsyncRecovery.html" title="interface in akka.persistence.journal">AsyncRecovery</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>persistenceId</code> - persistent actor id.</dd>
<dd><code>fromSequenceNr</code> - sequence number where replay should start (inclusive).</dd>
<dd><code>toSequenceNr</code> - sequence number where replay should end (inclusive).</dd>
<dd><code>max</code> - maximum number of messages to be replayed.</dd>
<dd><code>recoveryCallback</code> - called to replay a single message. Can be called from any
                       thread.
 <p></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../akka/persistence/journal/AsyncWriteJournal.html" title="interface in akka.persistence.journal"><code>AsyncWriteJournal</code></a></dd>
</dl>
</li>
</ul>
<a name="asyncDeleteMessagesTo-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>asyncDeleteMessagesTo</h4>
<pre>public&nbsp;scala.concurrent.Future&lt;scala.runtime.BoxedUnit&gt;&nbsp;asyncDeleteMessagesTo(java.lang.String&nbsp;persistenceId,
                                                                              long&nbsp;toSequenceNr)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#asyncDeleteMessagesTo-java.lang.String-long-">AsyncWriteJournal</a></code></span></div>
<div class="block">Plugin API: asynchronously deletes all persistent messages up to <code>toSequenceNr</code>
 (inclusive).
 <p>
 This call is protected with a circuit-breaker.
 Message deletion doesn't affect the highest sequence number of messages, journal must maintain the highest sequence number and never decrease it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../akka/persistence/journal/AsyncWriteJournal.html#asyncDeleteMessagesTo-java.lang.String-long-">asyncDeleteMessagesTo</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../akka/persistence/journal/AsyncWriteJournal.html" title="interface in akka.persistence.journal">AsyncWriteJournal</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>persistenceId</code> - (undocumented)</dd>
<dd><code>toSequenceNr</code> - (undocumented)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>(undocumented)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../akka/persistence/journal/inmem/InmemMessages.html" title="interface in akka.persistence.journal.inmem"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?akka/persistence/journal/inmem/InmemJournal.html" target="_top">Frames</a></li>
<li><a href="InmemJournal.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
